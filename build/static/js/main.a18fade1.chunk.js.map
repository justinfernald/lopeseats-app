{"version":3,"sources":["assets/images/lopeseatboxlogo.png","assets/images/lock.svg","assets/scripts/Util.js","components/Input.js","components/LoginScreen.js","components/RegisterScreen.js","components/RegisterProcess/RegisterStep.js","components/RegisterProcess/ImageUploader.js","components/RegisterProcess/PersonalInformation.js","components/RegisterProcess/VerifyPhone.js","components/RegisterProcess/PhoneConfirm.js","components/ForgotPassword.js","components/HomeScreen.js","components/FloatingCartButton.js","components/HoursList.js","components/QuickScreens/RestaurantsList.js","components/Selector.js","components/QuickScreens/RestaurantDetails.js","components/QuickScreens/OrderTracker.js","components/QuickScreens/IncomingOrders.js","components/QuickScreens/ActiveOrders.js","components/OrderProcess/CheckoutScreen.js","components/OrderProcess/DeliveryDetails.js","components/DeliveryProcess/OrderScreen.js","components/DeliveryProcess/PaymentScreen.js","components/Cart.js","components/MessageScreen.js","components/ScreenHandler.js","MessageListener.js","App.js","serviceWorker.js","index.js","assets/images/phone-icon.png","assets/images/lopeseaticon.png","assets/images/eye-grey.svg","assets/images/eye-purple.svg","assets/images/blank.png","assets/images/gcu-lopesway.jpg","assets/images/search-grey.svg"],"names":["module","exports","registerAccount","phone","firstName","lastName","email","studentNumber","password","profileImage","a","postData","name","id","resendCode","loginAccount","verifyCode","code","success","showErrors","errors","divElement","document","createElement","errorListElement","error","childElement","classList","add","innerText","append","body","setTimeout","removeChild","length","getScreenHandler","window","getScreenState","state","i","url","data","formData","FormData","fetch","method","mode","cache","response","json","phoneNumberTaken","phoneNumber","addBackStep","history","pushState","location","href","getRestaurants","console","getMenu","restaurantID","addCartItem","apiToken","amount","comment","items","log","JSON","stringify","getCart","getCartPrices","formatPrice","price","priceS","toString","includes","indexOf","repeat","substring","loadState","parse","localStorage","getItem","updateFBToken","token","sendPayment","nonce","address","getOrder","getOrderItems","getMessages","orderId","sendMessage","message","getIncomingOrderList","getActiveOrderList","updateOrderState","getOrderPaymentInfo","LoginScreen","props","className","this","icon","src","alt","placeholder","type","maxLength","passedProps","ref","passedRef","onKeyPress","e","key","clipboardData","getData","keyCode","which","String","fromCharCode","test","returnValue","preventDefault","onInput","target","getAttribute","value","defaultValue","showHidden","onClick","onShow","GreyEye","PurpleEye","React","Component","toggleShowPassword","setState","showPassword","onSignIn","phoneNumberRef","current","passwordRef","doesContain","text","chars","c","input","match","isPhoneNumber","push","loginData","msg","onNotConfirmed","fbToken","onLogin","checkToken","createRef","formSwitch","require","Phone","autoComplete","Lock","onForgotPassword","style","height","RegisterScreen","confirmPassword","passwordConfirmRef","proceedRegistration","RegisterStep","noBack","onBackStep","onNextStep","customHeader","step","part","total","ImageUploader","onImageUpload","file","files","Compressor","convertSize","quality","result","urlCreator","URL","webkitURL","image","Image","createObjectURL","canvas","width","ctx","getContext","onload","sourceX","sourceY","sourceWidth","sourceHeight","destX","destWidth","destY","destHeight","drawImage","toDataURL","onUpload","err","BlankImage","onChange","accept","PersonalInformation","firstNameRef","lastNameRef","emailRef","studentNumberRef","VerifyPhone","PhoneConfirm","bypass","codeRef","replace","slice","elements","Array","map","index","size","pattern","spellCheck","autoCorrect","autoCapitalize","ForgotPassword","HomeScreen","tiles","title","screen","switchModes","onMenuItemClick","LopesWayImage","deliveryMode","changeScreen","tileNavigation","FloatingCartButton","HoursList","time","splitTime","split","hourTime","parseInt","date","Date","toLocaleString","timeZone","restaurantData","order","currentTime","output","pastDay","getDay","weekDay","sameDay","currentlyOpen","open","timeSlot","undefined","hours","timeIndex","times","splitStartTime","start","x","startTime","setHours","endTimeString","end","splitEndTime","endTime","setDate","getDate","getTime","pastHours","lastHour","formatTime","RestaurantsList","sortType","ALPHA","WAITTIME","COST","restaurants","onlyOpen","flipOrder","sortBy","sortedRestaurants","searchFilter","fetchData","forceUpdate","sort","b","localeCompare","removeSpecial","normalize","trim","startingFilter","filter","toLowerCase","startsWith","containingFilter","Set","isOpen","wait","cost","reverse","onBack","SearchIcon","sortRestaurants","openRestaurantScreen","logo","onCartClick","Selector","onSelection","choice","toggleDropdown","optionsRef","toggle","option","default","choices","populate","MapObject","_x","fn","RestaurantDetails","onContentScroll","currentTarget","scrollLevel","scrollTop","bannerHeight","Math","round","getElementById","paddingTop","openItem","item","selectedItem","closeItem","addToCart","instructions","optionsChosen","calculatePrice","forEach","options","j","menuData","food","opacity","pointerEvents","tags","choiceIndex","specialInstructions","banner","onScroll","description","featured","setScreen","OrderTracker","orderStates","orderState","placed","claimed","enroute","arrived","listenerId","messageListener","addListener","removeListener","dateString","t","d","UTC","makePHXTime","getHours","suffix","minutes","getMinutes","parseDate","en_route","content","footer","display","onMessageClick","IncomingOrders","orders","openOrderScreen","restaurant_name","ActiveOrders","CheckoutScreen","fee","clientToken","prices","delivery_fee","instance","isPaymentMethodRequestable","requestPaymentMethod","paymentComplete","authorization","paypal","venmo","onInstance","position","bottom","pay","bind","DeliveryDetails","addressRef","OrderScreen","updateState","button","claimOrder","openPayment","completeOrder","PaymentScreen","studentId","student_id","deliverer_image","Cart","subtotal","tax","MessageScreen","days","selfId","selfName","otherId","otherName","messages","messageRef","TimeAgo","addLocale","en","timeAgo","messageEnd","scrollIntoView","messagesJSX","prevMessage","sender","formatDate","float","clear","el","ScreenHandler","eventCallback","addHistory","screenHistory","backScreen","setBack","back","pop","baseScreen","newHistory","registerData","currentRestaurant","currentMenu","currentOrder","addEventListener","setItem","Screens","Login","newState","Register","restaurant","menu","Message","MessageListener","callbacks","callback","splice","App","firebase","messaging","isSupported","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","usePublicVapidKey","Notification","requestPermission","then","permission","getToken","setToken","catch","onMessage","payload","messageReceived","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","process","origin","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"yGAAAA,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,kC,+JCA9BC,EAAe,uCAAG,WAAOC,EAAOC,EAAWC,EAAUC,EAAOC,EAAeC,EAAUC,GAAnE,SAAAC,EAAA,sEAChBC,EAAS,uCAAwC,CAC5DC,KAAMR,EAAY,IAAMC,EACxBQ,GAAIN,EACJD,MAAOA,EACPH,MAAOA,EACPK,SAAUA,EACVC,aAAcA,IAPa,mFAAH,kEAWfK,EAAU,uCAAG,WAAMX,GAAN,SAAAO,EAAA,sEACXC,EAAS,2CAA4C,CAChER,MAAOA,IAFe,mFAAH,sDAMVY,EAAY,uCAAG,WAAOZ,EAAOK,GAAd,SAAAE,EAAA,sEACbC,EAAS,sCAAuC,CAC3DR,MAAOA,EACPK,SAAUA,IAHc,mFAAH,wDAOZQ,EAAU,uCAAG,WAAOb,EAAOc,GAAd,SAAAP,EAAA,sEACVC,EAAS,+CAAiDR,EAAQ,UAAYc,GADpE,uCAC2EC,SAD3E,2CAAH,wDAIVC,EAAa,SAAAC,GACxB,IAAIC,EAAaC,SAASC,cAAc,OACpCC,EAAmBF,SAASC,cAAc,OAFZ,uBAIlC,YAAkBH,EAAlB,+CAA0B,CAAC,IAAlBK,EAAiB,QACpBC,EAAeJ,SAASC,cAAc,OAC1CG,EAAaC,UAAUC,IAAI,aAC3BF,EAAaG,UAAYJ,EACzBD,EAAiBM,OAAOJ,IARQ,kFAWlCL,EAAWM,UAAUC,IAAI,gBACzBJ,EAAiBG,UAAUC,IAAI,aAE/BP,EAAWS,OAAON,GAClBF,SAASS,KAAKD,OAAOT,GAErBW,YAAW,WACTV,SAASS,KAAKE,YAAYZ,KACzB,IAAO,IAAOD,EAAOc,SAGbC,EAAmB,kBAAMC,OAAOD,oBAEhCE,EAAiB,kBAAMF,IAAmBG,OAI1C3B,EAAQ,uCAAG,gDAAAD,EAAA,sDAGtB,IAAS6B,KAHoBC,EAAP,+BAAa,GAAIC,EAAjB,+BAAwB,GAC1CC,EAAW,IAAIC,SAELF,EACZC,EAASZ,OAAOS,EAAGE,EAAKF,IAJJ,gBAQCK,MAAMJ,EAAK,CAChCK,OAAQ,OACRC,KAAM,OACNC,MAAO,cAUPhB,KAAMW,IArBc,cAQhBM,EARgB,gBAwBTA,EAASC,OAxBA,oFAAH,qDA2BRC,EAAgB,uCAAG,WAAMC,GAAN,SAAAzC,EAAA,+EAEfC,EAAS,mDAAqDwC,GAF/C,kGAIrB,GAJqB,wDAAH,sDAQhBC,EAAc,WACzBhB,OAAOiB,QAAQC,UAAU,KAAM,KAAMlB,OAAOmB,SAASC,OAU1CC,EAAc,uCAAG,sBAAA/C,EAAA,+EAEbC,EAAS,6CAFI,wEAI1B+C,QAAQjC,MAAR,MAJ0B,wDAAH,qDAQdkC,EAAO,uCAAG,WAAMC,GAAN,SAAAlD,EAAA,+EAENC,EAAS,0CAA4CiD,GAF/C,wEAInBF,QAAQjC,MAAR,MAJmB,wDAAH,sDAQPoC,EAAW,uCAAG,WAAOC,EAAUjD,EAAIkD,EAAQC,EAASC,GAAtC,SAAAvD,EAAA,6DACzBgD,QAAQQ,IAAIC,KAAKC,UAAUH,IADF,kBAGVtD,EAAS,gDAAD,OAAiDE,EAAjD,mBAA8DkD,EAA9D,oBAAgFC,EAAhF,oBAAmGG,KAAKC,UAAUH,IAAU,CAC/IH,SAAUA,IAJW,wEAOvBJ,QAAQjC,MAAR,MAPuB,yDAAH,8DAWX4C,EAAO,uCAAG,WAAMP,GAAN,SAAApD,EAAA,+EAENC,EAAS,0CAA2C,CAC/DmD,SAAUA,IAHO,wEAMnBJ,QAAQjC,MAAR,MANmB,wDAAH,sDAUP6C,EAAa,uCAAG,WAAMR,GAAN,SAAApD,EAAA,+EAEZC,EAAS,0CAA2C,CAC/DmD,SAAUA,IAHa,wEAMzBJ,QAAQjC,MAAR,MANyB,wDAAH,sDAUb8C,EAAc,SAAAC,GACvB,IAAIC,EAASD,EAAME,WACnB,OAAKD,EAAOE,SAAS,KAGjBF,EAAOvC,OAASuC,EAAOG,QAAQ,MAAQ,EAChCH,EAAU,IAAKI,OAAOJ,EAAOvC,OAASuC,EAAOG,QAAQ,KAAO,GAEhEH,EAAOK,UAAU,EAAEL,EAAOG,QAAQ,KAAO,GALrCH,EAAS,OAgBXM,EAAY,SAAAlE,GACvB,OAAOsD,KAAKa,MAAMC,aAAaC,QAAQ,eAAiBrE,KAG7CsE,EAAa,uCAAG,WAAOC,EAAOtB,GAAd,SAAApD,EAAA,sDAC3BC,EAAS,2CAA4C,CACnDyE,MAAOA,EACPtB,SAAUA,IAHe,2CAAH,wDAObuB,EAAW,uCAAG,WAAOC,EAAOC,EAASzB,GAAvB,SAAApD,EAAA,sEAEVC,EAAS,0CAA2C,CAC/D2E,MAAOA,EACPC,QAASA,EACTzB,SAAUA,IALW,mFAAH,0DAYX0B,EAAQ,uCAAG,WAAO1B,GAAP,2BAAApD,EAAA,6DAAiBG,EAAjB,gCAAqB,EAArB,SACTF,EAAS,2CAAmD,GAAPE,EAAW,OAASA,EAAK,IAAK,CAC9FiD,SAAUA,IAFU,mFAAH,sDAMR2B,EAAa,uCAAG,WAAO3B,EAAUjD,GAAjB,SAAAH,EAAA,sEACdC,EAAS,+CAAiDE,EAAI,CACzEiD,SAAUA,IAFe,mFAAH,wDAMb4B,EAAW,uCAAG,WAAO5B,EAAU6B,GAAjB,SAAAjF,EAAA,sEACZC,EAAS,qDAAuDgF,EAAS,CACpF7B,SAAUA,IAFa,mFAAH,wDAMX8B,EAAW,uCAAG,WAAO9B,EAAU6B,EAASE,GAA1B,SAAAnF,EAAA,sEACZC,EAAS,qDAAuDgF,EAAS,CACpF7B,SAAUA,EACV+B,QAASA,IAHc,mFAAH,0DAOXC,EAAoB,uCAAG,WAAOhC,GAAP,SAAApD,EAAA,sEACrBC,EAAS,uDAAwD,CAC5EmD,SAAUA,IAFsB,mFAAH,sDAMpBiC,EAAkB,uCAAG,WAAOjC,GAAP,SAAApD,EAAA,sEACnBC,EAAS,kEAAmE,CACvFmD,SAAUA,IAFoB,mFAAH,sDAMlBkC,EAAgB,uCAAG,WAAOlC,EAAU6B,EAASrD,GAA1B,SAAA5B,EAAA,sEACjBC,EAAS,qDAAuDgF,EAAU,UAAYrD,EAAO,CACxGwB,SAAUA,IAFkB,mFAAH,0DAMhBmC,EAAmB,uCAAG,WAAOnC,EAAU6B,GAAjB,SAAAjF,EAAA,sEACpBC,EAAS,6DAA+DgF,EAAS,CAC5F7B,SAAUA,IAFqB,mFAAH,wD,kCCtOXoC,E,YAGjB,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACD7D,MAAQ,GAFE,E,mKAcf,OACI,yBAAK8D,UAAW,YAAeC,KAAKF,MAAMC,UAAa,IAAMC,KAAKF,MAAMC,UAAY,KAC/EC,KAAKF,MAAMG,MAAQ,yBAAKF,UAAU,cAAa,yBAAKG,IAAKF,KAAKF,MAAMG,KAAME,IAAKH,KAAKF,MAAMM,eACtE,QAApBJ,KAAKF,MAAMO,MAAsC,WAApBL,KAAKF,MAAMO,KACzC,yCAAOC,UAAU,MAASN,KAAKF,MAAMS,YAArC,CAAkDC,IAAKR,KAAKF,MAAMW,UAAWJ,KAAML,KAAKF,MAAMO,KAAMD,YAAaJ,KAAKF,MAAMM,YAAaM,WAAY,SAAAC,GACjJ,IAAIC,EAEW,UAAXD,EAAEN,KACFO,EAAMD,EAAEE,cAAcC,QAAQ,eAE9BF,EAAMD,EAAEI,SAAWJ,EAAEK,MACrBJ,EAAMK,OAAOC,aAAaN,IAElB,WACFO,KAAKP,KACXD,EAAES,aAAc,EACbT,EAAEU,gBAAgBV,EAAEU,mBAI/BC,QACI,SAAAX,GACI,GAAIA,EAAEY,OAAOC,aAAa,aAAc,CACpC,IAAIlB,EAAiD,EAArCK,EAAEY,OAAOC,aAAa,aACtCb,EAAEY,OAAOE,MAAQd,EAAEY,OAAOE,MAAMhD,UAAU,EAAG6B,QAMzD,2CAAWN,KAAKF,MAAMS,YAAtB,CAAmCC,IAAKR,KAAKF,MAAMW,UAAWJ,KAAML,KAAKF,MAAMO,KAAMD,YAAaJ,KAAKF,MAAMM,YAAasB,aAAc1B,KAAKF,MAAM4B,gBAClJ1B,KAAKF,MAAM6B,YACZ,yBAAK5B,UAAU,sBAAsB6B,QAAS5B,KAAKF,MAAM+B,QAAQ,yBAAK1B,IAAI,gBAAgBD,IAA+B,QAA1BF,KAAKF,MAAM6B,WAAuBG,IAAUC,Y,GAjDlHC,IAAMC,W,kCCE1BpC,E,YAGjB,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAwBVoC,mBAAqB,WACjB,EAAKC,SAAS,CAACC,cAAe,EAAKnG,MAAMmG,gBA1B1B,EAqCnBC,SArCmB,sBAqCR,oCAAAhI,EAAA,6DACHyC,EAAc,EAAKwF,eAAeC,QAAQd,MAC1CtH,EAAW,EAAKqI,YAAYD,QAAQd,MAEzB,uDACD,aAEV1G,EAAS,GAET0H,EAAc,SAACC,EAAMC,GAAW,IAAD,uBAC/B,YAAcD,EAAd,+CAAoB,CAAC,IAAZE,EAAW,QAChB,GAAID,EAAMrE,SAASsE,GAAI,OAAO,GAFH,kFAI/B,OAAO,GAGS,SAAAC,GAEhB,OAAOA,EAAMC,MADI,YAKhBC,CAAcjG,IACf/B,EAAOiI,KAAK,wBAGZ7I,EAAS0B,OAAS,GAClBd,EAAOiI,KAAK,mDAGVP,EAAYtI,EA1BH,yDA0B0BsI,EAAYtI,EAzBvC,eA0BVY,EAAOiI,KAAK,0CA/BT,UAiCetI,EAAaoC,EAAa3C,GAjCzC,WAiCH8I,EAjCG,OAkCe,IAAlBlI,EAAOc,QAAiBoH,EAAUpI,QAlC/B,oBAmCmB,0BAAlBoI,EAAUC,IAnCX,wBAoCC,EAAKpD,MAAMqD,eAAerG,GAC1BrC,EAAWqC,GArCZ,2BAwCH/B,EAAOiI,KAAK,iBAxCT,QA2CP3F,QAAQQ,IAAI9C,GAEU,IAAlBA,EAAOc,QACPiD,EAAc,EAAKgB,MAAMsD,QAASH,EAAUC,KAC5C,EAAKpD,MAAMuD,QAAQJ,EAAUC,MAE7BpI,EAAW,CAAC,kBAjDT,4CAlCH,EAAKgF,MAAMrC,UACX,EAAK6F,WAAW,EAAKxD,MAAMrC,UAG/B,EAAKxB,MAAQ,CACTmG,cAAc,GAElB,EAAKE,eAAiBN,IAAMuB,YAC5B,EAAKf,YAAcR,IAAMuB,YAXV,E,iHAcFxE,G,wEACb1B,QAAQQ,IAAI,WAAakB,G,SAEfzE,EAAS,2CAA4C,CAC3DmD,SAAUsB,I,kCAEVD,EAAckB,KAAKF,MAAMsD,QAASpD,KAAKF,MAAMrC,UAC7CuC,KAAKF,MAAMuD,QAAQrD,KAAKF,MAAMrC,U,mOAwElC,OACI,yBAAKsC,UAAU,gBACX,yBAAKA,UAAU,mBAAmB6B,QAAS5B,KAAKF,MAAM0D,YAAtD,YAGA,yBAAKzD,UAAU,cACX,yBAAKI,IAAI,gBAAgBD,IAAKuD,EAAQ,IAAsC1D,UAAU,eAE1F,yBAAKA,UAAU,aACX,yBAAKA,UAAU,cACX,0CAEJ,yBAAKA,UAAU,aACX,kBAAC,EAAD,CAAOE,KAAMyD,IAAOjD,UAAWT,KAAKsC,eAAgBqB,aAAa,gBAAgBvD,YAAY,eAAeC,KAAK,QACjH,kBAAC,EAAD,CAAON,UAAU,SAASU,UAAWT,KAAKwC,YAAavC,KAAM2D,IAAMjC,WAAa3B,KAAK/D,MAAMmG,aAAuB,KAAR,MAAcP,OAAQ7B,KAAKkC,mBAAoByB,aAAa,mBAAmBtD,KAAOL,KAAK/D,MAAMmG,aAA4B,OAAb,WAAqBhC,YAAY,aAE3P,yBAAKwB,QAAS5B,KAAKF,MAAM+D,iBAAkB9D,UAAU,kBAArD,oBAGA,yBAAK+D,MAAO,CAACC,OAAQ,UACrB,4BAAQhE,UAAU,eAAe6B,QAAS5B,KAAKqC,UAA/C,kB,GApHiBL,IAAMC,WCC1B+B,G,YAGjB,WAAYlE,GAAQ,IAAD,8BACf,4CAAMA,KAiBVoC,mBAAqB,WACjB,EAAKC,SAAS,CAACC,cAAe,EAAKnG,MAAMmG,gBAnB1B,EAsBnBvI,gBAtBmB,sBAsBD,oCAAAQ,EAAA,yDAEVyC,EAAc,EAAKwF,eAAeC,QAAQd,MAC1CtH,EAAW,EAAKqI,YAAYD,QAAQd,MACpCwC,EAAkB,EAAKC,mBAAmB3B,QAAQd,MAElD1G,EAAS,GAEE,uDACD,aAEV0H,EAAc,SAACC,EAAMC,GAAW,IAAD,uBAC/B,YAAcD,EAAd,+CAAoB,CAAC,IAAZE,EAAW,QAChB,GAAID,EAAMrE,SAASsE,GAAI,OAAO,GAFH,kFAI/B,OAAO,GAGS,SAAAC,GAEhB,OAAOA,EAAMC,MADI,YAKhBC,CAAcjG,IACf/B,EAAOiI,KAAK,wBAGZ7I,IAAa8J,GACblJ,EAAOiI,KAAK,0BAGZ7I,EAAS0B,OAAS,GAClBd,EAAOiI,KAAK,mDAGVP,EAAYtI,EA5BH,yDA4B0BsI,EAAYtI,EA3BvC,eA4BVY,EAAOiI,KAAK,0CArCF,KAwCQ,IAAlBjI,EAAOc,QAxCG,uCAwCmBgB,EAAiBC,GAxCpC,sDAyCV/B,EAAOiI,KAAK,0CAzCF,QA4Cd3F,QAAQQ,IAAI9C,GAEU,IAAlBA,EAAOc,OACP,EAAKsI,oBAAoBrH,EAAa3C,GAEtCW,EAAWC,GAjDD,4CApBd,EAAKkB,MAAQ,CACTmG,cAAc,GAElB,EAAKE,eAAiBN,IAAMuB,YAC5B,EAAKf,YAAcR,IAAMuB,YACzB,EAAKW,mBAAqBlC,IAAMuB,YAPjB,E,8KA6ECzG,EAAa3C,GAC7B6F,KAAKF,MAAMqE,oBAAoBrH,EAAa3C,K,+BAM5C,OACI,yBAAK4F,UAAU,gBACX,yBAAKA,UAAU,mBAAmB6B,QAAS5B,KAAKF,MAAM0D,YAAtD,WAGA,yBAAKzD,UAAU,cACX,yBAAKI,IAAI,gBAAgBD,IAAKuD,EAAQ,IAAsC1D,UAAU,eAE1F,yBAAKA,UAAU,aACX,yBAAKA,UAAU,cACX,2CAEJ,yBAAKA,UAAU,aACX,kBAAC,EAAD,CAAOU,UAAWT,KAAKsC,eAAgBrC,KAAMyD,IAAOC,aAAa,gBAAgBvD,YAAY,eAAeC,KAAK,QACjH,kBAAC,EAAD,CAAOI,UAAWT,KAAKwC,YAAavC,KAAM2D,IAAMjC,WAAa3B,KAAK/D,MAAMmG,aAAuB,KAAR,MAAcP,OAAQ7B,KAAKkC,mBAAoByB,aAAa,mBAAmBtD,KAAOL,KAAK/D,MAAMmG,aAA4B,OAAb,WAAqBhC,YAAY,aACxO,kBAAC,EAAD,CAAOK,UAAWT,KAAKkE,mBAAoBjE,KAAM2D,IAAMjC,WAAa3B,KAAK/D,MAAMmG,aAAuB,KAAR,MAAcP,OAAQ7B,KAAKkC,mBAAoByB,aAAa,mBAAmBtD,KAAOL,KAAK/D,MAAMmG,aAA4B,OAAb,WAAqBhC,YAAY,qBAC/O,4BAAQL,UAAU,eAAe6B,QAAS5B,KAAKnG,iBAA/C,mB,GAvGoBmI,IAAMC,WCJ7BmC,G,YAGjB,WAAYtE,GAAQ,IAAD,8BACf,4CAAMA,KACD7D,MAAQ,GAFE,E,mKAcf,OACI,yBAAK8D,UAAU,kBACX,yBAAKA,UAAY,oBACXC,KAAKF,MAAMuE,QAAU,uBAAGtE,UAAU,uBAAuB6B,QAAS5B,KAAKF,MAAMwE,YAAxD,kBACvB,yBAAKvE,UAAU,iBAAiB6B,QAAS5B,KAAKF,MAAMyE,YAApD,SAEJ,yBAAKxE,UAAU,uBACX,yBAAKA,UAAU,oBACVC,KAAKF,MAAM0E,cAAgB,YAE/BxE,KAAKF,MAAM2E,MACZ,yBAAK1E,UAAU,wBAAf,QACUC,KAAKF,MAAM2E,KAAKC,KAD1B,IACiC1E,KAAKF,MAAM2E,KAAKE,a,GA7B3B3C,IAAMC,W,wCCC3B2C,G,YAGjB,WAAY9E,GAAQ,IAAD,8BACf,4CAAMA,KAYV+E,cAAgB,SAAAlE,GACZ,IAAMmE,EAAOnE,EAAEY,OAAOwD,MAAM,GAEvBD,GAIL,IAAIE,KAAWF,EAAM,CACjBG,YAAa,IACbC,QAAS,GACTrK,QAAS,SAACsK,GACN,IAAIC,EAAarJ,OAAOsJ,KAAOtJ,OAAOuJ,UAClCC,EAAQ,IAAIC,MAChBD,EAAMrF,IAAMkF,EAAWK,gBAAgBN,GAEvC,IAAIO,EAASzK,SAASC,cAAc,UACpCwK,EAAOC,MAAQ,IACfD,EAAO3B,OAAS,IAEhB,IAAI6B,EAAMF,EAAOG,WAAW,MAE5BN,EAAMO,OAAS,WACX,IAAIC,EAAUR,EAAMI,MAAQJ,EAAMxB,QAAUwB,EAAMI,MAAQJ,EAAMxB,QAAU,EAAI,EAC1EiC,EAAUT,EAAMxB,OAASwB,EAAMI,OAASJ,EAAMxB,OAASwB,EAAMI,OAAS,EAAI,EAC1EM,EAAcV,EAAMI,MAAQJ,EAAMxB,OAASwB,EAAMxB,OAASwB,EAAMI,MAChEO,EAAeD,EAGfE,EAAQT,EAAOC,MAAQ,EAAIS,IAC3BC,EAAQX,EAAO3B,OAAS,EAAIuC,IAChCV,EAAIW,UAAUhB,EAAOQ,EAASC,EAASC,EAAaC,EAAcC,EAAOE,EAJzD,IACC,KAKjB,EAAKlE,SAAS,CAACoD,MAAOG,EAAOc,UAAU,gBACvC,EAAK1G,MAAM2G,SAASf,EAAOc,UAAU,iBAG7CpL,MA7BiB,SA6BXsL,QA/CV,EAAKzK,MAAQ,GAFE,E,mKAwDf,OACI,yBAAK8D,UAAU,0CACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,gBAAgBG,IAAKF,KAAKF,MAAMyF,OAASoB,KAAYxG,IAAI,MACtEH,KAAKF,MAAMyF,OAAS,yBAAKxF,UAAU,cACrC,2BAAO6G,SAAU5G,KAAK6E,cAAe9E,UAAU,cAAcM,KAAK,OAAOwG,OAAO,kB,GAhEzD7E,IAAMC,WCE5B6E,G,YAGjB,WAAYhH,GAAQ,IAAD,8BACf,4CAAMA,KAkBVwE,WAAa,WACT,EAAKxE,MAAMwE,cApBI,EAuBnBC,WAAa,WACT,IAAIxJ,EAAS,GACTX,EAAe,EAAK6B,MAAM7B,aAC1BL,EAAY,EAAKgN,aAAaxE,QAAQd,MACtCzH,EAAW,EAAKgN,YAAYzE,QAAQd,MACpCxH,EAAQ,EAAKgN,SAAS1E,QAAQd,MAC9BvH,EAAgB,EAAKgN,iBAAiB3E,QAAQd,MAM7CrH,GACDW,EAAOiI,KAAK,4BAES,IAArBjJ,EAAU8B,QACVd,EAAOiI,KAAK,uBAEQ,IAApBhJ,EAAS6B,QACTd,EAAOiI,KAAK,sBAVL,gDAAgD7B,KAY3ClH,IACZc,EAAOiI,KAAK,iBAEa,IAAzB9I,EAAc2B,QACdd,EAAOiI,KAAK,0BAGM,IAAlBjI,EAAOc,OACP,EAAKiE,MAAMyE,WAAWxK,EAAWC,EAAUC,EAAOC,EAAeE,GAEjEU,EAAWC,IAtDA,EA0DnB0L,SAAW,SAAArK,GACP,EAAK+F,SAAS,CAAC/H,aAAcgC,KAzD7B,EAAKH,MAAQ,CACT7B,aAAc,MAElB,EAAK2M,aAAe/E,IAAMuB,YAC1B,EAAKyD,YAAchF,IAAMuB,YACzB,EAAK0D,SAAWjF,IAAMuB,YACtB,EAAK2D,iBAAmBlF,IAAMuB,YARf,E,mKA+Df,OACI,yBAAKxD,UAAU,0BACX,kBAAC,GAAD,CAAc0E,KAAM,CAACC,KAAM,EAAGC,MAAO,GAAIJ,WAAYvE,KAAKuE,WAAYD,WAAYtE,KAAKsE,aACvF,yBAAKvE,UAAU,sBAAf,wBACA,yBAAKA,UAAU,0CACX,yBAAKA,UAAU,kDAAiD,kBAAC,GAAD,CAAewF,MAAOvF,KAAK/D,MAAM7B,aAAcqM,SAAUzG,KAAKyG,YAC9H,yBAAK1G,UAAU,gBACX,yBAAKA,UAAU,SAAf,cACA,kBAAC,EAAD,CAAOU,UAAWT,KAAK+G,aAAc3G,YAAY,YAErD,yBAAKL,UAAU,gBACX,yBAAKA,UAAU,SAAf,aACA,kBAAC,EAAD,CAAOU,UAAWT,KAAKgH,YAAa5G,YAAY,eAEpD,yBAAKL,UAAU,gBACX,yBAAKA,UAAU,SAAf,SACA,kBAAC,EAAD,CAAOU,UAAWT,KAAKiH,SAAU7G,YAAY,2BAEjD,yBAAKL,UAAU,gBACX,yBAAKA,UAAU,SAAf,kBACA,kBAAC,EAAD,CAAOU,UAAWT,KAAKkH,iBAAkB9G,YAAY,WAAWC,KAAK,SAASE,YAAa,CAACD,UAAW,Y,GAtF9E0B,IAAMC,WCAlCkF,G,YAGjB,WAAYrH,GAAQ,IAAD,8BACf,4CAAMA,KAaVyE,WAdmB,sBAcN,8BAAAlK,EAAA,yDACLU,EAAS,GACT+B,EAAc,EAAKwF,eAAeC,QAAQd,MAE9CpE,QAAQQ,IAAI,EAAKyE,eAAeC,SAChClF,QAAQQ,IAAI,EAAKyE,eAAeC,QAAQd,OAGpB,SAAAoB,GAEhB,OAAOA,EAAMC,MADI,YAKhBC,CAAcjG,IACf/B,EAAOiI,KAAK,wBAfP,KAkBa,IAAlBjI,EAAOc,QAlBF,uCAkBwBgB,EAAiBC,GAlBzC,sDAmBL/B,EAAOiI,KAAK,0CAnBP,QAsBa,IAAlBjI,EAAOc,OACP,EAAKiE,MAAMyE,WAAWzH,GAEtBhC,EAAWC,GAzBN,4CAdM,EA2CnBuJ,WAAa,WACT,EAAKxE,MAAMwE,cA1CX,EAAKrI,MAAQ,GACb,EAAKqG,eAAiBN,IAAMuB,YAHb,E,mKAgDf,OACI,yBAAKxD,UAAU,0BACX,kBAAC,GAAD,CAAc0E,KAAM,CAACC,KAAM,EAAGC,MAAO,GAAIJ,WAAYvE,KAAKuE,WAAYD,WAAYtE,KAAKsE,aACvF,yBAAKvE,UAAU,sBAAf,gBACA,yBAAKA,UAAU,0CACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,SAAf,wBACA,kBAAC,EAAD,CAAOU,UAAWT,KAAKsC,eAAgB/B,YAAa,CAACmB,aAAc1B,KAAKF,MAAMhG,OAAQmG,KAAMyD,IAAOC,aAAa,gBAAgBvD,YAAY,eAAeC,KAAK,e,GA1D/I2B,IAAMC,WCF1BmF,G,YAGjB,WAAYtH,GAAQ,IAAD,8BACf,4CAAMA,KAgBVyE,WAjBmB,uCAiBN,wCAAAlK,EAAA,yDAAOgN,EAAP,qCACLA,EADK,qCACW1M,EAAW,EAAKmF,MAAMhG,MAAO,EAAKwN,QAAQ7F,OADrD,oDAEL,EAAK3B,MAAMyE,aAFN,wBAILzJ,EAAW,CAAC,iBAJP,4CAjBM,uDAyBnB8L,SAzBmB,uCAyBR,WAAMjG,GAAN,SAAAtG,EAAA,yDACPsG,EAAEY,OAAOE,MAAMd,EAAEY,OAAOE,MAAM8F,QAAQ,gBAAgB,IACtD5G,EAAEY,OAAOE,MAAQd,EAAEY,OAAOE,MAAM+F,MAAM,EAAE,GACpC7G,EAAEY,OAAOE,QAAU,EAAKxF,MAAMrB,KAH3B,oBAIH,EAAKuH,SAAS,CAACvH,KAAM+F,EAAEY,OAAOE,QAJ3B,KAK2B,IAA1Bd,EAAEY,OAAOE,MAAM5F,QALhB,qCAKsClB,EAAW,EAAKmF,MAAMhG,MAAO6G,EAAEY,OAAOE,OAL5E,oDAMC,EAAK8C,YAAW,GANjB,4CAzBQ,sDAEf,EAAKtI,MAAQ,CACTrB,KAAM,IAGV,EAAK0M,QAAUtF,IAAMuB,YANN,E,mKAqCf,IAAIkE,EAAQ,YAAWzH,KAAK/D,MAAMrB,MAAtB,mBAAgC8M,MAAM,EAAE1H,KAAK/D,MAAMrB,KAAKiB,UACpE,OACI,yBAAKkE,UAAU,0BACX,kBAAC,GAAD,CAAc0E,KAAM,CAACC,KAAM,EAAGC,MAAO,GAAIN,QAAM,EAACE,WAAYvE,KAAKuE,aACjE,yBAAKxE,UAAU,sBAAf,gBACA,yBAAKA,UAAU,8BACX,qEAA2CC,KAAKF,MAAMhG,OACtD,wEACA,yBAAKiG,UAAU,2BACX,yBAAKA,UAAU,cACV0H,EAASE,KAAI,SAAClG,EAAOmG,GAClB,OAAO,yBAAK7H,UAAW,sBAAwB0B,EAAQ,UAAY,IAAKb,IAAKgH,GAAQnG,MAEzF,2BAAOjB,IAAKR,KAAKsH,QAASvH,UAAU,eAAeuB,QAAStB,KAAK4G,SAAUvG,KAAK,SAASC,UAAU,IAAIuH,KAAK,IAAIC,QAAQ,WAAWnE,aAAa,gBAAgBoE,WAAW,QAAQC,YAAY,MAAMC,eAAe,gB,GArDtMjG,IAAMC,WCE3BiG,G,YAGjB,WAAYpI,GAAQ,IAAD,8BACf,4CAAMA,KAcVoC,mBAAqB,WACjB,EAAKC,SAAS,CAACC,cAAe,EAAKnG,MAAMmG,gBAdzC,EAAKnG,MAAQ,CACTmG,cAAc,GAHH,E,mKAoBf,OACI,yBAAKrC,UAAU,0BACX,kBAAC,GAAD,CAAcyE,aAAa,YAC3B,yBAAKzE,UAAU,sBAAf,kBACA,yBAAKA,UAAU,0CACX,kBAAC,EAAD,CAAOE,KAAM2D,IAAMjC,WAAa3B,KAAK/D,MAAMmG,aAAuB,KAAR,MAAcP,OAAQ7B,KAAKkC,mBAAoByB,aAAa,mBAAmBtD,KAAOL,KAAK/D,MAAMmG,aAA4B,OAAb,WAAqBhC,YAAY,iBAC3M,kBAAC,EAAD,CAAOH,KAAM2D,IAAMjC,WAAa3B,KAAK/D,MAAMmG,aAAuB,KAAR,MAAcP,OAAQ7B,KAAKkC,mBAAoByB,aAAa,mBAAmBtD,KAAOL,KAAK/D,MAAMmG,aAA4B,OAAb,WAAqBhC,YAAY,qBAE3M,4BAAQL,UAAU,gBAAlB,yB,GA/BwBiC,IAAMC,W,oBCF7BkG,G,YAGjB,WAAYrI,GAAQ,IAAD,8BACf,4CAAMA,KACD7D,MAAQ,CACTmG,cAAc,GAGlB,EAAKgG,MAAQ,CAET,CAAC,CACGC,MAAO,kBACPpI,KAAM,cAEV,CACIoI,MAAO,gBACPpI,KAAM,SAEV,CACIoI,MAAO,gBAEPpI,KAAM,kBAEV,CACIoI,MAAO,iBACPpI,KAAM,iBAEV,CACIoI,MAAO,mBACPpI,KAAM,UAEV,CACIoI,MAAO,UACPpI,KAAM,WAGV,CAAC,CACGoI,MAAO,cACPpI,KAAM,cAEV,CACIoI,MAAO,gBACPpI,KAAM,SAEV,CACIoI,MAAO,gBAEPpI,KAAM,kBAEV,CACIoI,MAAO,gBACPpI,KAAM,iBAEV,CACIoI,MAAO,iBACPpI,KAAM,UAEV,CACIoI,MAAO,UACPpI,KAAM,YAzDC,E,uKAqENqI,GACM,eAAXA,EACAtI,KAAKF,MAAMyI,cAEXvI,KAAKF,MAAM0I,gBAAgBF,K,+BAGzB,IAAD,OACL,OACI,yBAAKvI,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAMI,IAAI,YAAYD,IAAKuI,OAC3B,yBAAK1I,UAAU,kBACf,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,cAAcC,KAAKF,MAAM4I,aAAe,cAAgB,cACvE,yBAAK3I,UAAU,WAAf,cAGR,yBAAKA,UAAU,eAEPC,KAAKoI,MAAMpI,KAAKF,MAAM4I,aAAe,EAAI,GAAGf,KAAI,SAAClG,EAAOmG,GACpD,OAAO,yBAAK7H,UAAW,aAAca,IAAKgH,EAAOhG,QAAS,WAAO,EAAK+G,aAAa,EAAK7I,MAAM8I,eAAe,EAAK9I,MAAM4I,aAAe,EAAE,GAAGd,MACxI,yBAAK7H,UAAU,YACX,uBAAGA,UAAU,wBAAwB0B,EAAMxB,OAE/C,6BACKwB,EAAM4G,iB,GAlGHrG,IAAMC,W,oBCFzB4G,G,iLAEP,IAAD,OACL,OACI,4BAAQ9I,UAAU,qBAAqB6B,QAAS,WAAK,EAAK9B,MAAM8B,YAAY,uBAAG7B,UAAU,wBAAb,sB,GAJxCiC,IAAMC,WCyCjC6G,G,YACjB,WAAYhJ,GAAQ,IAAD,8BACf,4CAAMA,KAED7D,MAAQ,GAHE,E,qKAiBR8M,GACP,IAAIC,EAAYD,EAAKE,MAAM,KACvBC,EAAWC,SAASH,EAAU,IAClC,OAAIE,EAAW,GACJA,EAAW,GAAK,IAAMF,EAAU,GAAK,MAEzCE,EAAW,IAAMF,EAAU,GAAK,Q,kCAG/BI,GACR,OAAO,IAAIC,KAAKD,EAAKE,eAAe,QAAS,CAACC,SAAU,uB,+BAGlD,IAAD,OAEL,OADAvJ,KAAKwJ,eAAiBxJ,KAAKF,MAAM0J,eAE7B,yBAAKzJ,UAAU,aACX,yBAAKA,UAAU,SAAf,sBACE,WAME,IALA,IAAI0J,EAAQ,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAE3EC,EAAc,IAAIL,MAAK,IAAIA,MAAOC,eAAe,QAAS,CAACC,SAAU,qBACrEI,EAAS,GACTC,EAAUH,GAAOC,EAAYG,SAAW,GAAK,GAL7C,aAMC,IAAIC,EAAO,KACRC,EAAUD,IAAYL,EAAMC,EAAYG,UACxCG,EAAgB,CAChBC,MAAM,EACNC,cAAUC,GAEd,GAAIJ,GAAW,EAAKP,eAAeY,MAAMN,GAAU,CAE/C,IAAK,IAAIO,KAAa,EAAKb,eAAeY,MAAMN,GAASM,MAAO,CAC5D,IAAIE,EAAQ,EAAKd,eAAeY,MAAMN,GAASM,MAAMC,GACjDE,EAAiBD,EAAME,MAAMvB,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAC1DC,EAAY,IAAIrB,MAAK,IAAIA,MAAOsB,SAASJ,EAAe,GAAIA,EAAe,KAC3EK,EAAgBN,EAAMO,IACtBD,EAActM,SAAS,OACvBsM,EAAgBA,EAAc3B,MAAM,KAAK,IAC7C,IAAI6B,EAAeF,EAAc3B,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAE1DM,EAAU,IAAI1B,MAAK,IAAIA,MAAOsB,SAASG,EAAa,GAAIA,EAAa,KAKzE,GAHIJ,EAAYK,GACZA,EAAQC,QAAQD,EAAQE,UAAY,GAEpCvB,EAAYwB,WAAaR,EAAUQ,WAAaxB,EAAYwB,WAAaH,EAAQG,UAAW,CAC5FlB,EAAgB,CACZC,MAAM,EACNC,SAAUf,SAASkB,IAEvB,OAIR,IAAKL,EAAcC,MAAQ,EAAKT,eAAeY,MAAMR,GAAU,CAC3D,IAAIuB,EAAY,EAAK3B,eAAeY,MAAMR,GAASQ,MAC/CgB,EAAWD,EAAUA,EAAUtP,OAAS,GAC5C,GAAIuP,EAASP,IAAIvM,SAAS,KAAM,CAC5B,IAAIwM,EAAeM,EAASP,IAAI5B,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAC/C,IAAIpB,MAAK,IAAIA,MAAOsB,SAASG,EAAa,GAAIA,EAAa,KAC7DI,WAAaxB,EAAYwB,YACjClB,EAAcC,MAAO,KAKrCN,EAAO3G,KACH,yBAAKpC,IAAKkJ,EAAS/J,UAAW,YAAciK,EAAcC,KAAO,UAAY,KAAOF,EAAU,WAAa,KACvG,yBAAKhK,UAAU,WAAW+J,GAC1B,yBAAK/J,UAAU,gBAEF,EAAKyJ,eAAeY,MAAMN,GAGxB,EAAKN,eAAeY,MAAMN,GAASM,MAAMzC,KAAI,SAAClG,EAAOmG,GAAR,OAAkB,yBAAKhH,IAAKgH,EAAO7H,UAAW,gBAAkB6H,IAAUoC,EAAcE,SAAW,UAAY,KAC/J,yBAAKnK,UAAU,YAAY,EAAKsL,WAAW5J,EAAM+I,QACjD,yBAAKzK,UAAU,eAAe,EAAKsL,WAAW5J,EAAMoJ,UAJ7C,yBAAK9K,UAAU,UAAf,cAjD/B,MAAoB0J,EAApB,eAA4B,IA4D5B,OAAOE,EAlET,Q,GApCqB3H,IAAMC,WCpCxBqJ,G,YASjB,WAAYxL,GAAQ,IAAD,8BACf,4CAAMA,KATVyL,SAAW,CACPC,MAAO,QACPC,SAAU,OACVC,KAAM,QAKS,EAFnBC,YAAc,GAKV,EAAK1P,MAAQ,CACT2P,UAAU,EACVC,WAAW,EACXC,OAAQ,EAAKP,SAASC,MACtBO,kBAAmB,EAAKJ,YACxBK,aAAc,IAGlB,EAAKC,YACL5O,QAAQQ,IAAI,EAAK8N,aAZF,E,mMAiBUvO,I,OAAzB4C,KAAK2L,Y,OACLtO,QAAQQ,IAAImC,KAAK2L,aAEjB3L,KAAKkM,c,8IAGU,IAAD,OACVvC,EAAS3J,KAAK2L,YAAYQ,MAAK,SAAC9R,EAAE+R,GAAH,OAAS/R,EAAEE,KAAK8R,cAAcD,EAAE7R,SAE/D+R,EAAgB,SAAAzJ,GAChB,IACI8G,EAAS,GAFY,uBAGzB,YAAc9G,EAAd,+CAAqB,CAAC,IAAbD,EAAY,QAFJ,MAGEtE,SAASsE,GACpB+G,GAAU,IAEVA,GAAU/G,GAPO,kFAUzB,OAAO+G,EAAO4C,UAAU,OAAOhF,QAAQ,mBAAoB,IAAIA,QAAQ,OAAO,IAAIiF,QAGlFC,EAAiB9C,EAAO+C,QAAO,SAAAjC,GAAC,OAAI6B,EAAc7B,EAAElQ,KAAKoS,eAAeC,WAAWN,EAAc,EAAKrQ,MAAM+P,aAAaW,mBACzHE,EAAmBlD,EAAO+C,QAAO,SAAAjC,GAAC,OAAIA,EAAElQ,KAAKoS,cAAcrO,SAAS,EAAKrC,MAAM+P,aAAaW,kBAehG,OAbAhD,EAAM,YAAO,IAAImD,IAAJ,sBAAYL,GAAZ,YAA+BI,MACxC7M,KAAK/D,MAAM2P,WACXjC,EAASA,EAAO+C,QAAO,SAAAjC,GAAC,OD1Dd,SAACjB,GACnB,IAAIC,EAAQ,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAE3EC,EAAc,IAAIL,MAAK,IAAIA,MAAOC,eAAe,QAAS,CAACC,SAAU,qBACrEK,EAAUH,GAAOC,EAAYG,SAAW,GAAK,GAE7CC,EAAUL,EAAMC,EAAYG,UAChC,GAAIL,EAAeY,MAAMX,EAAMC,EAAYG,WAAY,CAEnD,IAAK,IAAIQ,KAAab,EAAeY,MAAMN,GAASM,MAAO,CACvD,IAAIE,EAAQd,EAAeY,MAAMN,GAASM,MAAMC,GAC5CE,EAAiBD,EAAME,MAAMvB,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAC1DC,EAAY,IAAIrB,MAAK,IAAIA,MAAOsB,SAASJ,EAAe,GAAIA,EAAe,KAC3EK,EAAgBN,EAAMO,IACtBD,EAActM,SAAS,OACvBsM,EAAgBA,EAAc3B,MAAM,KAAK,IAC7C,IAAI6B,EAAeF,EAAc3B,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAC1DM,EAAU,IAAI1B,MAAK,IAAIA,MAAOsB,SAASG,EAAa,GAAIA,EAAa,KAIzE,GAHIJ,EAAYK,GACZA,EAAQC,QAAQD,EAAQE,UAAY,GAEpCvB,EAAYwB,WAAaR,EAAUQ,WAAaxB,EAAYwB,WAAaH,EAAQG,UACjF,OAAO,EAIf,GAAa1B,EAAeY,MAAMR,GAAU,CACxC,IAAIuB,EAAY3B,EAAeY,MAAMR,GAASQ,MAC1CgB,EAAWD,EAAUA,EAAUtP,OAAS,GAC5C,GAAIuP,EAASP,IAAIvM,SAAS,KAAM,CAC5B,IAAIwM,EAAeM,EAASP,IAAI5B,MAAM,KAAKtB,KAAI,SAAA8C,GAAC,OAAItB,SAASsB,MAE7D,GADc,IAAIpB,MAAK,IAAIA,MAAOsB,SAASG,EAAa,GAAIA,EAAa,KAC7DI,WAAaxB,EAAYwB,UACjC,OAAO,IAKvB,OAAO,ECoB6B6B,CAAOtC,OAEnCzK,KAAK/D,MAAM6P,SAAW9L,KAAKuL,SAASE,WACpC9B,EAASA,EAAOwC,MAAK,SAAC9R,EAAE+R,GAAH,OAAS/R,EAAE2S,KAAOZ,EAAEY,SAEzChN,KAAK/D,MAAM6P,SAAW9L,KAAKuL,SAASG,OACpC/B,EAASA,EAAOwC,MAAK,SAAC9R,EAAE+R,GAAH,OAAS/R,EAAE4S,KAAOb,EAAEa,SAEzCjN,KAAK/D,MAAM4P,YACXlC,EAASA,EAAOuD,WAEbvD,I,4HAWD,IAAD,OAEL,OACI,yBAAK5J,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,oBACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,gBAEJ,yBAAKA,UAAU,eACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,yBAAwB,yBAAKI,IAAI,SAASD,IAAKkN,QAC9D,2BAAO/M,KAAK,OAAOD,YAAY,SAASkB,QAAS,SAAAX,GAAM,EAAKwB,SAAS,CAAC6J,aAAcrL,EAAEY,OAAOE,YAEjG,yBAAK1B,UAAU,eAEX,yBAAK6B,QAAS,WAAK,EAAKO,SAAS,CAAC2J,OAAQ,EAAKP,SAASC,SAAUzL,UAAW,cAAgBC,KAAK/D,MAAM6P,SAAW9L,KAAKuL,SAASC,MAAQ,UAAY,KACjJ,uBAAGzL,UAAU,iCAAb,kBAEJ,yBAAK6B,QAAS,WAAK,EAAKO,SAAS,CAAC2J,OAAQ,EAAKP,SAASE,YAAa1L,UAAW,cAAgBC,KAAK/D,MAAM6P,SAAW9L,KAAKuL,SAASE,SAAW,UAAY,KACvJ,uBAAG1L,UAAU,iCAAb,UAEJ,yBAAK6B,QAAS,WAAK,EAAKO,SAAS,CAAC2J,OAAQ,EAAKP,SAASG,QAAS3L,UAAW,cAAgBC,KAAK/D,MAAM6P,SAAW9L,KAAKuL,SAASG,KAAO,UAAY,KAC/I,uBAAG3L,UAAU,2BAAb,iBAEJ,yBAAKA,UAAU,wBACf,yBAAK6B,QAAS,WAAK,EAAKO,SAAS,CAACyJ,UAAW,EAAK3P,MAAM2P,YAAa7L,UAAW,cAAgBC,KAAK/D,MAAM2P,SAAW,UAAY,KAC7H5L,KAAK/D,MAAM2P,SAAW,uBAAG7L,UAAU,8BAAmC,uBAAGA,UAAU,iCAExF,yBAAK6B,QAAS,WAAK,EAAKO,SAAS,CAAC0J,WAAY,EAAK5P,MAAM4P,aAAc9L,UAAU,cAC3EC,KAAK/D,MAAM4P,UAA0D,uBAAG9L,UAAU,8BAA3D,uBAAGA,UAAU,gCAKtD,yBAAKA,UAAU,kBAEXC,KAAKqN,kBAAkB1F,KAAI,SAAClG,EAAOmG,GAAW,OAAO,yBAAKhG,QAAO,sBAAE,sBAAAvH,EAAA,kEAAY,EAAKyF,MAAjB,KAA4C2B,EAA5C,SAAyDnE,EAAQmE,EAAMjH,IAAvE,iDAAuB8S,qBAAvB,iEAA6E1M,IAAKgH,EAAO7H,UAAU,kBAClK,yBAAKA,UAAU,wBAAuB,yBAAKI,IAAKsB,EAAMlH,KAAM2F,IAAKuB,EAAM8L,QACvE,yBAAKxN,UAAU,kBAAkB0B,EAAMlH,WAI/C,kBAAC,GAAD,CAAoBqH,QAAS,WAAK,EAAK9B,MAAM0N,sB,GAtHhBxL,IAAMC,WCH9BwL,I,kBACjB,WAAY3N,GAAQ,IAAD,8BACf,4CAAMA,KAqBV4N,YAAc,SAAAxR,GACV,EAAKiG,SAAS,CACVwL,OAAQzR,IAEZ,EAAK0R,iBACD,EAAK9N,MAAM4N,aACX,EAAK5N,MAAM4N,YAAYxR,IA5BZ,EA+BnB0R,eAAiB,WACb,EAAKC,WAAWtL,QAAQjH,UAAUwS,OAAO,SA7BzC,EAAK7R,MAAQ,CACT1B,KAAM,EAAKuF,MAAMiO,OAAOxT,KACxBoT,OAAQ,EAAK7N,MAAMiO,OAAOC,QAC1BC,QAAS,EAAKnO,MAAMiO,OAAOE,SAG/B,EAAKJ,WAAa7L,IAAMuB,YAExB,EAAKzD,MAAMoO,SAAS,EAAKpO,MAAMiO,OAAOC,SAXvB,E,mKAmCT,IA4BGvD,EA5BJ,OAEL,OAAO,yBAAK1K,UAAU,WAAWS,IAAKR,KAAK6N,YACvC,yBAAK9N,UAAU,cACVC,KAAK/D,MAAM1B,MAEhB,yBAAKwF,UAAU,iBAAiB6B,QAAS5B,KAAK4N,gBAC1C,yBAAK7N,UAAU,eACX,yBAAKA,UAAU,QAAQC,KAAK/D,MAAM0R,QACc,IAA/C3N,KAAK/D,MAAMgS,QAAQjO,KAAK/D,MAAM0R,QAAQV,MAAc,yBAAKlN,UAAU,QAAf,IAAwB7B,EAAY8B,KAAK/D,MAAMgS,QAAQjO,KAAK/D,MAAM0R,QAAQV,QAEnI,0BAAMlN,UAAU,gBAAe,uBAAGA,UAAU,kBAAb,yBAInC,yBAAKA,UAAU,oBAaV0K,EAZQzK,KAAK/D,MAAMgS,QAazB,IAAIE,GAAU1D,IAboBiC,QAAO,SAAC0B,EAAIlS,GAAL,OAAWA,IAAM,EAAKD,MAAM0R,UAAQhG,KAAI,SAAC8C,EAAGvO,GAE5E,OAAO,yBAAK0E,IAAK1E,EAAG6D,UAAU,iBAAiB6B,QAAS,kBAAM,EAAK8L,YAAYxR,KAC3E,yBAAK6D,UAAU,QAAQ7D,GACX,IAAXuO,EAAEwC,MAAc,yBAAKlN,UAAU,QAAf,IAAwB7B,EAAYuM,EAAEwC,iB,GAxDzCjL,IAAMC,Y,IAoEtCkM,G,WACF,WAAY1D,GACR,IAAK,IAAIvO,KADG,oBACEuO,EACVzK,KAAK9D,GAAKuO,EAAEvO,G,gDAIhBmS,GACA,IAAI1E,EAAS,GACb,IAAK,IAAIzN,KAAK8D,KACA,QAAN9D,GACJyN,EAAO3G,KAAKqL,EAAGrO,KAAK9D,GAAIA,IAE5B,OAAOyN,I,6BAGJ0E,GACH,IAAI1E,EAAS,GACb,IAAK,IAAIzN,KAAK8D,KACNqO,EAAGrO,KAAK9D,GAAIA,KAAIyN,EAAOzN,GAAK8D,KAAK9D,IAEzC,OAAO,IAAIiS,EAAUxE,O,KCvFR2E,G,YACjB,WAAYxO,GAAQ,IAAD,uBACf,4CAAMA,KAsBV0J,eAAiB,GAvBE,EAiCnB+E,gBAAkB,SAAA5N,GACd,IAAMY,EAASZ,EAAE6N,cACbC,EAAclN,EAAOmN,UACrBC,EAAeC,KAAKC,MAAM,IAAMJ,GACpCE,EAAeA,EAAe,GAAKA,EAAe,GAClD1T,SAAS6T,eAAe,oBAAoBhL,MAAMC,OAAS4K,EAAe,KAC1EF,EAAcA,EAAc,GAAK,GAAKA,EACtClN,EAAOuC,MAAMiL,WAAaN,EAAc,MAxCzB,EAwDnBO,SAAW,SAAAC,GACP5R,QAAQQ,IAAIoR,GACZ,EAAK9M,SAAS,CACV+M,aAAcD,KA3DH,EA+DnBE,UAAY,WACR,EAAKhN,SAAS,CACV+M,aAAc,QAjEH,EAqEnBE,UAAY,WACR5R,EAAYxB,IAAiByB,SAAU,EAAKxB,MAAMiT,aAAa1U,GAAI,EAAG,EAAKyB,MAAMoT,aAAe,EAAKpT,MAAMoT,aAAe,GAAI,EAAKpT,MAAMqT,eAEzI,EAAKH,aAxEU,EA2EnBI,eAAiB,WACb,IAAI3M,EAAI,EAAK3G,MAAMqT,cACnB,IAAK1M,EAAG,OAAO,EACf,IAAI+G,EAAS,EASb,OARAtM,QAAQQ,IAAI+E,GACZ9E,KAAKa,MAAM,EAAK1C,MAAMiT,aAAatR,OAAO4R,SAAQ,SAACP,EAAM/S,GACrD+S,EAAKQ,QAAQD,SAAQ,SAACzB,EAAQ2B,GAC1BrS,QAAQQ,IAAIkQ,EAAQ7R,EAAI,MAAQwT,GAC5B9M,EAAE1G,IAAM0G,EAAE1G,GAAGwT,IAAM3B,EAAOE,QAAQrL,EAAE1G,GAAGwT,MACvC/F,GAAUoE,EAAOE,QAAQrL,EAAE1G,GAAGwT,IAAIzC,YAGvCtD,GArFPtM,QAAQQ,IAAI,EAAKiC,MAAM0J,gBACvBnM,QAAQQ,IAAI,EAAKiC,MAAM6P,UAHR,OAaf,EAAK1T,MAAQ,CACTiT,aAAc,KACdI,cAAe,GACfD,aAAc,MAGlB,EAAK7F,eAAeY,MAAQ,EAAKtK,MAAM0J,eAAeY,MACtD,EAAKZ,eAAeoG,KAAO,EAAK9P,MAAM6P,SApBvB,E,qKA2CR5G,GACP,IAAIC,EAAYD,EAAKE,MAAM,KACvBC,EAAWC,SAASH,EAAU,IAClC,OAAIE,EAAW,GACJA,EAAW,GAAK,IAAMF,EAAU,GAAK,MAEzCE,EAAW,IAAMF,EAAU,GAAK,Q,kCAG/BI,GACR,OAAO,IAAIC,KAAKD,EAAKE,eAAe,QAAS,CAACC,SAAU,uB,+BAqClD,IAAD,OACL,OACI,kBAAC,WAAD,KACI,yBAAKxJ,UAAU,WAAW+D,MACtB,CACI+L,QAAS7P,KAAK/D,MAAMiT,aAAe,EAAI,EACvCY,cAAe9P,KAAK/D,MAAMiT,aAAe,OAAS,SAGtD,yBAAKnP,UAAU,iBACX,yBAAKA,UAAU,YAAY6B,QAAS5B,KAAKmP,WAAW,uBAAGpP,UAAU,wBAAb,UAClDC,KAAK/D,MAAMiT,cAAgB,yBAAKnP,UAAU,eACxC,yBAAKA,UAAU,sBACX,yBAAKA,UAAU,YAAYI,IAAK,OAAQD,IAAKF,KAAK/D,MAAMiT,aAAa3J,SAEzE,yBAAKxF,UAAU,YACVC,KAAK/D,MAAMiT,aAAa3U,MAE7B,yBAAKwF,UAAU,YAEPjC,KAAKa,MAAMqB,KAAK/D,MAAMiT,aAAatR,OAAO+J,KAAI,SAAC8C,EAAGvO,GAAJ,OAAU,yBAAK0E,IAAK1E,GAC9D,yBAAK6D,UAAU,eACV0K,EAAEsF,KAAKlU,OAAS,GAAK,uCAG1B,yBAAKkE,UAAU,kBACV0K,EAAEgF,QAAQ5T,OAAS,GAAK,kBAAC,WAAD,KAAU,0BAAMkE,UAAU,cAAc0K,EAAElQ,MAAY,yBAAKwF,UAAU,eAC7F0K,EAAEgF,QAAQ9H,KAAI,SAACoG,EAAQ2B,GAAT,OAAe,kBAAC,GAAD,CAAUxB,SAAU,SAAA8B,GAC9C,IAAI/B,EAAU,EAAKhS,MAAMqT,cACpBrB,EAAQ/R,KAAI+R,EAAQ/R,GAAK,IAC9B+R,EAAQ/R,GAAGwT,GAAKM,EAChB,EAAK7N,SAAS,CAACmN,cAAerB,KAC/BP,YAAa,SAAAsC,GACZ,IAAI/B,EAAU,EAAKhS,MAAMqT,cACpBrB,EAAQ/R,KAAI+R,EAAQ/R,GAAK,IAC9B+R,EAAQ/R,GAAGwT,GAAKM,EAChB,EAAK7N,SAAS,CAACmN,cAAerB,KAC/BrN,IAAK8O,EAAG3B,OAAQA,aAKc,IAAhD/N,KAAK/D,MAAMiT,aAAae,qBAA6B,yBAAKlQ,UAAU,8BACjE,yBAAKA,UAAU,UAAf,wBACA,yBAAKA,UAAU,WACX,8BAAU6G,SAAU,SAAAjG,GAAI,EAAKwB,SAAS,CAACkN,aAAc1O,EAAE6N,cAAc/M,aAG7E,yBAAK1B,UAAU,eAAe6B,QAAS5B,KAAKoP,WACxC,6CADJ,IAC6B,uBAAGrP,UAAU,wBAAb,kBAE7B,yBAAKA,UAAU,aAAf,IACM7B,EAAY8B,KAAK/D,MAAMiT,aAAa/Q,OAD1C,MACqDD,EAAY8B,KAAKuP,kBADtE,OAC6FrR,EAAY8B,KAAK/D,MAAMiT,aAAa/Q,MAAQ6B,KAAKuP,sBAK1J,yBAAKxP,UAAU,0BACX,yBAAKA,UAAU,YAAW,uBAAGA,UAAU,uBAAuB6B,QAAS5B,KAAKF,MAAMqN,QAAxD,mBAC1B,yBAAK3S,GAAG,mBAAmBuF,UAAU,6BACjC,yBAAKI,IAAI,GAAGD,IAAKF,KAAKF,MAAM0J,eAAe0G,SAC3C,yBAAKnQ,UAAU,mBAAmBC,KAAKF,MAAM0J,eAAejP,OAEhE,yBAAKwF,UAAU,oBAAoBoQ,SAAUnQ,KAAKuO,iBAC9C,yBAAKxO,UAAU,kBACX,yBAAKA,UAAU,yBACVC,KAAKF,MAAM0J,eAAe4G,aAE/B,kBAAC,GAAD,CAAW5G,eAAgBxJ,KAAKwJ,kBAGpC,yBAAKzJ,UAAU,kBACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,SAAf,mBACA,yBAAKA,UAAU,cACX,yBAAKA,UAAU,kBACdC,KAAKwJ,eAAeoG,KAAKlD,QAAO,SAAAjC,GAAC,OAAIA,EAAE4F,YAAU1I,KAAI,SAAC8C,EAAG7C,GAAJ,OAAc,yBAAKhH,IAAKgH,EAAO7H,UAAU,oBAAmB,yBAAKA,UAAU,yBAGjI,yBAAKA,UAAU,oBAIvB,yBAAKA,UAAU,YACX,yBAAKA,UAAU,SAAf,gBAECC,KAAKF,MAAM6P,SAAShI,KAAI,SAACsH,EAAMrH,GAAP,OAAiB,yBAAKhH,IAAKgH,EAAO7H,UAAU,WAAW6B,QAAS,kBAAM,EAAKoN,SAASC,KACrG,yBAAKlP,UAAU,sBAAqB,yBAAKA,UAAU,YAAYI,IAAI,GAAGD,IAAK+O,EAAK1J,SAChF,yBAAKxF,UAAU,eACX,yBAAKA,UAAU,QAAQkP,EAAK1U,MAC5B,yBAAKwF,UAAU,SAAf,IAAyBkP,EAAK9Q,gBAQ1D,kBAAC,GAAD,CAAqByD,QAAS,WAAK9F,IAAmBwU,UAAU,gB,GA7LjCtO,IAAMC,WCFhCsO,I,kBAIjB,WAAYzQ,GAAQ,IAAD,8BACf,4CAAMA,KAED0Q,YAAc,CAAC,YAAa,UAAW,WAAY,UAAW,aAEnE,EAAKvU,MAAQ,CACTwN,MAAO,KACPgH,WAAY,YACZC,OAAQ,KACRC,QAAS,KACTC,QAAS,KACTC,QAAS,KACT7D,KAAM,IAGV,EAAKf,YAfU,E,iFAkBE,IAAD,OAChBjM,KAAK8Q,WAAa9Q,KAAKF,MAAMiR,gBAAgBC,aAAY,WAAO,EAAK/E,iB,6CAIrEjM,KAAKF,MAAMiR,gBAAgBE,eAAejR,KAAK8Q,c,kCAGvC1H,GACR,OAAO,IAAIC,KAAKD,EAAKE,eAAe,QAAS,CAACC,SAAU,uB,gCAGlD2H,GACN,GAAkB,MAAdA,EACA,OAAO,KACX,IAAIC,EAAID,EAAWjI,MAAM,SACrBmI,EAAI,IAAI/H,KAAKA,KAAKgI,IAAIF,EAAE,GAAIA,EAAE,GAAG,EAAGA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC5D,OAAOnR,KAAKqL,WAAWrL,KAAKsR,YAAYF,M,iCAGjChI,GACP,IAAIgB,EAAQhB,EAAKmI,WACbC,EAASpH,EAAQ,GAAK,KAAO,KACjCA,EAAiB,GAATA,EAAa,GAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EACpD,IAAIqH,EAAUrI,EAAKsI,aAEnB,OAAOtH,EAAQ,KADe,GAAXqH,EAAe,KAAOA,EAAU,GAAK,IAAMA,EAAQpT,WAAaoT,GAC/CD,I,8KAIjBrS,EAASa,KAAKF,MAAMrC,U,OAAvCuC,KAAKyJ,M,OACLpM,QAAQQ,IAAImC,KAAKyJ,OAEC,MAAdzJ,KAAKyJ,QACDA,EAAQzJ,KAAKyJ,MAAMjP,GACnBiW,EAAazQ,KAAKyJ,MAAMxN,MACxByU,EAAS1Q,KAAK2R,UAAU3R,KAAKyJ,MAAMiH,QACnCC,EAAU3Q,KAAK2R,UAAU3R,KAAKyJ,MAAMkH,SACpCC,EAAU5Q,KAAK2R,UAAU3R,KAAKyJ,MAAMmI,UACpCf,EAAU7Q,KAAK2R,UAAU3R,KAAKyJ,MAAMoH,SAExC7D,GADIA,EAAOhN,KAAKyJ,MAAMuD,KAAK3O,YACfI,UAAU,EAAGuO,EAAKzO,QAAQ,MAEtCyB,KAAKmC,SAAS,CACVsH,QACAgH,aACAC,SACAC,UACAC,UACAC,UACA7D,UAIRhN,KAAKkM,c,qIAGC,IAGF2F,EACAC,EAJC,OACDlK,EAAQ5H,KAAKwQ,YAAYjS,QAAQyB,KAAK/D,MAAMwU,YAsDhD,OAjDkB,MAAdzQ,KAAKyJ,OACLoI,EACI,yBAAK9R,UAAU,iBAAiB+D,MAAO,CAACC,OAAQ,QAC5C,yBAAKhE,UAAU,4BACX,yBAAKA,UAAU,eAAf,eAEI,yBAAKA,UAAU,kBAAkBC,KAAK/D,MAAMyU,SAGhD,yBAAK3Q,UAAW,iCAAmC6H,GAAS,EAAI,iBAAmB,MACnF,yBAAK7H,UAAU,eAAf,WAEI,yBAAKA,UAAU,iBAAiB+D,MAAQ8D,GAAS,EAAI,GAAK,CAACmK,QAAS,SAAU/R,KAAK/D,MAAM2U,UAE7F,yBAAK7Q,UAAW,+BAAiC6H,GAAS,EAAI,iBAAmB,OAErF,yBAAK7H,UAAU,kBACX,yBAAKA,UAAU,8BADnB,IAEI,yBAAKA,UAAW,gBAAkB6H,GAAS,EAAI,iBAAmB,MAFtE,IAGI,yBAAK7H,UAAW,eAAiB6H,GAAS,EAAI,iBAAmB,MACjE,yBAAK7H,UAAW,gBAAkB6H,GAAS,EAAI,iBAAmB,MAJtE,IAKI,yBAAK7H,UAAW,eAAiB6H,GAAS,EAAI,iBAAmB,MACjE,yBAAK7H,UAAW,gBAAkB6H,GAAS,EAAI,iBAAmB,MANtE,IAOI,yBAAK7H,UAAW,eAAiB6H,GAAS,EAAI,iBAAmB,OAErE,yBAAK7H,UAAU,4BACX,yBAAKA,UAAU,kDACf,yBAAKA,UAAU,eAAf,gBAEI,yBAAKA,UAAU,iBAAiB+D,MAAQ8D,GAAS,EAAI,GAAK,CAACmK,QAAS,SAAU/R,KAAK/D,MAAM0U,UAE7F,yBAAK5Q,UAAW,+BAAiC6H,GAAS,EAAI,iBAAmB,MACjF,yBAAK7H,UAAU,eAAf,UAEI,yBAAKA,UAAU,iBAAiB+D,MAAQ8D,GAAS,EAAI,GAAK,CAACmK,QAAS,SAAU/R,KAAK/D,MAAM4U,YAKzGiB,EACA,yBAAK/R,UAAU,sBAAf,eACiBC,KAAK/D,MAAM+Q,KAD5B,WAEI,yBAAKjN,UAAU,gBAAgB6B,QAAS,kBAAM,EAAK9B,MAAMkS,eAAe,EAAK/V,MAAMwN,YAGvFoI,EAAW,yBAAK9R,UAAU,kBAAf,mBAKX,yBAAKA,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,mBAIP8R,EAEAC,O,GAjJyB9P,IAAMC,YCD3BgQ,G,YAEjB,WAAanS,GAAQ,IAAD,8BAChB,4CAAMA,KACD7D,MAAQ,CACTiW,OAAQ,MAEZ,EAAKjG,YALW,E,yMASGxM,EAAqBO,KAAKF,MAAMrC,U,OAA/CyU,E,OACJ7U,QAAQQ,IAAImC,KAAKF,MAAMrC,SAAW,IAAMyU,GACxClS,KAAKmC,SAAS,CAAC+P,W,qIAGT,IAAD,OACL,OACI,yBAAKnS,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,qBAIR,yBAAKA,UAAU,qBAEU,MAArBC,KAAK/D,MAAMiW,OAAiB,UAC5BlS,KAAK/D,MAAMiW,OAAOvK,KAAI,SAAClG,EAAOmG,GAC9B,OACA,yBAAKhG,QAAO,sBAAE,sBAAAvH,EAAA,+EAAY,EAAKyF,MAAMqS,gBAAgB1Q,IAAvC,2CAA+Cb,IAAKgH,EAAO7H,UAAU,iBAC/E,yBAAKA,UAAU,cAAc0B,EAAM2Q,iBACnC,yBAAKrS,UAAU,aAAa0B,EAAMvC,mB,GAjCd8C,IAAMC,WCA7BoQ,G,YAEjB,WAAavS,GAAQ,IAAD,8BAChB,4CAAMA,KACD7D,MAAQ,CACTiW,OAAQ,MAEZ,EAAKjG,YALW,E,yMASGvM,EAAmBM,KAAKF,MAAMrC,U,OAA7CyU,E,OACJ7U,QAAQQ,IAAImC,KAAKF,MAAMrC,SAAW,IAAMyU,GACxClS,KAAKmC,SAAS,CAAC+P,W,qIAGT,IAAD,OACL,OACI,yBAAKnS,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,qBAIR,yBAAKA,UAAU,qBAEU,MAArBC,KAAK/D,MAAMiW,OAAiB,UAC5BlS,KAAK/D,MAAMiW,OAAOvK,KAAI,SAAClG,EAAOmG,GAC9B,OACA,yBAAKhG,QAAO,sBAAE,sBAAAvH,EAAA,+EAAY,EAAKyF,MAAMqS,gBAAgB1Q,IAAvC,2CAA+Cb,IAAKgH,EAAO7H,UAAU,iBAC/E,yBAAKA,UAAU,cAAc0B,EAAM2Q,iBACnC,yBAAKrS,UAAU,aAAa0B,EAAMvC,mB,GAjChB8C,IAAMC,W,oBCE3BqQ,G,2MAGjBC,IAAM,E,EAENtW,MAAQ,CACJuW,YAAa,M,uNAIUjW,MAAM,8C,cAAvBI,E,gBACoBA,EAASC,O,cAA7B4V,E,OAENnV,QAAQQ,IAAI2U,G,SAEOvU,EAAc+B,KAAKF,MAAMrC,U,OAAxCgV,E,OACJzS,KAAKuS,IAAME,EAAOC,aAElB1S,KAAKmC,SAAS,CACVqQ,gBAEJxS,KAAKkM,c,yPAIDlM,KAAK2S,SAASC,6B,gCACQ5S,KAAK2S,SAASE,uB,uBAA7B5T,E,EAAAA,M,SACDD,EAAYC,EAAOe,KAAKF,MAAMZ,QAASc,KAAKF,MAAMrC,U,OACxDuC,KAAKF,MAAMgT,kB,qIAIT,IAAD,OACL,OAAK9S,KAAK/D,MAAMuW,YAQR,yBAAKzS,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,cAGR,kBAAC,KAAD,CACI0P,QAAW,CACPsD,cAAe/S,KAAK/D,MAAMuW,YAC1BQ,QAAQ,EACRC,OAAO,GAEXC,WAAY,SAAAP,GAAQ,OAAK,EAAKA,SAAWA,KAE7C,yBAAK5S,UAAU,aAAa+D,MAAO,CAC/BqP,SAAU,QACVC,OAAQ,IAER,yBAAKrT,UAAU,SAAf,eAAmC,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAKuS,OAC9E,4BAAQxS,UAAU,iBAAiB6B,QAAS5B,KAAKqT,IAAIC,KAAKtT,OAA1D,aA1BR,6BACE,+C,GApC0BgC,IAAMC,WCD7BsR,G,YAEjB,WAAYzT,GAAQ,IAAD,8BACf,4CAAMA,KACD0T,WAAaxR,IAAMuB,UAAU,EAAKzD,MAAMZ,SAF9B,E,sEAKT,IAAD,OACL,OACI,yBAAKa,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,sBAIR,yBAAKA,UAAU,0CACX,yBAAKA,UAAU,gBACX,kBAAC,EAAD,CAAOU,UAAWT,KAAKwT,WAAYpT,YAAY,UAAUsB,aAAc1B,KAAKF,MAAMZ,YAI1F,4BAAQa,UAAU,aAAa6B,QAAS,kBAAM,EAAK9B,MAAMyE,WAAW,EAAKiP,WAAWjR,QAAQd,SAA5F,a,GAvB6BO,IAAMC,WCD9BwR,G,YAEjB,WAAY3T,GAAQ,IAAD,8BACf,4CAAMA,KACD7D,MAAQ,CACTwN,MAAO,KACP7L,MAAO,MAEX,EAAKqO,YANU,E,2MAUG9M,EAASa,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,S,cAAvDmK,E,gBACcrK,EAAcY,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,S,OAA5D1B,E,OACJP,QAAQQ,IAAI4L,GACZpM,QAAQQ,IAAID,GACZoC,KAAKmC,SAAS,CAACsH,QAAO7L,U,yQAIH+B,EAAiBK,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,QAAS,W,QAAzE6F,E,QACQtK,QAGRmF,KAAKiM,YAFLnR,EAAW,CAACqK,EAAOjC,M,iLAMTjH,G,4FAAOyX,I,0CACF/T,EAAiBK,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,QAASrD,G,QAAzEkJ,E,QACQtK,QAGJ6Y,GACA1T,KAAKiM,YAHTnR,EAAW,CAACqK,EAAOjC,M,sIAOjB,IAAD,OACL,GAAwB,MAApBlD,KAAK/D,MAAMwN,MACX,OAAQ,yCAGZ,IAAIkK,EAAS,KAab,MAZ+B,cAA3B3T,KAAK/D,MAAMwN,MAAMxN,MACjB0X,EAAU,4BAAQ5T,UAAU,iBAAiB6B,QAAS,kBAAI,EAAKgS,eAArD,UACwB,YAA3B5T,KAAK/D,MAAMwN,MAAMxN,MACxB0X,EAAU,4BAAQ5T,UAAU,iBAAiB6B,QAAS,kBAAI,EAAK9B,MAAM+T,YAAY,EAAK/T,MAAMR,WAAlF,gBACwB,aAA3BU,KAAK/D,MAAMwN,MAAMxN,MACxB0X,EAAU,4BAAQ5T,UAAU,iBAAiB6B,QAAS,kBAAI,EAAK8R,YAAY,aAAjE,WACwB,YAA3B1T,KAAK/D,MAAMwN,MAAMxN,QACxB0X,EAAU,4BAAQ5T,UAAU,iBAAiB6B,QAAS,WAClD,EAAK8R,YAAY,aAAa,GAC9B,EAAK5T,MAAMgU,kBAFL,mBAMV,yBAAK/T,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAeC,KAAK/D,MAAMwN,MAAM2I,mBAIxD,yBAAKrS,UAAU,gBAAgBC,KAAK/D,MAAMwN,MAAMvK,SAEhD,yBAAKa,UAAU,YAEPC,KAAK/D,MAAM2B,MAAM+J,KAAI,SAAClG,EAAOmG,GACzB,OACI,yBAAK7H,UAAU,WAAWa,IAAKgH,GAC3B,yBAAK7H,UAAU,wBAAuB,yBAAKI,IAAI,OAAOD,IAAKuB,EAAM8D,SACjE,yBAAKxF,UAAU,gBACX,yBAAKA,UAAU,kBACf,0BAAMA,UAAU,gBAAgB0B,EAAMlH,KAAtC,KAA8CkH,EAAM/D,QAChD,0BAAMqC,UAAU,iBAAhB,IAAkC7B,EAAYuD,EAAMtD,MAAQsD,EAAM/D,UAEtE,yBAAKqC,UAAU,uBACV0B,EAAM9D,eASnC,yBAAKoC,UAAU,cAEX,yBAAKA,UAAU,SAAf,QAA4B,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAK/D,MAAMwN,MAAM9E,SACnF,yBAAK5E,UAAU,eACV4T,EACD,yBAAK5T,UAAU,oBAAoB6B,QAAS,kBAAM,EAAK9B,MAAMkS,eAAe,EAAKlS,MAAMR,mB,GA7FtE0C,IAAMC,WCC1B8R,I,kBAEjB,WAAYjU,GAAQ,IAAD,8BACf,4CAAMA,KACD7D,MAAQ,CACT+X,UAAW,WACXzO,MAAO,MAEX,EAAK0G,YANU,E,yMAUErM,EAAoBI,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,S,OAAjElD,E,OACJiB,QAAQQ,IAAIzB,GACZ4D,KAAKmC,SAAS,CACV6R,UAAW5X,EAAK6X,WAChB1O,MAAOnJ,EAAK8X,kB,wQAKVvU,EAAiBK,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,QAAS,Y,OAChEU,KAAKF,MAAMgT,gBAAgB9S,KAAKF,MAAMR,S,qIAGhC,IAAD,OACL,OACI,yBAAKS,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UAEX,yBAAKA,UAAU,cAAcG,IAAKuD,EAAQ,SAIlD,yBAAK1D,UAAU,kBACX,yBAAKA,UAAU,iBAAiBG,IAAKF,KAAK/D,MAAMsJ,SAIpD,yBAAKxF,UAAU,cACX,yBAAKA,UAAU,eACX,4BAAQA,UAAU,iBAAiB6B,QAAS,kBAAI,EAAKkR,oBAArD,oBACA,yBAAK/S,UAAU,oBAAoB6B,QAAS,kBAAM,EAAK9B,MAAMkS,eAAe,EAAKlS,MAAMR,mB,GA3CpE0C,IAAMC,YCA5BkS,G,YAQjB,WAAYrU,GAAQ,IAAD,8BACf,4CAAMA,KAPVlC,MAAQ,GAMW,EALnBwW,SAAW,EAKQ,EAJnBC,IAAM,EAIa,EAHnB1P,MAAQ,EAGW,EAFnB4N,IAAM,EAKF,EAAKtG,YAHU,E,yMAOIjO,EAAQgC,KAAKF,MAAMrC,U,cAAtCuC,KAAKpC,M,OACLP,QAAQQ,IAAImC,KAAKpC,O,SAEEK,EAAc+B,KAAKF,MAAMrC,U,OAAxCgV,E,OACJzS,KAAKoU,SAAW3B,EAAO2B,SACvBpU,KAAK2E,MAAQ8N,EAAO9N,MACpB3E,KAAKqU,IAAM5B,EAAO4B,IAClBrU,KAAKuS,IAAME,EAAOC,aAElB1S,KAAKkM,c,sIAGE,IAAD,OACN,OACI,yBAAKnM,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAhB,UAIR,yBAAKA,UAAU,YAEPC,KAAKpC,MAAM+J,KAAI,SAAClG,EAAOmG,GACnB,OACI,yBAAK7H,UAAU,WAAWa,IAAKgH,GAC3B,yBAAK7H,UAAU,wBAAuB,yBAAKI,IAAI,OAAOD,IAAKuB,EAAM8D,SACjE,yBAAKxF,UAAU,gBACX,yBAAKA,UAAU,kBACf,0BAAMA,UAAU,gBAAgB0B,EAAMlH,MAClC,0BAAMwF,UAAU,iBAAhB,IAAkC7B,EAAYuD,EAAMtD,MAAQsD,EAAM/D,UAEtE,yBAAKqC,UAAU,uBACV0B,EAAM9D,QAAQ,6BADnB,IAEM8D,EAAM/D,cASpC,yBAAKqC,UAAU,cAEX,yBAAKA,UAAU,YAAf,WAAkC,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAKoU,YAE7E,yBAAKrU,UAAU,YAAf,aAAoC,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAKqU,OAC/E,yBAAKtU,UAAU,SAAf,yBAA6C,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAK2E,SACxF,yBAAK5E,UAAU,SAAf,eAAmC,0BAAMA,UAAU,SAAhB,IAA0B7B,EAAY8B,KAAKuS,OAC9E,4BAAQxS,UAAU,iBAAiB6B,QAAS,kBAAI,EAAK9B,MAAMyE,eAA3D,kB,GAlEcvC,IAAMC,W,8BCEnBqS,G,YAKjB,WAAYxU,GAAQ,IAAD,8BACf,4CAAMA,KAHVyU,KAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAKtE,EAAKtI,YACL,EAAKhQ,MAAQ,CACTuY,QAAS,EACTC,SAAU,GACVC,SAAU,EACVC,UAAW,GACXC,SAAU,IAEd,EAAKC,WAAa7S,IAAMuB,YACxBuR,KAAQC,UAAUC,MAClB,EAAKC,QAAU,IAAIH,KAAQ,SAbZ,E,iFAgBE,IAAD,OAChB9U,KAAK8Q,WAAa9Q,KAAKF,MAAMiR,gBAAgBC,aAAY,WAAO,EAAK/E,iB,6CAIrEjM,KAAKF,MAAMiR,gBAAgBE,eAAejR,KAAK8Q,c,4KAI9BzR,EAAYW,KAAKF,MAAMrC,SAAUuC,KAAKF,MAAMR,S,OAAzDlD,E,OACJiB,QAAQQ,IAAIzB,IAES,IAAjBA,EAAKvB,UACD2Z,EAASpY,EAAKoY,OACdC,EAAWrY,EAAKqY,SAChBC,EAAUtY,EAAKsY,QACfC,EAAYvY,EAAKuY,UACjBC,EAAWxY,EAAKwY,SACpB5U,KAAKmC,SAAS,CACVqS,SACAC,WACAC,UACAC,YACAC,aAGJ5U,KAAKkM,cACLlM,KAAKkV,WAAWC,kB,wIAIZ/L,GACR,OAAO,IAAIC,KAAKD,EAAKE,eAAe,QAAS,CAACC,SAAU,uB,gCAGlD2H,GACN,IAAIC,EAAID,EAAWjI,MAAM,SACrBmI,EAAI,IAAI/H,KAAKA,KAAKgI,IAAIF,EAAE,GAAIA,EAAE,GAAG,EAAGA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC5D,OAAOnR,KAAKsR,YAAYF,K,iCAGjBhI,GACP,IAAIgB,EAAQhB,EAAKmI,WACbC,EAASpH,EAAQ,GAAK,KAAO,KACjCA,EAAiB,GAATA,EAAa,GAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EACpD,IAAIqH,EAAUrI,EAAKsI,aAEnB,OAAOtH,EAAQ,KADe,GAAXqH,EAAe,KAAOA,EAAU,GAAK,IAAMA,EAAQpT,WAAaoT,GAC/CD,I,+BAOpC,IAJM,IAAD,OACD4D,EAAc,GAEdC,EAAc,KACTnZ,EAAI,EAAGA,EAAI8D,KAAK/D,MAAM2Y,SAAS/Y,OAAQK,IAAK,CACjD,IAAIsD,EAAUQ,KAAK/D,MAAM2Y,SAAS1Y,GAC9B6D,EAAY,oBAAsBP,EAAQ8V,SAAWtV,KAAK/D,MAAMuY,OAAS,SAAW,IACpFpL,EAAOpJ,KAAK2R,UAAUnS,EAAQuJ,MACf,MAAfsM,GACIjM,EAAK6B,WAAajL,KAAK2R,UAAU0D,EAAYtM,MAAMkC,WACnDmK,EAAYpS,KACR,yBAAKjD,UAAU,aAAaa,IAAS,EAAJ1E,GAC7B,0BAAM6D,UAAU,oBACf,IAAIsJ,MAAO4B,YAAc7B,EAAK6B,UAAY,QAAUjL,KAAKuU,KAAKnL,EAAKS,UACpE,0BAAM9J,UAAU,qBAKhCqV,EAAYpS,KACR,yBAAKjD,UAAWA,EAAWa,IAAO,EAAF1E,EAAM,GAClC,yBAAK6D,UAAU,gBACX,yBAAKA,UAAU,eAAeC,KAAKuV,WAAWnM,IAC9C,yBAAKrJ,UAAU,iBAAiBP,EAAQA,YAIpD6V,EAAc7V,EAOlB,OAJA4V,EAAYpS,KACR,yBAAKc,MAAO,CAAE0R,MAAM,OAAQC,MAAO,QAAUjV,IAAK,SAACkV,GAAS,EAAKR,WAAaQ,GAAO9U,IAAkC,EAA7BZ,KAAK/D,MAAM2Y,SAAS/Y,UAI9G,yBAAKkE,UAAU,0BACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,4BAA4B6B,QAAS5B,KAAKF,MAAMqN,QAA7D,kBACA,0BAAMpN,UAAU,eAAeC,KAAK/D,MAAM0Y,aAGlD,0BAAM5U,UAAU,mBAEhB,yBAAKA,UAAU,iBACVqV,GAGL,0BAAMrV,UAAU,iBAAiB+D,MAAO,CAACqP,SAAU,WAAYC,OAAQ,WACvE,yBAAKrT,UAAU,cACX,yBAAKA,UAAU,uBAAsB,2BAAOA,UAAU,eAAeS,IAAKR,KAAK6U,WAAYxU,KAAK,OAAOD,YAAa,WAAaJ,KAAK/D,MAAM0Y,aAC5I,yBAAK5U,UAAU,cAAc6B,QAAS,WAClCrC,EAAY,EAAKO,MAAMrC,SAAU,EAAKqC,MAAMR,QAAS,EAAKuV,WAAWtS,QAAQd,OAC7E,EAAKoT,WAAWtS,QAAQd,MAAQ,GAChC,EAAKwK,cACN,uBAAGlM,UAAU,wBAAb,e,GA9HoBiC,IAAMC,WCkB5B0T,G,YACjB,WAAY7V,GAAQ,IAAD,EzBsEO8V,EyBtEP,4BACf,4CAAM9V,KAuCVwQ,UAAY,SAAChI,GAA+B,IAAvBuN,IAAsB,yDACvC,GAAIvN,IAAW,EAAKrM,MAAMqM,OAA1B,CACA,IAAIwN,EAAgB,EAAK7Z,MAAM6Z,cAC3BD,IACAC,EAAc9S,KAAKsF,GACnBvL,KAEJ,EAAKoF,SAAS,CACV2T,cAAeA,EACfxN,OAAQA,MAjDG,EAqDnByN,WAAa,WAAqB,IAApBC,IAAmB,yDAC7B,IAAK,EAAK3R,OAAQ,CACd,GAAI2R,EAEA,YADAja,OAAOiB,QAAQiZ,OAGnB,IAAIH,EAAgB,EAAK7Z,MAAM6Z,cAC/BA,EAAcI,MACe,IAAzBJ,EAAcja,SACdia,EAAgB,CAAC,EAAK7Z,MAAMka,aAEhC,EAAKhU,SAAS,CACV2T,cAAeA,EACfxN,OAAQ,YAAIwN,GAAeI,UAlEpB,EAwEnBE,WAAa,SAAA9N,GACT,EAAKjE,QAAS,EACd,IAAK,IAAInI,EAAI,EAAGA,EAAI,EAAKD,MAAM6Z,cAAcja,OAAS,EAAGK,IACrDH,OAAOiB,QAAQiZ,OAGnB,EAAK9T,SAAS,CACV2T,cAAe,CAACxN,GAChBA,OAAQA,EACR6N,WAAY7N,IAEhB,EAAKjE,QAAS,GAjFd,EAAKA,QAAS,EAEd,EAAKpI,MAAQ,CACToa,aAAc,CACVvc,MAAO,GACPK,SAAU,GACVJ,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,cAAe,GACfE,aAAc,IAElBqD,SAAU,GACV6B,SAAU,EACVJ,QAAS,GACToX,kBAAmB,KACnBC,YAAa,KACbC,cAAe,EACflO,OAAQ,QAER6N,WAAY,QACZL,cAAe,CAAC,SAChBpN,cAAc,GzB8CIkN,EyB3CP,EAAKG,WzB4C1Bha,OAAO0a,iBAAiB,YAAY,WAElCb,GAAc,MyB5CV7Z,OAAOD,iBAAmB,kCA7BX,E,mKAsFT,IzBqDaG,EAAOzB,EyBrDrB,OACDwF,KAAK/D,MAAMwB,WzBoDIxB,EyBnDJ+D,KAAK/D,MzBmDMzB,EyBnDC,gBzBoDjCoE,aAAa8X,QAAQ,eAAiBlc,EAAIsD,KAAKC,UAAU9B,KyBlDnD,IAAM0a,EAAU,CACZC,MAAO,kBAAC,EAAD,CAAaxT,QAASpD,KAAKF,MAAMsD,QAAS3F,SAAWiB,EAAU,kBAAoBA,EAAU,iBAAiBjB,SAAYiB,EAAU,iBAAiBjB,cAAW0M,EAAW3G,WAAY,kBAAM,EAAKrB,SAAS,CAACmG,OAAQ,cAC3NjF,QACI,SAAA5F,GACI,EAAK2Y,WAAW,cAEhB,IAAIS,EAAWnY,EAAU,iBACzB,GAAImY,GAAYA,EAASf,cACzB,IAAK,IAAI5Z,EAAI,EAAGA,EAAI2a,EAASf,cAAcja,OAAQK,IAC/Ca,IAGJ,EAAKoF,SAAS0U,GACd,EAAK1U,SAAS,CACV1E,SAAUA,KAItB0F,eACI,SAAArJ,GACI,EAAKqI,SAAS,CACVkU,aAAc,CACVvc,MAAOA,KAGf,EAAKsc,WAAW,iBAGxBvS,iBACI,WACI,EAAK1B,SAAS,OAKtB2U,SAAU,kBAAC,GAAD,CACVtT,WACI,kBAAM,EAAKrB,SAAS,CAACmG,OAAQ,WAEjCnE,oBACI,SAACrK,EAAOK,GACJ,EAAKgI,SAAS,CACVkU,aAAc,CACVvc,QAAOK,cAGf,EAAKmW,UAAU,0BAGvBxJ,oBAAqB,kBAAC,GAAD,CACrBvC,WACI,SAACxK,EAAWC,EAAUC,EAAOC,EAAeE,GACxC,EAAK+H,SAAS,CACVkU,aAAc,CACVtc,YAAWC,WAAUC,QAAOC,gBAAeE,eAC3CN,MAAO,EAAKmC,MAAMoa,aAAavc,MAC/BK,SAAU,EAAK8B,MAAMoa,aAAalc,YAG1C,EAAKmW,UAAU,gBAGvBhM,WACI,WACI,EAAKyR,gBAIb5O,YAAa,kBAAC,GAAD,CAAarN,MAAOkG,KAAK/D,MAAMoa,aAAavc,MAEzDwK,WACI,WACI,EAAKyR,cAIbxR,WACI,SAAAzK,GACI,EAAKqI,SAAS,CACVkU,aAAc,CACVvc,QACAC,UAAW,EAAKkC,MAAMoa,aAAatc,UACnCC,SAAU,EAAKiC,MAAMoa,aAAarc,SAClCC,MAAO,EAAKgC,MAAMoa,aAAapc,MAC/BC,cAAe,EAAK+B,MAAMoa,aAAanc,cACvCE,aAAc,EAAK6B,MAAMoa,aAAajc,aACtCD,SAAU,EAAK8B,MAAMoa,aAAalc,YAG1C,EAAKic,WAAW,gBAChBvc,EAAgBC,EAAO,EAAKmC,MAAMoa,aAAatc,UAAW,EAAKkC,MAAMoa,aAAarc,SAAU,EAAKiC,MAAMoa,aAAapc,MAAO,EAAKgC,MAAMoa,aAAanc,cAAe,EAAK+B,MAAMoa,aAAalc,SAAU,EAAK8B,MAAMoa,aAAajc,iBAGpOgN,aAAc,kBAAC,GAAD,CAActN,MAAOkG,KAAK/D,MAAMoa,aAAavc,MAAOyK,WAC9D,WACI,EAAK6R,WAAW,iBAGxBlO,eAAgB,kBAAC,GAAD,MAChBC,WAAY,kBAAC,GAAD,CACZS,eAAgB,CAEZ,CAAC,iBAAkB,eAAgB,aAAc,cAAe,kBAAmB,WAElF,CAAC,kBAAmB,eAAgB,aAAc,eAAgB,UAAW,YAClFJ,gBACI,SAAAF,GACI,EAAKgI,UAAUhI,IAGvBI,aAAc1I,KAAK/D,MAAMyM,aACzBH,YAAa,kBAAM,EAAKpG,SAAS,CAACuG,cAAe,EAAKzM,MAAMyM,kBAE5D4C,gBAAiB,kBAAC,GAAD,CAAiB6B,OAAQnN,KAAK+V,WAC/CzI,qBACI,SAACyJ,EAAYC,GACT,EAAK7U,SAAS,CACVmU,kBAAmBS,EACnBR,YAAaS,IAEjB,EAAK1G,UAAU,sBAGvB9C,YAAa,WAAK,EAAK8C,UAAU,WAEjChC,kBAAmB,kBAAC,GAAD,CAAmB9E,eAAgBxJ,KAAK/D,MAAMqa,kBAAmB3G,SAAU3P,KAAK/D,MAAMsa,YACzGpJ,OAAQ,WACJ,EAAK4I,gBAET5B,KAAM,kBAAC,GAAD,CAAMhH,OAAQnN,KAAK+V,WAAYtY,SAAUuC,KAAK/D,MAAMwB,SAC1D8G,WAAY,WACR,EAAK+L,UAAU,sBAGnBiD,gBAAiB,kBAAC,GAAD,CAAiBrU,QAASc,KAAK/D,MAAMiD,QAASiO,OAAQnN,KAAK+V,WAC5ExR,WAAY,SAACrF,GACT,EAAKiD,SAAS,CAACjD,YACf,EAAKoR,UAAU,qBAGnBgC,eAAgB,kBAAC,GAAD,CAAgBpT,QAASc,KAAKF,MAAMZ,QAASiO,OAAQnN,KAAK+V,WAAYtY,SAAUuC,KAAK/D,MAAMwB,SAC3GqV,gBAAiB,WACb,EAAKxC,UAAU,iBAGnBC,aAAc,kBAAC,GAAD,CAAc9S,SAAUuC,KAAK/D,MAAMwB,SAAUsT,gBAAiB/Q,KAAKF,MAAMiR,gBACvF5D,OAAQ,WACJ,EAAK4I,cAET/D,eAAgB,SAAC1S,GACb,EAAK6C,SAAS,CACV7C,YAEJ,EAAKgR,UAAU,cAEnB2G,QAAS,kBAAC,GAAD,CAAelG,gBAAiB/Q,KAAKF,MAAMiR,gBAAiBtT,SAAUuC,KAAK/D,MAAMwB,SAAU6B,QAASU,KAAK/D,MAAMqD,QAAS6N,OAAQnN,KAAK+V,aAC9I9D,eAAgB,kBAAC,GAAD,CAAgB9E,OAAQnN,KAAK+V,WAAYtY,SAAUuC,KAAK/D,MAAMwB,SAAU0U,gBAAiB,SAAC1I,GACtG,EAAKtH,SAAS,CACVqU,aAAc/M,EAAMjP,KAExB,EAAK8V,UAAU,kBAEnBmD,YAAa,kBAAC,GAAD,CAAahW,SAAUuC,KAAK/D,MAAMwB,SAAU0P,OAAQnN,KAAK+V,WAAYzW,QAASU,KAAK/D,MAAMua,aACtG3C,YAAa,SAACvU,GACV,EAAK6C,SAAS,CACVqU,aAAclX,IAElB,EAAKgR,UAAU,iBAAiB,IAEpCwD,cAAe,WACX,EAAKxD,UAAU,cAAc,IAEjC0B,eAAgB,SAAC1S,GACb,EAAK6C,SAAS,CACV7C,YAEJ,EAAKgR,UAAU,cAEnByD,cAAe,kBAAC,GAAD,CAAetW,SAAUuC,KAAK/D,MAAMwB,SAAU0P,OAAQnN,KAAK+V,WAAYzW,QAASU,KAAK/D,MAAMua,aAC1GxE,eAAgB,SAAC1S,GACb,EAAK6C,SAAS,CACV7C,YAEJ,EAAKgR,UAAU,YAEnBwC,gBAAiB,SAACxT,GACd,EAAK6C,SAAS,CACVqU,aAAclX,IAElB,EAAKgR,UAAU,eAAe,MAElC+B,aAAc,kBAAC,GAAD,CAAclF,OAAQnN,KAAK+V,WAAYtY,SAAUuC,KAAK/D,MAAMwB,SAAU0U,gBAAiB,SAAC1I,GAClG,EAAKtH,SAAS,CACVqU,aAAc/M,EAAMjP,KAExB,EAAK8V,UAAU,mBAIvB,OACI,kBAAC,WAAD,KAAWqG,EAAQ3W,KAAK/D,MAAMqM,a,GAnSCtG,IAAMC,W,oBCxB5BiV,I,kBAIjB,aAAe,oBACXlX,KAAKmX,UAAY,G,wDAGTC,GACR,IAAIxP,EAAQ5H,KAAKmX,UAAUtb,OAG3B,OAFAmE,KAAKmX,UAAUnU,KAAKoU,GACpB/Z,QAAQQ,IAAI,+BAAiC+J,GACtCA,I,qCAGIpN,GACXwF,KAAKmX,UAAUE,OAAO7c,EAAI,K,sCAGdyB,GACZoB,QAAQQ,IAAImC,KAAKmX,WACjB,IAAK,IAAIjb,EAAI,EAAGA,EAAI8D,KAAKmX,UAAUtb,OAAQK,IACvC8D,KAAKmX,UAAUjb,S,MCkDZob,G,2MA1DblU,QAAU,G,EACV2N,gBAAkB,IAAImG,G,wEAGpB,OACI,yBAAKnX,UAAU,OACb,kBAAC,GAAD,CAAeqD,QAASpD,KAAKoD,QAAS2N,gBAAiB/Q,KAAK+Q,qB,+BAK3DhS,GACPiB,KAAKoD,QAAUrE,EACf1B,QAAQQ,IAAIkB,GACZiB,KAAKkM,gB,0CAGc,IAAD,OAElB,GADA7O,QAAQQ,IAAI,SACR0Z,KAASC,UAAUC,cAAe,CAUpCF,KAASG,cATY,CACnBC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8CAIT,IAAIC,EAAMlY,KAEJwX,EAAYD,KAASC,YAC3BA,EAAUW,kBAAkB,2FAC5B9a,QAAQQ,IAAI,yBACZua,aAAaC,oBACZC,MAAK,WACJjb,QAAQQ,IAAI,cAAgBua,aAAaG,YACzC,IAAIxZ,EAAQyY,EAAUgB,WAEtB,OADAnb,QAAQQ,IAAIkB,GACLA,KAERuZ,MAAK,SAASvZ,GACb1B,QAAQQ,IAAIkB,GACZmZ,EAAIO,SAAS1Z,MACZ2Z,OAAM,SAAShS,GAChBrJ,QAAQQ,IAAI6I,MAGd8Q,EAAUmB,WAAU,SAACC,GACnBvb,QAAQQ,IAAI,qBAAsB+a,GAClC,EAAK7H,gBAAgB8H,gBAAgBD,EAAQxc,c,GA3DnC4F,IAAMC,WCKlB6W,GAAcC,QACW,cAA7Bhd,OAAOmB,SAAS8b,UAEe,UAA7Bjd,OAAOmB,SAAS8b,UAEhBjd,OAAOmB,SAAS8b,SAASlW,MACvB,2DAsCN,SAASmW,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTZ,MAAK,SAAAiB,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBxd,QACfmd,UAAUC,cAAcO,YAI1Bvc,QAAQQ,IACN,iHAKEsb,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlBlc,QAAQQ,IAAI,sCAGRsb,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5Bb,OAAM,SAAAtd,GACLiC,QAAQjC,MAAM,4CAA6CA,MC1FjE2e,IAASC,OAAO,kBAAC,GAAD,MAAS/e,SAAS6T,eAAe,SDgB1C,SAAkBqK,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAI/T,IAAI4U,GAAwBle,OAAOmB,SAASC,MACpD+c,SAAWne,OAAOmB,SAASgd,OAIvC,OAGFne,OAAO0a,iBAAiB,QAAQ,WAC9B,IAAMyC,EAAK,UAAMe,GAAN,sBAEPnB,KAgEV,SAAiCI,EAAOC,GAEtC5c,MAAM2c,GACHZ,MAAK,SAAA3b,GAEJ,IAAMwd,EAAcxd,EAASyd,QAAQC,IAAI,gBAEnB,MAApB1d,EAAS2d,QACO,MAAfH,IAA8D,IAAvCA,EAAY5b,QAAQ,cAG5C6a,UAAUC,cAAckB,MAAMjC,MAAK,SAAAiB,GACjCA,EAAaiB,aAAalC,MAAK,WAC7Bvc,OAAOmB,SAASud,eAKpBxB,GAAgBC,EAAOC,MAG1BT,OAAM,WACLrb,QAAQQ,IACN,oEArFA6c,CAAwBxB,EAAOC,GAI/BC,UAAUC,cAAckB,MAAMjC,MAAK,WACjCjb,QAAQQ,IACN,iHAMJob,GAAgBC,EAAOC,OCtC/BE,I,sCCZA1f,EAAOC,QAAU,03D,mBCAjBD,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,iBCA3CD,EAAOC,QAAU,0oE,mBCAjBD,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,yC","file":"static/js/main.a18fade1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/lopeseatboxlogo.fde2afc1.png\";","module.exports = __webpack_public_path__ + \"static/media/lock.26470dbb.svg\";","export const registerAccount = async (phone, firstName, lastName, email, studentNumber, password, profileImage) => {\r\n  return await postData(\"https://lopeseat.com/REST/signup.php\", {\r\n    name: firstName + \" \" + lastName,\r\n    id: studentNumber,\r\n    email: email,\r\n    phone: phone,\r\n    password: password,\r\n    profileImage: profileImage\r\n  })\r\n}\r\n\r\nexport const resendCode = async phone => {\r\n  return await postData(\"https://lopeseat.com/REST/resendCode.php\", {\r\n    phone: phone\r\n  });\r\n}\r\n\r\nexport const loginAccount = async (phone, password) => {\r\n  return await postData(\"https://lopeseat.com/REST/login.php\", {\r\n    phone: phone,\r\n    password: password\r\n  })\r\n}\r\n\r\nexport const verifyCode = async (phone, code) => {\r\n  return (await postData(\"https://lopeseat.com/REST/confirm.php?phone=\" + phone + \"&token=\" + code)).success\r\n}\r\n\r\nexport const showErrors = errors => {\r\n  let divElement = document.createElement(\"div\");\r\n  let errorListElement = document.createElement(\"div\");\r\n\r\n  for (let error of errors) {\r\n    let childElement = document.createElement(\"div\");\r\n    childElement.classList.add(\"errorItem\");\r\n    childElement.innerText = error;\r\n    errorListElement.append(childElement);\r\n  }\r\n\r\n  divElement.classList.add(\"errorWrapper\");\r\n  errorListElement.classList.add(\"errorList\")\r\n\r\n  divElement.append(errorListElement);\r\n  document.body.append(divElement);\r\n\r\n  setTimeout(() => {\r\n    document.body.removeChild(divElement);\r\n  }, 2000 + 1000 * errors.length);\r\n}\r\n\r\nexport const getScreenHandler = () => window.getScreenHandler();\r\n\r\nexport const getScreenState = () => getScreenHandler().state;\r\n\r\nexport const setScreenState = (...args) => getScreenState().setState(...args);\r\n\r\nexport const postData = async (url = '', data = {}) => {\r\n  let formData = new FormData();\r\n\r\n  for (let i in data) {\r\n    formData.append(i, data[i]);\r\n  }\r\n\r\n  // Default options are marked with *\r\n  const response = await fetch(url, {\r\n    method: 'post', // *GET, POST, PUT, DELETE, etc.\r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'force-cache',\r\n    // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached // when done will start doing default or force-cache\r\n    //   credentials: 'same-origin', // include, *same-origin, omit\r\n    // headers: {\r\n    //   'Content-Type': 'application/json'\r\n    //   'Content-Type': 'application/x-www-form-urlencoded',\r\n    // },\r\n    //   redirect: 'follow', // manual, *follow, error\r\n    //   referrer: 'client', // no-referrer , *client\r\n    // body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n    body: formData\r\n  });\r\n  // console.log(response);\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\nexport const phoneNumberTaken = async phoneNumber => {\r\n  try {\r\n    return await postData('https://lopeseat.com/REST/checkNumber.php?phone=' + phoneNumber);\r\n  } catch (e) {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport const addBackStep = () => {\r\n  window.history.pushState(null, null, window.location.href);\r\n}\r\n\r\nexport const setupBackEvent = eventCallback => {\r\n  window.addEventListener('popstate', () => {\r\n    // console.log(\"Hit back\");\r\n    eventCallback(false);\r\n  });\r\n}\r\n\r\nexport const getRestaurants = async () => {\r\n  try {\r\n    return await postData(\"https://lopeseat.com/REST/restaurants.php\");\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport const getMenu = async restaurantID => {\r\n  try {\r\n    return await postData(\"https://lopeseat.com/REST/menu.php?rid=\" + restaurantID);\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport const addCartItem = async (apiToken, id, amount, comment, items) => {\r\n  console.log(JSON.stringify(items))\r\n  try {\r\n    return await postData(`https://lopeseat.com/REST/addCartItem.php?id=${id}&amount=${amount}&comment=${comment}&options=${JSON.stringify(items)}`, {\r\n      apiToken: apiToken\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport const getCart = async apiToken => {\r\n  try {\r\n    return await postData(\"https://lopeseat.com/REST/cartItems.php\", {\r\n      apiToken: apiToken\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport const getCartPrices = async apiToken => {\r\n  try {\r\n    return await postData(\"https://lopeseat.com/REST/cartPrice.php\", {\r\n      apiToken: apiToken\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport const formatPrice = price => {\r\n    var priceS = price.toString();\r\n    if (!priceS.includes(\".\")) {\r\n        return priceS + \".00\";\r\n    }\r\n    if (priceS.length - priceS.indexOf(\".\") <= 2) {\r\n        return priceS + (\"0\").repeat(priceS.length - priceS.indexOf(\".\") - 1);\r\n    }\r\n    return priceS.substring(0,priceS.indexOf(\".\") + 3);\r\n}\r\n\r\n// export const storeGlobalState = () => {\r\n//   storeState(getScreenState(), \"screenHandler\")\r\n// }\r\n\r\nexport const storeState = (state, id) => {\r\n  localStorage.setItem(\"lastAppState\" + id, JSON.stringify(state));\r\n}\r\n\r\nexport const loadState = id => {\r\n  return JSON.parse(localStorage.getItem(\"lastAppState\" + id));\r\n}\r\n\r\nexport const updateFBToken = async (token, apiToken) => {\r\n  postData(\"https://lopeseat.com/REST/setFBToken.php\", {\r\n    token: token,\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const sendPayment = async (nonce, address, apiToken) => {\r\n  //try {\r\n    return await postData(\"https://lopeseat.com/REST/sendOrder.php\", {\r\n      nonce: nonce,\r\n      address: address,\r\n      apiToken: apiToken\r\n    });\r\n  // } catch (e) {\r\n  //   console.error(e);\r\n  // }\r\n}\r\n\r\nexport const getOrder = async (apiToken, id=-1) => {\r\n  return await postData(\"https://lopeseat.com/REST/getOrder.php\" + (id != -1 ? \"?id=\" + id : \"\"), {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const getOrderItems = async (apiToken, id) => {\r\n  return await postData(\"https://lopeseat.com/REST/orderItems.php?id=\" + id, {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const getMessages = async (apiToken, orderId) => {\r\n  return await postData(\"https://lopeseat.com/REST/getMessages.php?orderId=\" + orderId, {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const sendMessage = async (apiToken, orderId, message) => {\r\n  return await postData(\"https://lopeseat.com/REST/sendMessage.php?orderId=\" + orderId, {\r\n    apiToken: apiToken,\r\n    message: message\r\n  });\r\n}\r\n\r\nexport const getIncomingOrderList = async (apiToken) => {\r\n  return await postData(\"https://lopeseat.com/REST/orders.php?state=unclaimed\", {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const getActiveOrderList = async (apiToken) => {\r\n  return await postData(\"https://lopeseat.com/REST/orders.php?state=!unclaimed&deliverer\", {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const updateOrderState = async (apiToken, orderId, state) => {\r\n  return await postData(\"https://lopeseat.com/REST/updateOrderState.php?id=\" + orderId + \"&state=\" + state, {\r\n    apiToken: apiToken\r\n  });\r\n}\r\n\r\nexport const getOrderPaymentInfo = async (apiToken, orderId) => {\r\n  return await postData(\"https://lopeseat.com/REST/getOrderPaymentInfo.php?orderId=\" + orderId, {\r\n    apiToken: apiToken\r\n  });\r\n}","import React from 'react';\r\nimport GreyEye from '../assets/images/eye-grey.svg';\r\nimport PurpleEye from '../assets/images/eye-purple.svg';\r\n\r\nexport default class LoginScreen extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"appInput\" + ((this.props.className) ? \" \" + this.props.className : \"\")}>\r\n                {this.props.icon && <div className=\"iconHolder\"><img src={this.props.icon} alt={this.props.placeholder}/></div>}\r\n                {this.props.type === \"tel\" || this.props.type === \"number\" ?\r\n                <input maxLength=\"10\" {...this.props.passedProps} ref={this.props.passedRef} type={this.props.type} placeholder={this.props.placeholder} onKeyPress={e=> {\r\n                    let key;\r\n                    // Handle paste\r\n                    if (e.type === 'paste') {\r\n                        key = e.clipboardData.getData('text/plain');\r\n                    } else {\r\n                        key = e.keyCode || e.which;\r\n                        key = String.fromCharCode(key);\r\n                    }\r\n                    var regex = /[0-9]|\\./;\r\n                    if(!regex.test(key)) {\r\n                        e.returnValue = false;\r\n                        if(e.preventDefault) e.preventDefault();\r\n                    }\r\n                }}\r\n\r\n                onInput={\r\n                    e => {\r\n                        if (e.target.getAttribute(\"maxlength\")) {\r\n                            let maxLength = e.target.getAttribute(\"maxlength\") * 1;\r\n                            e.target.value = e.target.value.substring(0, maxLength);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                 />:\r\n                <input {...this.props.passedProps} ref={this.props.passedRef} type={this.props.type} placeholder={this.props.placeholder} defaultValue={this.props.defaultValue}/>}\r\n                {this.props.showHidden &&\r\n                <div className=\"iconHolder password\" onClick={this.props.onShow}><img alt=\"Show Password\" src={this.props.showHidden === \"off\" ? GreyEye : PurpleEye}></img></div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Input from './Input';\r\nimport Phone from '../assets/images/phone-icon.png';\r\nimport Lock from '../assets/images/lock.svg';\r\nimport {loginAccount, showErrors, resendCode, updateFBToken,postData} from '../assets/scripts/Util'\r\n\r\nexport default class LoginScreen extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        if (this.props.apiToken) {\r\n            this.checkToken(this.props.apiToken);\r\n        }\r\n        \r\n        this.state = {\r\n            showPassword: false,\r\n        };\r\n        this.phoneNumberRef = React.createRef();\r\n        this.passwordRef = React.createRef();\r\n    }\r\n\r\n    async checkToken(token) {\r\n        console.log(\"checking\" + token);\r\n\r\n        if (await postData(\"https://lopeseat.com/REST/validToken.php\", {\r\n            apiToken: token\r\n        })) {\r\n            updateFBToken(this.props.fbToken, this.props.apiToken);\r\n            this.props.onLogin(this.props.apiToken);\r\n        }\r\n    }\r\n    \r\n    toggleShowPassword = () => {\r\n        this.setState({showPassword: !this.state.showPassword})\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        \r\n    }\r\n\r\n    onSignIn = async () => {\r\n        let phoneNumber = this.phoneNumberRef.current.value;\r\n        let password = this.passwordRef.current.value;\r\n\r\n        let alphabet = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        let numbers = \"0123456789\";\r\n\r\n        let errors = [];\r\n\r\n        let doesContain = (text, chars) => {\r\n            for (let c of text) {\r\n                if (chars.includes(c)) return true;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        let isPhoneNumber = input => {\r\n            let phoneRegex = /^\\d{10}$/;\r\n            return input.match(phoneRegex);\r\n        };\r\n        \r\n\r\n        if (!isPhoneNumber(phoneNumber)) {\r\n            errors.push(\"Invalid Phone Number\");\r\n        }\r\n\r\n        if (password.length < 8) {\r\n            errors.push(\"Password needs to be at least 8 characters long\");\r\n        }\r\n\r\n        if (!(doesContain(password, alphabet) && doesContain(password, numbers))) {\r\n            errors.push(\"Must contain one letter and one number\");\r\n        }\r\n        let loginData = await loginAccount(phoneNumber, password);\r\n        if (errors.length === 0 && !loginData.success) {\r\n            if (loginData.msg === \"Account not confirmed\") {\r\n                this.props.onNotConfirmed(phoneNumber);\r\n                resendCode(phoneNumber);\r\n                return;\r\n            }\r\n            errors.push(\"Invalid login\");\r\n        }\r\n\r\n        console.log(errors);\r\n\r\n        if (errors.length === 0) {\r\n            updateFBToken(this.props.fbToken, loginData.msg);\r\n            this.props.onLogin(loginData.msg);\r\n        } else {\r\n            showErrors([\"Invalid login\"]);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"formSwitchButton\" onClick={this.props.formSwitch}>\r\n                    REGISTER\r\n                </div> \r\n                <div className=\"loginImage\">\r\n                    <img alt=\"LopesEat Logo\" src={require(\"../assets/images/lopeseaticon.png\")} className=\"imageFill\"/>\r\n                </div>\r\n                <div className=\"loginForm\">\r\n                    <div className=\"signInText\">\r\n                        <span>SIGN IN</span>\r\n                    </div>\r\n                    <div className=\"inputWrap\">\r\n                        <Input icon={Phone} passedRef={this.phoneNumberRef} autoComplete=\"current-phone\" placeholder=\"Phone Number\" type=\"tel\"/>\r\n                        <Input className=\"forgot\" passedRef={this.passwordRef} icon={Lock} showHidden={!this.state.showPassword ? \"off\" : \"on\"} onShow={this.toggleShowPassword} autoComplete=\"current-password\" type={!this.state.showPassword ? \"password\" : \"text\"} placeholder=\"Password\"/>\r\n\r\n                        <div onClick={this.props.onForgotPassword} className=\"forgotPassword\">\r\n                            Forgot password?\r\n                        </div>\r\n                        <div style={{height: '70px'}}></div>\r\n                        <button className=\"signInButton\" onClick={this.onSignIn}>\r\n                            Sign In\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Input from './Input';\r\nimport Phone from '../assets/images/phone-icon.png';\r\nimport Lock from '../assets/images/lock.svg';\r\nimport {phoneNumberTaken, showErrors} from '../assets/scripts/Util'\r\n\r\n\r\nexport default class RegisterScreen extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPassword: false\r\n        };\r\n        this.phoneNumberRef = React.createRef();\r\n        this.passwordRef = React.createRef();\r\n        this.passwordConfirmRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    toggleShowPassword = () => {\r\n        this.setState({showPassword: !this.state.showPassword})\r\n    }\r\n\r\n    registerAccount = async () => {\r\n        // eslint-disable-next-line\r\n        let phoneNumber = this.phoneNumberRef.current.value;\r\n        let password = this.passwordRef.current.value;\r\n        let confirmPassword = this.passwordConfirmRef.current.value;\r\n\r\n        let errors = [];\r\n\r\n        let alphabet = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n        let numbers = \"0123456789\";\r\n\r\n        let doesContain = (text, chars) => {\r\n            for (let c of text) {\r\n                if (chars.includes(c)) return true;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        let isPhoneNumber = input => {\r\n            let phoneRegex = /^\\d{10}$/;\r\n            return input.match(phoneRegex);\r\n        };\r\n        \r\n\r\n        if (!isPhoneNumber(phoneNumber)) {\r\n            errors.push(\"Invalid Phone Number\");\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            errors.push(\"Passwords do not match\");\r\n        }\r\n\r\n        if (password.length < 8) {\r\n            errors.push(\"Password needs to be at least 8 characters long\");\r\n        }\r\n\r\n        if (!(doesContain(password, alphabet) && doesContain(password, numbers))) {\r\n            errors.push(\"Must contain one letter and one number\");\r\n        }\r\n\r\n        if (errors.length === 0 && await phoneNumberTaken(phoneNumber)) {\r\n            errors.push(\"Phone number is taken. Try logging in.\");\r\n        }\r\n\r\n        console.log(errors);\r\n\r\n        if (errors.length === 0) {\r\n            this.proceedRegistration(phoneNumber, password);\r\n        } else {\r\n            showErrors(errors);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    proceedRegistration(phoneNumber, password) {\r\n        this.props.proceedRegistration(phoneNumber, password);\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"formSwitchButton\" onClick={this.props.formSwitch}>\r\n                    SIGN IN\r\n                </div> \r\n                <div className=\"loginImage\">\r\n                    <img alt=\"LopesEat Logo\" src={require(\"../assets/images/lopeseaticon.png\")} className=\"imageFill\"/>\r\n                </div>\r\n                <div className=\"loginForm\">\r\n                    <div className=\"signInText\">\r\n                        <span>REGISTER</span>\r\n                    </div>\r\n                    <div className=\"inputWrap\">\r\n                        <Input passedRef={this.phoneNumberRef} icon={Phone} autoComplete=\"current-phone\" placeholder=\"Phone Number\" type=\"tel\"/>\r\n                        <Input passedRef={this.passwordRef} icon={Lock} showHidden={!this.state.showPassword ? \"off\" : \"on\"} onShow={this.toggleShowPassword} autoComplete=\"current-password\" type={!this.state.showPassword ? \"password\" : \"text\"} placeholder=\"Password\"/>\r\n                        <Input passedRef={this.passwordConfirmRef} icon={Lock} showHidden={!this.state.showPassword ? \"off\" : \"on\"} onShow={this.toggleShowPassword} autoComplete=\"current-password\" type={!this.state.showPassword ? \"password\" : \"text\"} placeholder=\"Confirm password\"/>\r\n                        <button className=\"signInButton\" onClick={this.registerAccount}>\r\n                            REGISTER\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n// import onIOS from '../../assets/scripts/iosCheck';\r\n\r\nexport default class RegisterStep extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"registerHeader\">\r\n                <div className = \"registerStepTop\">\r\n                    {!this.props.noBack && <i className=\"material-icons-round\" onClick={this.props.onBackStep}>arrow_back_ios</i>}\r\n                    <div className=\"nextStepButton\" onClick={this.props.onNextStep}>DONE</div>\r\n                </div>\r\n                <div className=\"registerStepWrapper\">\r\n                    <div className=\"registerStepText\">\r\n                        {this.props.customHeader || \"Register\"}\r\n                    </div>\r\n                    {this.props.step && \r\n                    <div className=\"registerStepProgress\">\r\n                        Step {this.props.step.part}/{this.props.step.total}\r\n                    </div>\r\n                    }\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport BlankImage from '../../assets/images/blank.png';\r\nimport Compressor from 'compressorjs';\r\n\r\nexport default class ImageUploader extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onImageUpload = e => {\r\n        const file = e.target.files[0];\r\n\r\n        if (!file) {\r\n            return;\r\n        }\r\n\r\n        new Compressor(file, {\r\n            convertSize: 10000,\r\n            quality: 0.6,\r\n            success: (result) => {\r\n                var urlCreator = window.URL || window.webkitURL;\r\n                let image = new Image();\r\n                image.src = urlCreator.createObjectURL(result);\r\n\r\n                let canvas = document.createElement(\"canvas\");\r\n                canvas.width = 256;\r\n                canvas.height = 256;\r\n\r\n                let ctx = canvas.getContext(\"2d\");\r\n\r\n                image.onload = () => {\r\n                    var sourceX = image.width > image.height ? (image.width - image.height) / 2 : 0;\r\n                    var sourceY = image.height > image.width ? (image.height - image.width) / 2 : 0;\r\n                    var sourceWidth = image.width > image.height ? image.height : image.width;\r\n                    var sourceHeight = sourceWidth;\r\n                    var destWidth = 256;\r\n                    var destHeight = 256;\r\n                    var destX = canvas.width / 2 - destWidth / 2;\r\n                    var destY = canvas.height / 2 - destHeight / 2;\r\n                    ctx.drawImage(image, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);\r\n                    // console.log(canvas.toDataURL('image/jpeg'));\r\n                    this.setState({image: canvas.toDataURL(\"image/jpeg\")});\r\n                    this.props.onUpload(canvas.toDataURL('image/jpeg'));\r\n                };\r\n            },\r\n            error(err) {\r\n                // console.log(err.message);\r\n            },\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"uploaderCircle flexDisplay alignCenter\">\r\n                <div className=\"imageWrapper\">\r\n                    <img className=\"backgroundImg\" src={this.props.image || BlankImage} alt=\"\"></img>\r\n                    {!this.props.image && <div className=\"crossHair\"></div>}\r\n                    <input onChange={this.onImageUpload} className=\"imageUpload\" type=\"file\" accept=\"image/*\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport RegisterStep from './RegisterStep';\r\nimport ImageUploader from './ImageUploader';\r\nimport Input from '../Input';\r\nimport { showErrors } from '../../assets/scripts/Util';\r\n\r\nexport default class PersonalInformation extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            profileImage: null,\r\n        };\r\n        this.firstNameRef = React.createRef();\r\n        this.lastNameRef = React.createRef();\r\n        this.emailRef = React.createRef();\r\n        this.studentNumberRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onBackStep = () => {\r\n        this.props.onBackStep();\r\n    }\r\n\r\n    onNextStep = () => {\r\n        let errors = [];\r\n        let profileImage = this.state.profileImage;\r\n        let firstName = this.firstNameRef.current.value;\r\n        let lastName = this.lastNameRef.current.value;\r\n        let email = this.emailRef.current.value;\r\n        let studentNumber = this.studentNumberRef.current.value;\r\n        let checkEmail = mail => {\r\n            // eslint-disable-next-line\r\n            return /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail);\r\n        }\r\n\r\n        if (!profileImage) {\r\n            errors.push(\"No profile picture added\");\r\n        }\r\n        if (firstName.length === 0) {\r\n            errors.push(\"No first name added\");\r\n        }\r\n        if (lastName.length === 0) {\r\n            errors.push(\"No last name added\");\r\n        }\r\n        if (!checkEmail(email)) {\r\n            errors.push(\"Email invalid\");\r\n        }\r\n        if (studentNumber.length !== 8) {\r\n            errors.push(\"Student number invalid\");\r\n        }\r\n\r\n        if (errors.length === 0) {\r\n            this.props.onNextStep(firstName, lastName, email, studentNumber, profileImage);\r\n        } else {\r\n            showErrors(errors);\r\n        }\r\n    }\r\n\r\n    onUpload = data => {\r\n        this.setState({profileImage: data});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">\r\n                <RegisterStep step={{part: 1, total: 3}} onNextStep={this.onNextStep} onBackStep={this.onBackStep}/>\r\n                <div className=\"registerStepBanner\">Personal Information</div>\r\n                <div className=\"registerFormContainer flex alignCenter\">\r\n                    <div className=\"flex flexDisplay alignCenter uploaderContainer\"><ImageUploader image={this.state.profileImage} onUpload={this.onUpload} /></div>\r\n                    <div className=\"labeledInput\">\r\n                        <div className=\"label\">First Name</div>\r\n                        <Input passedRef={this.firstNameRef} placeholder=\"Joshua\"/>\r\n                    </div>\r\n                    <div className=\"labeledInput\">\r\n                        <div className=\"label\">Last Name</div>\r\n                        <Input passedRef={this.lastNameRef} placeholder=\"Thornburg\"/>\r\n                    </div>\r\n                    <div className=\"labeledInput\">\r\n                        <div className=\"label\">Email</div>\r\n                        <Input passedRef={this.emailRef} placeholder=\"LopesEat@lopeseat.com\"/>\r\n                    </div>\r\n                    <div className=\"labeledInput\">\r\n                        <div className=\"label\">Student Number</div>\r\n                        <Input passedRef={this.studentNumberRef} placeholder=\"20405673\" type=\"number\" passedProps={{maxLength: 8}}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport RegisterStep from './RegisterStep';\r\nimport Input from '../Input';\r\nimport Phone from '../../assets/images/phone-icon.png';\r\nimport { phoneNumberTaken, showErrors } from '../../assets/scripts/Util';\r\n\r\nexport default class VerifyPhone extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.phoneNumberRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onNextStep = async () => {\r\n        let errors = [];\r\n        let phoneNumber = this.phoneNumberRef.current.value;\r\n\r\n        console.log(this.phoneNumberRef.current);\r\n        console.log(this.phoneNumberRef.current.value);\r\n\r\n\r\n        let isPhoneNumber = input => {\r\n            let phoneRegex = /^\\d{10}$/;\r\n            return input.match(phoneRegex);\r\n        };\r\n        \r\n\r\n        if (!isPhoneNumber(phoneNumber)) {\r\n            errors.push(\"Invalid Phone Number\");\r\n        }\r\n\r\n        if (errors.length === 0 && await phoneNumberTaken(phoneNumber)) {\r\n            errors.push(\"Phone number is taken. Try logging in.\");\r\n        }\r\n\r\n        if (errors.length === 0) {\r\n            this.props.onNextStep(phoneNumber);\r\n        } else {\r\n            showErrors(errors);\r\n        }\r\n    }\r\n\r\n    onBackStep = () => {\r\n        this.props.onBackStep();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">\r\n                <RegisterStep step={{part: 2, total: 3}} onNextStep={this.onNextStep} onBackStep={this.onBackStep}/>\r\n                <div className=\"registerStepBanner\">Verify Phone</div>\r\n                <div className=\"registerFormContainer flex alignCenter\">\r\n                    <div className=\"labeledInput\">\r\n                        <div className=\"label\">Confirm Phone Number</div>\r\n                        <Input passedRef={this.phoneNumberRef} passedProps={{defaultValue: this.props.phone}} icon={Phone} autoComplete=\"current-phone\" placeholder=\"Phone Number\" type=\"tel\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport RegisterStep from './RegisterStep';\r\nimport {verifyCode, showErrors} from '../../assets/scripts/Util';\r\n\r\nexport default class PhoneConfirm extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            code: \"\",\r\n        };\r\n\r\n        this.codeRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onNextStep = async (bypass = false) => {\r\n        if (bypass || await verifyCode(this.props.phone, this.codeRef.value)) {\r\n            this.props.onNextStep();\r\n        } else {\r\n            showErrors([\"Invalid Code\"]);\r\n        }\r\n    }\r\n\r\n    onChange = async e => {\r\n        e.target.value=e.target.value.replace(/(?![0-9])./gmi,'');\r\n        e.target.value = e.target.value.slice(0,6);\r\n        if (e.target.value !== this.state.code) {\r\n            this.setState({code: e.target.value});\r\n            if (e.target.value.length === 6 && await verifyCode(this.props.phone, e.target.value)) {\r\n                this.onNextStep(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let elements = [...[...this.state.code], ...Array(6-this.state.code.length)];\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">\r\n                <RegisterStep step={{part: 3, total: 3}} noBack onNextStep={this.onNextStep}/>\r\n                <div className=\"registerStepBanner\">Verify Phone</div>\r\n                <div className=\"registerFormContainer flex\">\r\n                    <p>We've send a code to your phone number {this.props.phone}</p>\r\n                    <p>Enter in the code and we can get started!</p>\r\n                    <div className=\"flexDisplay alignCenter\">\r\n                        <div className=\"code-input\">\r\n                            {elements.map((value, index) => {\r\n                                return <div className={\"code-input-element\" + (value ? \" filled\" : \"\")} key={index}>{value}</div>\r\n                            })}\r\n                            <input ref={this.codeRef} className=\"hidden-input\" onInput={this.onChange} type=\"number\" maxLength=\"6\" size=\"1\" pattern=\"[0-9]{6}\" autoComplete=\"one-time-code\" spellCheck=\"false\" autoCorrect=\"off\" autoCapitalize=\"off\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport RegisterStep from './RegisterProcess/RegisterStep';\r\nimport Input from './Input';\r\nimport Lock from '../assets/images/lock.svg'\r\n\r\n\r\nexport default class ForgotPassword extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPassword: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    toggleShowPassword = () => {\r\n        this.setState({showPassword: !this.state.showPassword})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">\r\n                <RegisterStep customHeader=\"Profile\"/>\r\n                <div className=\"registerStepBanner\">Reset Password</div>\r\n                <div className=\"registerFormContainer flex alignCenter\">\r\n                    <Input icon={Lock} showHidden={!this.state.showPassword ? \"off\" : \"on\"} onShow={this.toggleShowPassword} autoComplete=\"current-password\" type={!this.state.showPassword ? \"password\" : \"text\"} placeholder=\"New Password\"/>\r\n                    <Input icon={Lock} showHidden={!this.state.showPassword ? \"off\" : \"on\"} onShow={this.toggleShowPassword} autoComplete=\"current-password\" type={!this.state.showPassword ? \"password\" : \"text\"} placeholder=\"Confirm password\"/>\r\n\r\n                    <button className=\"signInButton\">\r\n                        CHANGE PASSWORD\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport LopesWayImage from '../assets/images/gcu-lopesway.jpg';\r\n\r\n\r\nexport default class HomeScreen extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPassword: false\r\n        };\r\n\r\n        this.tiles = [\r\n            // Delivery Mode\r\n            [{\r\n                title: \"Incoming Orders\",\r\n                icon: \"restaurant\"\r\n            },\r\n            {\r\n                title: \"Active Orders\",\r\n                icon: \"timer\",\r\n            },\r\n            {\r\n                title: \"Ordering Mode\",\r\n                // icon: \"fastfood\"\r\n                icon: \"local_shipping\"\r\n            },\r\n            {\r\n                title: \"Leader Board??\",\r\n                icon: \"track_changes\",\r\n            },\r\n            {\r\n                title: \"Completed Orders\",\r\n                icon: \"update\",\r\n            },\r\n            {\r\n                title: \"Profile\",\r\n                icon: \"person\",\r\n            }],\r\n            //Customer Mode\r\n            [{\r\n                title: \"Restaurants\",\r\n                icon: \"restaurant\"\r\n            },\r\n            {\r\n                title: \"Recent Orders\",\r\n                icon: \"timer\",\r\n            },\r\n            {\r\n                title: \"Delivery Mode\",\r\n                // icon: \"fastfood\"\r\n                icon: \"local_shipping\"\r\n            },\r\n            {\r\n                title: \"Order Tracker\",\r\n                icon: \"track_changes\",\r\n            }, \r\n            {\r\n                title: \"Dining Updates\",\r\n                icon: \"update\",\r\n            }, \r\n            {\r\n                title: \"Profile\",\r\n                icon: \"person\",\r\n            }]\r\n        ]\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    changeScreen(screen) {\r\n        if (screen === \"SwitchMode\") {\r\n            this.props.switchModes();\r\n        } else\r\n            this.props.onMenuItemClick(screen);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"flex img-fill\">\r\n                    <img  alt=\"Lopes Way\" src={LopesWayImage}/>\r\n                    <div className=\"imageGradient\"></div>\r\n                    <div className=\"mainDisplayText\">\r\n                        <div className=\"subHeading\">{this.props.deliveryMode ? \"Deliver for\" : \"Welcome to\"}</div>\r\n                        <div className=\"heading\">LopesEat</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"screenTiles\">\r\n                    {\r\n                        this.tiles[this.props.deliveryMode ? 0 : 1].map((value, index) => {\r\n                            return <div className={\"screenTile\"} key={index} onClick={() => {this.changeScreen(this.props.tileNavigation[this.props.deliveryMode ? 0:1][index])}}>\r\n                                <div className=\"iconTile\">\r\n                                    <i className=\"material-icons-round\">{value.icon}</i>\r\n                                </div>\r\n                                <div>\r\n                                    {value.title}\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class FloatingCartButton extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <button className=\"floatingCartButton\" onClick={()=>{this.props.onClick()}}><i className=\"material-icons-round\">shopping_cart</i></button>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\n\r\nexport const isOpen = (restaurantData) => {\r\n    let order = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    //current time in relation to Phoenix time zone\r\n    let currentTime = new Date(new Date().toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n    let pastDay = order[(currentTime.getDay() + 6) % 7];\r\n    let open = false;\r\n    let weekDay = order[currentTime.getDay()];\r\n    if (restaurantData.hours[order[currentTime.getDay()]]) {\r\n\r\n        for (let timeIndex in restaurantData.hours[weekDay].hours) {\r\n            let times = restaurantData.hours[weekDay].hours[timeIndex];\r\n            let splitStartTime = times.start.split(\":\").map(x => parseInt(x));\r\n            let startTime = new Date(new Date().setHours(splitStartTime[0], splitStartTime[1]));\r\n            let endTimeString = times.end;\r\n            if (endTimeString.includes(\".\")) \r\n                endTimeString = endTimeString.split(\".\")[1];\r\n            let splitEndTime = endTimeString.split(\":\").map(x => parseInt(x));\r\n            let endTime = new Date(new Date().setHours(splitEndTime[0], splitEndTime[1]));\r\n            if (startTime > endTime) {\r\n                endTime.setDate(endTime.getDate() + 1);\r\n            }\r\n            if (currentTime.getTime() >= startTime.getTime() && currentTime.getTime() <= endTime.getTime()) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (!open && restaurantData.hours[pastDay]) {\r\n            let pastHours = restaurantData.hours[pastDay].hours;\r\n            let lastHour = pastHours[pastHours.length - 1];\r\n            if (lastHour.end.includes(\".\")) {\r\n                let splitEndTime = lastHour.end.split(\":\").map(x => parseInt(x));\r\n                let endTime = new Date(new Date().setHours(splitEndTime[0], splitEndTime[1]));\r\n                if (endTime.getTime() >= currentTime.getTime()) {\r\n                    return true;\r\n                }\r\n            }\r\n        }   \r\n    }\r\n    return false;\r\n}\r\n\r\nexport default class HoursList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n\r\n    formatTime(time) {\r\n        let splitTime = time.split(\":\");\r\n        let hourTime = parseInt(splitTime[0]);\r\n        if (hourTime > 12) {\r\n            return hourTime - 12 + \":\" + splitTime[1] + \" PM\"\r\n        }\r\n        return hourTime + \":\" + splitTime[1] + \" AM\"\r\n    }\r\n\r\n    makePHXTime(date) {\r\n        return new Date(date.toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n    }\r\n\r\n    render() {\r\n        this.restaurantData = this.props.restaurantData;\r\n        return (\r\n            <div className=\"hoursList\">\r\n                <div className=\"title\">Hours of Operation</div>\r\n                {(() => {\r\n                    let order = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n                    //current time in relation to Phoenix time zone\r\n                    let currentTime = new Date(new Date().toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n                    let output = [];\r\n                    let pastDay = order[(currentTime.getDay() + 6) % 7];\r\n                    for (let weekDay of order) {\r\n                        let sameDay = weekDay === order[currentTime.getDay()];\r\n                        let currentlyOpen = {\r\n                            open: false,\r\n                            timeSlot: undefined\r\n                        }\r\n                        if (sameDay && this.restaurantData.hours[weekDay]) {\r\n\r\n                            for (let timeIndex in this.restaurantData.hours[weekDay].hours) {\r\n                                let times = this.restaurantData.hours[weekDay].hours[timeIndex];\r\n                                let splitStartTime = times.start.split(\":\").map(x => parseInt(x));\r\n                                let startTime = new Date(new Date().setHours(splitStartTime[0], splitStartTime[1]));\r\n                                let endTimeString = times.end;\r\n                                if (endTimeString.includes(\".\")) \r\n                                    endTimeString = endTimeString.split(\".\")[1];\r\n                                let splitEndTime = endTimeString.split(\":\").map(x => parseInt(x));\r\n                                \r\n                                let endTime = new Date(new Date().setHours(splitEndTime[0], splitEndTime[1]));\r\n\r\n                                if (startTime > endTime) {\r\n                                    endTime.setDate(endTime.getDate() + 1);\r\n                                }\r\n                                if (currentTime.getTime() >= startTime.getTime() && currentTime.getTime() <= endTime.getTime()) {\r\n                                    currentlyOpen = {\r\n                                        open: true,\r\n                                        timeSlot: parseInt(timeIndex)\r\n                                    }\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (!currentlyOpen.open && this.restaurantData.hours[pastDay]) {\r\n                                let pastHours = this.restaurantData.hours[pastDay].hours;\r\n                                let lastHour = pastHours[pastHours.length - 1];\r\n                                if (lastHour.end.includes(\".\")) {\r\n                                    let splitEndTime = lastHour.end.split(\":\").map(x => parseInt(x));\r\n                                    let endTime = new Date(new Date().setHours(splitEndTime[0], splitEndTime[1]));\r\n                                    if (endTime.getTime() >= currentTime.getTime()) {\r\n                                        currentlyOpen.open = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        output.push(\r\n                            <div key={weekDay} className={\"hourOpen\" + (currentlyOpen.open ? \" isOpen\" : \"\") + (sameDay ? \" sameDay\" : \"\")}>\r\n                                <div className=\"weekDay\">{weekDay}</div>\r\n                                <div className=\"openTimeList\">\r\n                                    {(() => {\r\n                                        if (!this.restaurantData.hours[weekDay])\r\n                                            return <div className=\"noTime\">Closed</div>;\r\n                                        \r\n                                        return this.restaurantData.hours[weekDay].hours.map((value, index) => <div key={index} className={\"openTimeItem\" + (index === currentlyOpen.timeSlot ? \" isOpen\" : \"\")}>\r\n                                            <div className=\"openTime\">{this.formatTime(value.start)}</div>\r\n                                            <div className=\"closingTime\">{this.formatTime(value.end)}</div>\r\n                                        </div>);\r\n                                    })()}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    return output;\r\n                })()}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n// import LopesEatIcon from '../../assets/images/icon-72x72.png';\r\nimport SearchIcon from '../../assets/images/search-grey.svg';\r\nimport { getRestaurants, getMenu } from '../../assets/scripts/Util';\r\nimport FloatingCartButton from '../FloatingCartButton';\r\nimport {isOpen} from '../HoursList';\r\n\r\nexport default class RestaurantsList extends React.Component {\r\n    sortType = {\r\n        ALPHA: \"alpha\",\r\n        WAITTIME: \"time\",\r\n        COST: \"cost\"\r\n    }\r\n\r\n    restaurants = [];\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            onlyOpen: true,\r\n            flipOrder: false,\r\n            sortBy: this.sortType.ALPHA,\r\n            sortedRestaurants: this.restaurants,\r\n            searchFilter: \"\",\r\n        };\r\n\r\n        this.fetchData();\r\n        console.log(this.restaurants);\r\n        \r\n    }\r\n\r\n    async fetchData() {\r\n        this.restaurants = await getRestaurants();\r\n        console.log(this.restaurants);\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    sortRestaurants() {\r\n        let output = this.restaurants.sort((a,b) => a.name.localeCompare(b.name));\r\n\r\n        let removeSpecial = input => {\r\n            let spaceChars = \"-~.\";\r\n            let output = \"\";\r\n            for (let c of input) {\r\n                if (spaceChars.includes(c)) {\r\n                    output += \" \";\r\n                } else {\r\n                    output += c;\r\n                }\r\n            }\r\n            return output.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/\\s+/g,'').trim();;\r\n        }\r\n\r\n        let startingFilter = output.filter(x => removeSpecial(x.name.toLowerCase()).startsWith(removeSpecial(this.state.searchFilter.toLowerCase())));\r\n        let containingFilter = output.filter(x => x.name.toLowerCase().includes(this.state.searchFilter.toLowerCase()));\r\n\r\n        output = [...new Set([...startingFilter, ...containingFilter])];\r\n        if (this.state.onlyOpen)\r\n            output = output.filter(x => isOpen(x));\r\n        \r\n        if (this.state.sortBy === this.sortType.WAITTIME)\r\n            output = output.sort((a,b) => a.wait - b.wait);\r\n        \r\n        if (this.state.sortBy === this.sortType.COST)\r\n            output = output.sort((a,b) => a.cost - b.cost);\r\n\r\n        if (this.state.flipOrder)\r\n            output = output.reverse();\r\n\r\n        return output;\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        // hello.run();\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"restaurantHeader\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Restaurants</span>\r\n                    </div>\r\n                    <div className=\"sortControl\">\r\n                        <div className=\"searchBox\">\r\n                            <div className=\"searchIcon iconHolder\"><img alt=\"Search\" src={SearchIcon}/></div>\r\n                            <input type=\"text\" placeholder=\"Search\" onInput={e => {this.setState({searchFilter: e.target.value})}}></input>\r\n                        </div>\r\n                        <div className=\"sortOptions\">\r\n                            {/* sort by (name, wait time, pricing), toggle open and closed, reverse search */}\r\n                            <div onClick={()=>{this.setState({sortBy: this.sortType.ALPHA})}} className={\"sortOption\" + (this.state.sortBy === this.sortType.ALPHA ? \" active\" : \"\")}>\r\n                                <i className=\"sortIcon material-icons-round\">sort_by_alpha</i>\r\n                            </div>\r\n                            <div onClick={()=>{this.setState({sortBy: this.sortType.WAITTIME})}} className={\"sortOption\" + (this.state.sortBy === this.sortType.WAITTIME ? \" active\" : \"\")}>\r\n                                <i className=\"sortIcon material-icons-round\">timer</i>\r\n                            </div>\r\n                            <div onClick={()=>{this.setState({sortBy: this.sortType.COST})}} className={\"sortOption\" + (this.state.sortBy === this.sortType.COST ? \" active\" : \"\")}>\r\n                                <i className=\"sortIcon material-icons\">attach_money</i>\r\n                            </div>\r\n                            <div className=\"sortOption splitter\"></div>\r\n                            <div onClick={()=>{this.setState({onlyOpen: !this.state.onlyOpen})}} className={\"sortOption\" + (this.state.onlyOpen ? \" active\" : \"\")}>\r\n                                {this.state.onlyOpen ? <i className=\"sortIcon fas fa-door-open\"></i> : <i className=\"sortIcon fas fa-door-closed\"></i>}\r\n                            </div>\r\n                            <div onClick={()=>{this.setState({flipOrder: !this.state.flipOrder})}} className=\"sortOption\">\r\n                                {!this.state.flipOrder ? <i className=\"sortIcon fas fa-sort-up\"></i> : <i className=\"sortIcon fas fa-sort-down\"></i>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"restaurantList\">\r\n                    {\r\n                    this.sortRestaurants().map((value, index) => {return <div onClick={async () => this.props.openRestaurantScreen(value, await getMenu(value.id))} key={index} className=\"restaurantItem\">\r\n                        <div className=\"imageHolder img-fill\"><img alt={value.name} src={value.logo}/></div>\r\n                        <div className=\"restaurantName\">{value.name}</div>\r\n                    </div>})\r\n                    }\r\n                </div>\r\n                <FloatingCartButton onClick={()=>{this.props.onCartClick()}}></FloatingCartButton>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {formatPrice} from '../assets/scripts/Util';\r\nimport '../assets/styles/Selector.css';\r\n\r\nexport default class Selector extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            name: this.props.option.name,\r\n            choice: this.props.option.default,\r\n            choices: this.props.option.choices\r\n        };\r\n\r\n        this.optionsRef = React.createRef();\r\n\r\n        this.props.populate(this.props.option.default);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onSelection = i => {\r\n        this.setState({\r\n            choice: i\r\n        })\r\n        this.toggleDropdown();\r\n        if (this.props.onSelection)\r\n            this.props.onSelection(i);\r\n    }\r\n\r\n    toggleDropdown = () => {\r\n        this.optionsRef.current.classList.toggle(\"show\");\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.state.choices)\r\n        return <div className=\"selector\" ref={this.optionsRef}>\r\n            <div className=\"choiceName\">\r\n                {this.state.name}\r\n            </div>\r\n            <div className=\"selectorChoice\" onClick={this.toggleDropdown}>\r\n                <div className=\"information\">\r\n                    <div className=\"name\">{this.state.choice}</div>\r\n                    {this.state.choices[this.state.choice].cost !== 0 && <div className=\"cost\">${formatPrice(this.state.choices[this.state.choice].cost)}</div>}\r\n                </div>\r\n                <span className=\"expandButton\"><i className=\"material-icons\">\r\n                keyboard_arrow_down\r\n                </i></span>\r\n            </div>\r\n            <div className=\"selectorOptions\">\r\n                {makeMap(this.state.choices).filter((_x, i) => i !== this.state.choice).map((x, i) => {\r\n                    // console.log(x);\r\n                    return <div key={i} className=\"selectorOption\" onClick={() => this.onSelection(i)}>\r\n                        <div className=\"name\">{i}</div>\r\n                        {x.cost !== 0 && <div className=\"cost\">${formatPrice(x.cost)}</div>}\r\n                    </div>\r\n                })}\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nfunction makeMap(x) {\r\n    return new MapObject(x);\r\n}\r\n\r\nclass MapObject {\r\n    constructor(x) {\r\n        for (let i in x) {\r\n            this[i] = x[i]\r\n        }\r\n    }\r\n\r\n    map(fn) {\r\n        let output = [];\r\n        for (let i in this) {\r\n            if (i === \"map\") continue;\r\n            output.push(fn(this[i], i));\r\n        }\r\n        return output;\r\n    }\r\n\r\n    filter(fn) {\r\n        let output = {};\r\n        for (let i in this) {\r\n            if (fn(this[i], i)) output[i] = this[i];\r\n        }\r\n        return new MapObject(output);\r\n    }\r\n}","import React, { Fragment } from 'react'\r\nimport HoursList from '../HoursList';\r\nimport Selector from '../Selector';\r\nimport FloatingCartButton from '../FloatingCartButton';\r\nimport {getScreenHandler, addCartItem, getScreenState, formatPrice} from '../../assets/scripts/Util';\r\n\r\nexport default class RestaurantDetails extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(this.props.restaurantData);\r\n        console.log(this.props.menuData);\r\n        \r\n        let options = [\r\n            {\r\n                id: 4,\r\n                choices: [[]]\r\n            }\r\n        ]\r\n\r\n\r\n        this.state = {\r\n            selectedItem: null,\r\n            optionsChosen: [],\r\n            instructions: null,\r\n        };\r\n\r\n        this.restaurantData.hours = this.props.restaurantData.hours;\r\n        this.restaurantData.food = this.props.menuData;\r\n    }\r\n\r\n    restaurantData = {};\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    onContentScroll = e => {\r\n        const target = e.currentTarget; //using currentTarget instead of target because of event bubbling\r\n        let scrollLevel = target.scrollTop;\r\n        let bannerHeight = Math.round(175 - scrollLevel);\r\n        bannerHeight = bannerHeight > 54 ? bannerHeight : 54;\r\n        document.getElementById(\"restaurantSplash\").style.height = bannerHeight + \"px\";\r\n        scrollLevel = scrollLevel > 54 ? 54 : scrollLevel;\r\n        target.style.paddingTop = scrollLevel + \"px\";\r\n    }\r\n\r\n    formatTime(time) {\r\n        let splitTime = time.split(\":\");\r\n        let hourTime = parseInt(splitTime[0]);\r\n        if (hourTime > 12) {\r\n            return hourTime - 12 + \":\" + splitTime[1] + \" PM\"\r\n        }\r\n        return hourTime + \":\" + splitTime[1] + \" AM\"\r\n    }\r\n\r\n    makePHXTime(date) {\r\n        return new Date(date.toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n    }\r\n\r\n    openItem = item => {\r\n        console.log(item);\r\n        this.setState({\r\n            selectedItem: item\r\n        });\r\n    }\r\n\r\n    closeItem = () => {\r\n        this.setState({\r\n            selectedItem: null\r\n        });\r\n    }\r\n\r\n    addToCart = () => {\r\n        addCartItem(getScreenState().apiToken, this.state.selectedItem.id, 1, this.state.instructions ? this.state.instructions : \"\", this.state.optionsChosen);\r\n\r\n        this.closeItem();\r\n    }\r\n\r\n    calculatePrice = () => {\r\n        let c = this.state.optionsChosen;\r\n        if (!c) return 0;\r\n        let output = 0;\r\n        console.log(c);\r\n        JSON.parse(this.state.selectedItem.items).forEach((item, i) => {\r\n            item.options.forEach((option, j) => {\r\n                console.log(option, i + \" : \" + j);\r\n                if (c[i] && c[i][j] && option.choices[c[i][j]])\r\n                    output += option.choices[c[i][j]].cost;\r\n            })\r\n        })\r\n        return output;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div className=\"itemShow\" style={\r\n                    {\r\n                        opacity: this.state.selectedItem ? 1 : 0,\r\n                        pointerEvents: this.state.selectedItem ? \"auto\" : \"none\"\r\n                    }\r\n                }>\r\n                    <div className=\"itemContainer\">\r\n                        <div className=\"closeIcon\" onClick={this.closeItem}><i className=\"material-icons-round\">close</i></div>\r\n                        { this.state.selectedItem && <div className=\"itemContent\">\r\n                            <div className=\"itemImage img-fill\">\r\n                                <img className=\"foodImage\" alt={\"Food\"} src={this.state.selectedItem.image}/>\r\n                            </div>\r\n                            <div className=\"itemName\">\r\n                                {this.state.selectedItem.name}\r\n                            </div>\r\n                            <div className=\"subItems\">\r\n                                {\r\n                                    JSON.parse(this.state.selectedItem.items).map((x, i) => <div key={i}>\r\n                                        <div className=\"subItemInfo\">\r\n                                            {x.tags.length > 0 && <span>Info</span>}\r\n                                            {/*JSON.stringify(x.tags.map(y => y))*/}\r\n                                        </div>\r\n                                        <div className=\"subItemOptions\">\r\n                                            {x.options.length > 0 && <Fragment><span className=\"optionText\">{x.name}</span><div className=\"separator\"></div></Fragment>}\r\n                                            {x.options.map((option, j) => <Selector populate={choiceIndex=>{\r\n                                                let choices = this.state.optionsChosen;\r\n                                                if (!choices[i]) choices[i] = [];\r\n                                                choices[i][j] = choiceIndex;\r\n                                                this.setState({optionsChosen: choices})\r\n                                            }} onSelection={choiceIndex => {\r\n                                                let choices = this.state.optionsChosen;\r\n                                                if (!choices[i]) choices[i] = [];\r\n                                                choices[i][j] = choiceIndex;\r\n                                                this.setState({optionsChosen: choices})\r\n                                            }} key={j} option={option} />)}\r\n                                        </div>\r\n                                    </div>)\r\n                                }\r\n                            </div>\r\n                            {this.state.selectedItem.specialInstructions === 1 && <div className=\"specialInstructionsWrapper\">\r\n                                <div className=\"SIText\">Special Instructions</div>\r\n                                <div className=\"SIInput\">\r\n                                    <textarea onChange={e=>{this.setState({instructions: e.currentTarget.value})}}></textarea>\r\n                                </div>\r\n                            </div>}\r\n                            <div className=\"addToCartFAB\" onClick={this.addToCart}>\r\n                                <span>Add to Cart</span> <i className=\"material-icons-round\">shopping_cart</i>\r\n                            </div>\r\n                            <div className=\"itemsCost\">\r\n                                ${formatPrice(this.state.selectedItem.price)} + {formatPrice(this.calculatePrice())} = ${formatPrice(this.state.selectedItem.price + this.calculatePrice())}\r\n                            </div>\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flexDisplay fillHeight\">\r\n                    <div className=\"backIcon\"><i className=\"material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i></div>        \r\n                    <div id=\"restaurantSplash\" className=\"restaurantSplash img-fill\">\r\n                        <img alt=\"\" src={this.props.restaurantData.banner}></img>\r\n                        <div className=\"restaurantTitle\">{this.props.restaurantData.name}</div>\r\n                    </div>\r\n                    <div className=\"restaurantDetails\" onScroll={this.onContentScroll}>\r\n                        <div className=\"restaurantInfo\">\r\n                            <div className=\"restaurantDescription\">\r\n                                {this.props.restaurantData.description}\r\n                            </div>\r\n                            <HoursList restaurantData={this.restaurantData}/>\r\n                            \r\n                        </div>\r\n                        <div className=\"restaurantFood\">\r\n                            <div className=\"featuredMenu\">\r\n                                <div className=\"title\">Popular Options</div>\r\n                                <div className=\"scrollArea\">\r\n                                    <div className=\"scrollCapFill\"></div>\r\n                                    {this.restaurantData.food.filter(x => x.featured).map((x, index) => <div key={index} className=\"featuredFoodItem\"><div className=\"contentContainer\">\r\n                                        {/*x.name*/}\r\n                                    </div></div>)}\r\n                                    <div className=\"scrollCapFill\"></div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"fullMenu\">\r\n                                <div className=\"title\">Meal Options</div>\r\n\r\n                                {this.props.menuData.map((item, index) => <div key={index} className=\"menuItem\" onClick={() => this.openItem(item)}>\r\n                                        <div className=\"itemImage img-fill\"><img className=\"foodImage\" alt=\"\" src={item.image}></img></div>\r\n                                        <div className=\"itemContent\">\r\n                                            <div className=\"name\">{item.name}</div>\r\n                                            <div className=\"price\">${item.price}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <FloatingCartButton  onClick={()=>{getScreenHandler().setScreen(\"Cart\");}}></FloatingCartButton>\r\n            </Fragment>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport { getOrder } from '../../assets/scripts/Util';\r\n\r\nexport default class OrderTracker extends React.Component {\r\n\r\n    listenerId;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.orderStates = [\"unclaimed\", \"claimed\", \"en route\", \"arrived\", \"completed\"];\r\n\r\n        this.state = {\r\n            order: null,\r\n            orderState: \"unclaimed\",\r\n            placed: null,\r\n            claimed: null,\r\n            enroute: null,\r\n            arrived: null,\r\n            wait: 45\r\n        };\r\n\r\n        this.fetchData();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.listenerId = this.props.messageListener.addListener(() => {this.fetchData()});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.messageListener.removeListener(this.listenerId);\r\n    }\r\n\r\n    makePHXTime(date) {\r\n        return new Date(date.toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n    }\r\n\r\n    parseDate(dateString) {\r\n        if (dateString == null)\r\n            return null;\r\n        var t = dateString.split(/[- :]/);\r\n        var d = new Date(Date.UTC(t[0], t[1]-1, t[2], t[3], t[4], t[5]));\r\n        return this.formatTime(this.makePHXTime(d));\r\n    }\r\n\r\n    formatTime(date) {\r\n        var hours = date.getHours();\r\n        var suffix = hours > 12 ? \"PM\" : \"AM\";\r\n        hours = hours == 0 ? 12 : hours > 12 ? hours - 12 : hours;\r\n        var minutes = date.getMinutes();\r\n        var minuteString = minutes == 0 ? \"00\" : minutes < 10 ? \"0\" + minutes.toString() : minutes;\r\n        return hours + \":\" + minuteString + suffix;\r\n    }\r\n\r\n    async fetchData() {\r\n        this.order = await getOrder(this.props.apiToken);\r\n        console.log(this.order);\r\n        \r\n        if (this.order != null) {\r\n            var order = this.order.id;\r\n            var orderState = this.order.state;\r\n            var placed = this.parseDate(this.order.placed);\r\n            var claimed = this.parseDate(this.order.claimed);\r\n            var enroute = this.parseDate(this.order.en_route);\r\n            var arrived = this.parseDate(this.order.arrived);\r\n            var wait = this.order.wait.toString();\r\n            wait = wait.substring(0, wait.indexOf(\".\"));\r\n\r\n            this.setState({\r\n                order,\r\n                orderState,\r\n                placed,\r\n                claimed,\r\n                enroute,\r\n                arrived,\r\n                wait\r\n            })\r\n        }\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        var index = this.orderStates.indexOf(this.state.orderState);\r\n\r\n        var content;\r\n        var footer;\r\n\r\n        if (this.order != null) {\r\n            content = (\r\n                <div className=\"flexDisplayRow\" style={{height: \"90%\"}}>\r\n                    <div className=\"flexDisplay trackerItems\">\r\n                        <div className=\"trackerText\">\r\n                            Sent Request\r\n                            <div className=\"trackerSubText\">{this.state.placed}</div>\r\n                        </div>\r\n                        \r\n                        <div className={\"trackerImage trackerConfirmed\" + (index >= 1 ? \" trackerActive\" : \"\")}></div>\r\n                        <div className=\"trackerText\">\r\n                            En Route\r\n                            <div className=\"trackerSubText\" style={ index >= 2 ? {} : {display: \"none\"}}>{this.state.enroute}</div>\r\n                        </div>\r\n                        <div className={\"trackerImage trackerArrived\" + (index >= 3 ? \" trackerActive\" : \"\")}></div>\r\n                    </div>\r\n                    <div className=\"trackerBarVert\">\r\n                        <div className=\"progressDot trackerActive\"></div> {/* Sent request */}\r\n                        <div className={\"progressLine\" + (index >= 1 ? \" trackerActive\" : \"\")}></div> {/* Claimed */}\r\n                        <div className={\"progressDot\" + (index >= 1 ? \" trackerActive\" : \"\")}></div>\r\n                        <div className={\"progressLine\" + (index >= 2 ? \" trackerActive\" : \"\")}></div> {/* En Route */}\r\n                        <div className={\"progressDot\" + (index >= 2 ? \" trackerActive\" : \"\")}></div>\r\n                        <div className={\"progressLine\" + (index >= 3 ? \" trackerActive\" : \"\")}></div> {/* Arrived */}\r\n                        <div className={\"progressDot\" + (index >= 3 ? \" trackerActive\" : \"\")}></div>\r\n                    </div>\r\n                    <div className=\"flexDisplay trackerItems\">\r\n                        <div className=\"trackerImage trackerSentRequest trackerActive\"></div>\r\n                        <div className=\"trackerText\">\r\n                            Order Claimed\r\n                            <div className=\"trackerSubText\" style={ index >= 1 ? {} : {display: \"none\"}}>{this.state.claimed}</div>\r\n                        </div>\r\n                        <div className={\"trackerImage trackerEnroute\" + (index >= 2 ? \" trackerActive\" : \"\")}></div>\r\n                        <div className=\"trackerText\">\r\n                            Arrived\r\n                            <div className=\"trackerSubText\" style={ index >= 3 ? {} : {display: \"none\"}}>{this.state.arrived}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>);\r\n\r\n            footer = (\r\n            <div className=\"orderTrackerFooter\">\r\n                Arriving in {this.state.wait} minutes\r\n                <div className=\"messageButton\" onClick={() => this.props.onMessageClick(this.state.order)}></div>\r\n            </div>);\r\n        } else {\r\n            content = (<div className=\"noCurrentOrder\">\r\n                No active order\r\n            </div>);\r\n        }\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Order Tracker</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {content}\r\n\r\n                {footer}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { getIncomingOrderList } from '../../assets/scripts/Util';\r\n\r\nexport default class IncomingOrders extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            orders: null\r\n        }\r\n        this.fetchData();\r\n    }\r\n\r\n    async fetchData() {\r\n        var orders = await getIncomingOrderList(this.props.apiToken);\r\n        console.log(this.props.apiToken + \" \" + orders);\r\n        this.setState({orders});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Incoming Orders</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"incomingOrderList\">\r\n                    {\r\n                    this.state.orders == null ? \"Loading\" : \r\n                    this.state.orders.map((value, index) => {\r\n                    return (\r\n                    <div onClick={async () => this.props.openOrderScreen(value)} key={index} className=\"incomingOrder\">\r\n                        <div className=\"orderTitle\">{value.restaurant_name}</div>\r\n                        <div className=\"orderInfo\">{value.address}</div>\r\n                    </div>\r\n                    )\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { getActiveOrderList } from '../../assets/scripts/Util';\r\n\r\nexport default class ActiveOrders extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            orders: null\r\n        }\r\n        this.fetchData();\r\n    }\r\n\r\n    async fetchData() {\r\n        var orders = await getActiveOrderList(this.props.apiToken);\r\n        console.log(this.props.apiToken + \" \" + orders);\r\n        this.setState({orders});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Incoming Orders</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"incomingOrderList\">\r\n                    {\r\n                    this.state.orders == null ? \"Loading\" : \r\n                    this.state.orders.map((value, index) => {\r\n                    return (\r\n                    <div onClick={async () => this.props.openOrderScreen(value)} key={index} className=\"incomingOrder\">\r\n                        <div className=\"orderTitle\">{value.restaurant_name}</div>\r\n                        <div className=\"orderInfo\">{value.address}</div>\r\n                    </div>\r\n                    )\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\nimport {sendPayment, getCartPrices, formatPrice} from \"../../assets/scripts/Util\";\r\n\r\nexport default class CheckoutScreen extends React.Component {\r\n\r\n    instance;\r\n    fee = 0;\r\n\r\n    state = {\r\n        clientToken: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const response = await fetch(\"https://lopeseat.com/REST/requestToken.php\");\r\n        const clientToken = await response.json();\r\n\r\n        console.log(clientToken);\r\n\r\n        var prices = await getCartPrices(this.props.apiToken);\r\n        this.fee = prices.delivery_fee;\r\n\r\n        this.setState({\r\n            clientToken\r\n        });\r\n        this.forceUpdate();\r\n    }\r\n\r\n    async pay() {\r\n        if (this.instance.isPaymentMethodRequestable()) {\r\n            const {nonce} = await this.instance.requestPaymentMethod();\r\n            await sendPayment(nonce, this.props.address, this.props.apiToken);\r\n            this.props.paymentComplete();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.clientToken) {\r\n            return (\r\n                <div>\r\n                  <h1>Loading...</h1>\r\n                </div>\r\n              );\r\n        } else {\r\n            return (\r\n                <div className=\"flexDisplay fillHeight\">             \r\n                    <div className=\"restaurantTop\">\r\n                        <div className=\"header\">\r\n                            <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                            <span className=\"screenTitle\">Checkout</span>\r\n                        </div>\r\n                    </div>\r\n                    <DropIn\r\n                        options = {{\r\n                            authorization: this.state.clientToken,\r\n                            paypal: true,\r\n                            venmo: true\r\n                        }}\r\n                        onInstance={instance => (this.instance = instance)}\r\n                    />\r\n                    <div className=\"cartFooter\" style={{\r\n                        position: \"fixed\",\r\n                        bottom: 0\r\n                    }}>\r\n                        <div className=\"total\">Delivery Fee<span className=\"price\">${formatPrice(this.fee)}</span></div>\r\n                        <button className=\"checkoutButton\" onClick={this.pay.bind(this)}>Pay Now</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport Input from '../Input';\r\n\r\nexport default class DeliveryDetails extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.addressRef = React.createRef(this.props.address);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Delivery Details</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"deliveryFormContainer flex alignCenter\">\r\n                    <div className=\"addressInput\">\r\n                        <Input passedRef={this.addressRef} placeholder=\"Address\" defaultValue={this.props.address}/>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button className=\"doneButton\" onClick={() => this.props.onNextStep(this.addressRef.current.value)}>DONE</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { getOrder, formatPrice, getOrderItems, updateOrderState, showErrors } from '../../assets/scripts/Util';\r\n\r\nexport default class OrderScreen extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            order: null,\r\n            items: null\r\n        };\r\n        this.fetchData();\r\n    }\r\n\r\n    async fetchData() {\r\n        var order = await getOrder(this.props.apiToken, this.props.orderId);\r\n        var items = await getOrderItems(this.props.apiToken, this.props.orderId);\r\n        console.log(order);\r\n        console.log(items);\r\n        this.setState({order, items});\r\n    }\r\n\r\n    async claimOrder() {\r\n        var result = await updateOrderState(this.props.apiToken, this.props.orderId, \"claimed\");\r\n        if (!result.success) {\r\n            showErrors([result.msg]);\r\n        } else {\r\n            this.fetchData();\r\n        }\r\n    }\r\n\r\n    async updateState(state, updateState = true) {\r\n        var result = await updateOrderState(this.props.apiToken, this.props.orderId, state);\r\n        if (!result.success) {\r\n            showErrors([result.msg]);\r\n        } else {\r\n            if (updateState)\r\n                this.fetchData();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.order == null)\r\n            return (<span>Loading</span>);\r\n\r\n        \r\n        var button = null;\r\n        if (this.state.order.state === \"unclaimed\") {\r\n            button = (<button className=\"checkoutButton\" onClick={()=>this.claimOrder()}>Accept</button>);\r\n        } else if (this.state.order.state === \"claimed\") {\r\n            button = (<button className=\"checkoutButton\" onClick={()=>this.props.openPayment(this.props.orderId)}>Ready To Pay</button>);\r\n        } else if (this.state.order.state === \"en route\") {\r\n            button = (<button className=\"checkoutButton\" onClick={()=>this.updateState(\"arrived\")}>Arrived</button>);\r\n        } else if (this.state.order.state === \"arrived\") {\r\n            button = (<button className=\"checkoutButton\" onClick={()=>{\r\n                this.updateState(\"completed\", false);\r\n                this.props.completeOrder();\r\n            }}>Complete Order</button>);\r\n        }\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">{this.state.order.restaurant_name}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"orderAddress\">{this.state.order.address}</div>\r\n\r\n                <div className=\"cartList\">\r\n                    {\r\n                        this.state.items.map((value, index) => {\r\n                            return (\r\n                                <div className=\"cartItem\" key={index}>\r\n                                    <div className=\"imageHolder img-fill\"><img alt=\"test\" src={value.image}/></div>\r\n                                    <div className=\"cartItemInfo\">\r\n                                        <div className=\"cartItemHeader\">\r\n                                        <span className=\"cartItemName\">{value.name} x{value.amount}</span>\r\n                                            <span className=\"cartItemPrice\">${formatPrice(value.price * value.amount)}</span>\r\n                                        </div>\r\n                                        <div className=\"cartItemDescription\">\r\n                                            {value.comment}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"cartFooter\">\r\n                    {/* {formatPrice(this.total)} */}\r\n                    <div className=\"total\">Total<span className=\"price\">${formatPrice(this.state.order.total)}</span></div>\r\n                    <div className=\"buttonsFlex\">\r\n                        {button}\r\n                        <div className=\"messageButtonFlex\" onClick={() => this.props.onMessageClick(this.props.orderId)}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport Barcode from 'react-barcode';\r\nimport { getOrderPaymentInfo, updateOrderState } from '../../assets/scripts/Util';\r\n\r\nexport default class PaymentScreen extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            studentId: \"20552343\",\r\n            image: null\r\n        };\r\n        this.fetchData();\r\n    }\r\n\r\n    async fetchData() {\r\n        var data = await getOrderPaymentInfo(this.props.apiToken, this.props.orderId);\r\n        console.log(data);\r\n        this.setState({\r\n            studentId: data.student_id,\r\n            image: data.deliverer_image\r\n        });\r\n    }\r\n\r\n    async paymentComplete() {\r\n        await updateOrderState(this.props.apiToken, this.props.orderId, \"en route\");\r\n        this.props.paymentComplete(this.props.orderId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        {/* <span className=\"screenTitle\">{this.state.order.restaurant_name}</span> */}\r\n                        <img className=\"paymentLogo\" src={require(\"../../assets/images/lopeseatboxlogo.png\")}></img>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"paymentContent\">\r\n                    <img className=\"delivererImage\" src={this.state.image}></img>\r\n                    {/*<div className=\"barcodeContainer\"><Barcode value={this.state.studentId} displayValue={false}></Barcode></div>*/}\r\n                </div>\r\n\r\n                <div className=\"cartFooter\">\r\n                    <div className=\"buttonsFlex\">\r\n                        <button className=\"checkoutButton\" onClick={()=>this.paymentComplete()}>Payment Complete</button>\r\n                        <div className=\"messageButtonFlex\" onClick={() => this.props.onMessageClick(this.props.orderId)}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport '../App.css';\r\nimport { getCart, getCartPrices, formatPrice } from '../assets/scripts/Util';\r\n\r\nexport default class Cart extends React.Component  {\r\n\r\n    items = [];\r\n    subtotal = 0;\r\n    tax = 0;\r\n    total = 0;\r\n    fee = 0;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.fetchData();\r\n    }\r\n\r\n    async fetchData() {\r\n        this.items = await getCart(this.props.apiToken);\r\n        console.log(this.items);\r\n\r\n        var prices = await getCartPrices(this.props.apiToken);\r\n        this.subtotal = prices.subtotal;\r\n        this.total = prices.total;\r\n        this.tax = prices.tax;\r\n        this.fee = prices.delivery_fee;\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">Cart</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"cartList\">\r\n                    {\r\n                        this.items.map((value, index) => {\r\n                            return (\r\n                                <div className=\"cartItem\" key={index}>\r\n                                    <div className=\"imageHolder img-fill\"><img alt=\"test\" src={value.image}/></div>\r\n                                    <div className=\"cartItemInfo\">\r\n                                        <div className=\"cartItemHeader\">\r\n                                        <span className=\"cartItemName\">{value.name}</span>\r\n                                            <span className=\"cartItemPrice\">${formatPrice(value.price * value.amount)}</span>\r\n                                        </div>\r\n                                        <div className=\"cartItemDescription\">\r\n                                            {value.comment}<br/>\r\n                                            x{value.amount}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"cartFooter\">\r\n                    \r\n                    <div className=\"subtotal\">Subtotal<span className=\"price\">${formatPrice(this.subtotal)}</span></div>\r\n                    {/* Tax: 8.6% */}\r\n                    <div className=\"subtotal\">Tax & fees<span className=\"price\">${formatPrice(this.tax)}</span></div>\r\n                    <div className=\"total\">Total (Dining Dollars)<span className=\"price\">${formatPrice(this.total)}</span></div>\r\n                    <div className=\"total\">Delivery Fee<span className=\"price\">${formatPrice(this.fee)}</span></div>\r\n                    <button className=\"checkoutButton\" onClick={()=>this.props.onNextStep()}>Checkout</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n}","import React from 'react';\r\nimport '../App.css';\r\nimport TimeAgo from 'javascript-time-ago';\r\nimport en from 'javascript-time-ago/locale/en';\r\nimport { getMessages, sendMessage } from '../assets/scripts/Util';\r\n\r\nexport default class MessageScreen extends React.Component {\r\n\r\n    timeAgo;\r\n    days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.fetchData();\r\n        this.state = {\r\n            selfId: -1,\r\n            selfName: \"\",\r\n            otherId: -1,\r\n            otherName: \"\",\r\n            messages: []\r\n        };\r\n        this.messageRef = React.createRef();\r\n        TimeAgo.addLocale(en);\r\n        this.timeAgo = new TimeAgo('en-US');\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.listenerId = this.props.messageListener.addListener(() => {this.fetchData()});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.messageListener.removeListener(this.listenerId);\r\n    }\r\n\r\n    async fetchData() {\r\n        var data = await getMessages(this.props.apiToken, this.props.orderId);\r\n        console.log(data);\r\n\r\n        if (data.success !== false) {\r\n            var selfId = data.selfId;\r\n            var selfName = data.selfName;\r\n            var otherId = data.otherId;\r\n            var otherName = data.otherName;\r\n            var messages = data.messages;\r\n            this.setState({\r\n                selfId,\r\n                selfName,\r\n                otherId,\r\n                otherName,\r\n                messages\r\n            });\r\n\r\n            this.forceUpdate();\r\n            this.messageEnd.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    makePHXTime(date) {\r\n        return new Date(date.toLocaleString(\"en-US\", {timeZone: \"America/Phoenix\"}));\r\n    }\r\n\r\n    parseDate(dateString) {\r\n        var t = dateString.split(/[- :]/);\r\n        var d = new Date(Date.UTC(t[0], t[1]-1, t[2], t[3], t[4], t[5]));\r\n        return this.makePHXTime(d);\r\n    }\r\n\r\n    formatDate(date) {\r\n        var hours = date.getHours();\r\n        var suffix = hours > 12 ? \"PM\" : \"AM\";\r\n        hours = hours == 0 ? 12 : hours > 12 ? hours - 12 : hours;\r\n        var minutes = date.getMinutes();\r\n        var minuteString = minutes == 0 ? \"00\" : minutes < 10 ? \"0\" + minutes.toString() : minutes;\r\n        return hours + \":\" + minuteString + suffix;\r\n    }\r\n\r\n    render() {\r\n        var messagesJSX = [];\r\n\r\n        var prevMessage = null;\r\n        for (var i = 0; i < this.state.messages.length; i++) {\r\n            var message = this.state.messages[i];\r\n            var className = \"messageContainer\" + (message.sender === this.state.selfId ? \" right\" : \"\");\r\n            var date = this.parseDate(message.time);\r\n            if (prevMessage != null) {\r\n                if (date.getDate() != this.parseDate(prevMessage.time).getDate()) {\r\n                    messagesJSX.push((\r\n                        <div className=\"newDayLine\" key={i * 2}>\r\n                            <span className=\"horizontalLine\"></span>\r\n                            {new Date().getDate() === date.getDate() ? \"Today\" : this.days[date.getDay()]}\r\n                            <span className=\"horizontalLine\"></span>\r\n                        </div>\r\n                    ));\r\n                }\r\n            }\r\n            messagesJSX.push((\r\n                <div className={className} key={i*2 + 1}>\r\n                    <div className=\"messageChunk\">\r\n                        <div className=\"messageInfo\">{this.formatDate(date)}</div>\r\n                        <div className=\"messageBubble\">{message.message}</div>\r\n                    </div>\r\n                </div>\r\n            ));\r\n            prevMessage = message;\r\n        }\r\n\r\n        messagesJSX.push((\r\n            <div style={{ float:\"left\", clear: \"both\" }} ref={(el) => { this.messageEnd = el; }} key={this.state.messages.length * 2}></div>\r\n        ));\r\n\r\n        return (\r\n            <div className=\"flexDisplay fillHeight\">             \r\n                <div className=\"restaurantTop\">\r\n                    <div className=\"header\">\r\n                        <i className=\"icon material-icons-round\" onClick={this.props.onBack}>arrow_back_ios</i>\r\n                        <span className=\"screenTitle\">{this.state.otherName}</span>\r\n                    </div>\r\n                </div>\r\n                <span className=\"horizontalLine\"></span>\r\n\r\n                <div className=\"messageScroll\">\r\n                    {messagesJSX}\r\n                </div>\r\n\r\n                <span className=\"horizontalLine\" style={{position: \"absolute\", bottom: \"3.5em\"}}></span>\r\n                <div className=\"messageBox\">\r\n                    <div className=\"messageBoxContainer\"><input className=\"messageInput\" ref={this.messageRef} type=\"text\" placeholder={\"Message \" + this.state.otherName}></input></div>\r\n                    <div className=\"sendMessage\" onClick={() => {\r\n                        sendMessage(this.props.apiToken, this.props.orderId, this.messageRef.current.value);\r\n                        this.messageRef.current.value = \"\";\r\n                        this.fetchData();\r\n                    }}><i className=\"material-icons-round\">send</i></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React, {Fragment} from 'react';\r\n\r\nimport {registerAccount, addBackStep, setupBackEvent, loadState} from '../assets/scripts/Util';\r\n\r\nimport LoginScreen from './LoginScreen'\r\nimport RegisterScreen from './RegisterScreen'\r\nimport PersonalInformation from './RegisterProcess/PersonalInformation';\r\nimport VerifyPhone from './RegisterProcess/VerifyPhone';\r\nimport PhoneConfirm from './RegisterProcess/PhoneConfirm';\r\nimport ForgotPassword from './ForgotPassword';\r\nimport HomeScreen from './HomeScreen';\r\nimport RestaurantsList from './QuickScreens/RestaurantsList';\r\nimport RestaurantDetails from './QuickScreens/RestaurantDetails';\r\nimport OrderTracker from './QuickScreens/OrderTracker';\r\nimport IncomingOrders from './QuickScreens/IncomingOrders';\r\nimport ActiveOrders from './QuickScreens/ActiveOrders';\r\nimport CheckoutScreen from './OrderProcess/CheckoutScreen';\r\nimport DeliveryDetails from './OrderProcess/DeliveryDetails';\r\nimport OrderScreen from './DeliveryProcess/OrderScreen';\r\nimport PaymentScreen from './DeliveryProcess/PaymentScreen';\r\nimport Cart from './Cart';\r\nimport MessageScreen from './MessageScreen';\r\nimport {storeState} from '../assets/scripts/Util';\r\n\r\nexport default class ScreenHandler extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.noBack = false;\r\n        \r\n        this.state = {\r\n            registerData: {\r\n                phone: \"\",\r\n                password: \"\",\r\n                firstName: \"\",\r\n                lastName: \"\",\r\n                email: \"\",\r\n                studentNumber: \"\",\r\n                profileImage: \"\",\r\n            },\r\n            apiToken: \"\",\r\n            orderId: -1,\r\n            address: \"\",\r\n            currentRestaurant: null,\r\n            currentMenu: null,\r\n            currentOrder: -1,\r\n            screen: \"Login\",\r\n            // screen: \"HomeScreen\",\r\n            baseScreen: \"Login\",\r\n            screenHistory: [\"Login\"],\r\n            deliveryMode: false\r\n        };\r\n\r\n        setupBackEvent(this.backScreen);\r\n\r\n        window.getScreenHandler = () => this;\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    setScreen = (screen, addHistory = true) => {\r\n        if (screen === this.state.screen) return;\r\n        let screenHistory = this.state.screenHistory;\r\n        if (addHistory) {\r\n            screenHistory.push(screen);\r\n            addBackStep();\r\n        }\r\n        this.setState({\r\n            screenHistory: screenHistory,\r\n            screen: screen,\r\n        });\r\n    }\r\n    \r\n    backScreen = (setBack = true) => {\r\n        if (!this.noBack) {\r\n            if (setBack) {\r\n                window.history.back();\r\n                return;\r\n            }\r\n            let screenHistory = this.state.screenHistory;\r\n            screenHistory.pop();\r\n            if (screenHistory.length === 0) {\r\n                screenHistory = [this.state.baseScreen];\r\n            }\r\n            this.setState({\r\n                screenHistory: screenHistory,\r\n                screen: [...screenHistory].pop()\r\n            });\r\n            \r\n        }\r\n    }\r\n\r\n    newHistory = screen => {\r\n        this.noBack = true;\r\n        for (let i = 0; i < this.state.screenHistory.length - 1; i++) {\r\n            window.history.back();\r\n        }\r\n\r\n        this.setState({\r\n            screenHistory: [screen],\r\n            screen: screen,\r\n            baseScreen: screen\r\n        })\r\n        this.noBack = false;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.apiToken)\r\n            storeState(this.state, \"screenHandler\");\r\n        \r\n        const Screens = {\r\n            Login: <LoginScreen fbToken={this.props.fbToken} apiToken={(loadState(\"screenHandler\") && loadState(\"screenHandler\").apiToken) ? loadState(\"screenHandler\").apiToken : undefined} formSwitch={() => this.setState({screen: \"Register\"})}\r\n            onLogin={\r\n                apiToken => {\r\n                    this.newHistory(\"HomeScreen\");\r\n\r\n                    let newState = loadState(\"screenHandler\");\r\n                    if (newState && newState.screenHistory)\r\n                    for (let i = 1; i < newState.screenHistory.length; i++) {\r\n                        addBackStep();\r\n                    }\r\n\r\n                    this.setState(newState);\r\n                    this.setState({\r\n                        apiToken: apiToken\r\n                    });\r\n                }\r\n            }\r\n            onNotConfirmed={\r\n                phone => {\r\n                    this.setState({\r\n                        registerData: {\r\n                            phone: phone\r\n                        }\r\n                    });\r\n                    this.newHistory(\"PhoneConfirm\");\r\n                }\r\n            }\r\n            onForgotPassword={\r\n                () => {\r\n                    this.setState({\r\n                        // screen: \"ForgotPassword\"\r\n                    })\r\n                }\r\n            }/>,\r\n            Register: <RegisterScreen \r\n            formSwitch={\r\n                () => this.setState({screen: \"Login\"})\r\n            }\r\n            proceedRegistration={\r\n                (phone, password) => {\r\n                    this.setState({\r\n                        registerData: {\r\n                            phone, password\r\n                        },\r\n                    });\r\n                    this.setScreen(\"PersonalInformation\");\r\n                }\r\n            }/>,\r\n            PersonalInformation: <PersonalInformation\r\n            onNextStep={\r\n                (firstName, lastName, email, studentNumber, profileImage) => {\r\n                    this.setState({\r\n                        registerData: {\r\n                            firstName, lastName, email, studentNumber, profileImage,\r\n                            phone: this.state.registerData.phone,\r\n                            password: this.state.registerData.password\r\n                        }\r\n                    });\r\n                    this.setScreen(\"VerifyPhone\");\r\n                }\r\n            }\r\n            onBackStep={\r\n                () => {\r\n                    this.backScreen();\r\n                }\r\n            }\r\n            />,\r\n            VerifyPhone: <VerifyPhone phone={this.state.registerData.phone}\r\n\r\n            onBackStep={\r\n                () => {\r\n                    this.backScreen();\r\n                }\r\n            }\r\n\r\n            onNextStep={\r\n                phone => {\r\n                    this.setState({\r\n                        registerData: {\r\n                            phone,\r\n                            firstName: this.state.registerData.firstName,\r\n                            lastName: this.state.registerData.lastName,\r\n                            email: this.state.registerData.email,\r\n                            studentNumber: this.state.registerData.studentNumber,\r\n                            profileImage: this.state.registerData.profileImage,\r\n                            password: this.state.registerData.password\r\n                        }\r\n                    });\r\n                    this.newHistory(\"PhoneConfirm\");\r\n                    registerAccount(phone, this.state.registerData.firstName, this.state.registerData.lastName, this.state.registerData.email, this.state.registerData.studentNumber, this.state.registerData.password, this.state.registerData.profileImage);\r\n                }\r\n            }/>,\r\n            PhoneConfirm: <PhoneConfirm phone={this.state.registerData.phone} onNextStep={\r\n                () => {\r\n                    this.newHistory(\"HomeScreen\");\r\n                }\r\n            }/>,\r\n            ForgotPassword: <ForgotPassword />,\r\n            HomeScreen: <HomeScreen\r\n            tileNavigation={[\r\n                // Delivery Mode\r\n                [\"IncomingOrders\", \"ActiveOrders\", \"SwitchMode\", \"LeaderBoard\", \"CompletedOrders\", \"Profile\"]\r\n                // Customer Mode\r\n                ,[\"RestaurantsList\", \"RecentOrders\", \"SwitchMode\", \"OrderTracker\", \"Updates\", \"Profile\"]]}\r\n            onMenuItemClick={\r\n                screen => {\r\n                    this.setScreen(screen);\r\n                }\r\n            }\r\n            deliveryMode={this.state.deliveryMode}\r\n            switchModes={() => this.setState({deliveryMode: !this.state.deliveryMode})}\r\n            />,\r\n            RestaurantsList: <RestaurantsList onBack={this.backScreen} \r\n            openRestaurantScreen={\r\n                (restaurant, menu) => {\r\n                    this.setState({\r\n                        currentRestaurant: restaurant,\r\n                        currentMenu: menu\r\n                    })\r\n                    this.setScreen(\"RestaurantDetails\");\r\n                }\r\n            }\r\n            onCartClick={()=>{this.setScreen(\"Cart\")}}\r\n            />,\r\n            RestaurantDetails: <RestaurantDetails restaurantData={this.state.currentRestaurant} menuData={this.state.currentMenu}\r\n            onBack={()=> {\r\n                this.backScreen();\r\n            }}/>,\r\n            Cart: <Cart onBack={this.backScreen} apiToken={this.state.apiToken}\r\n            onNextStep={() => {\r\n                this.setScreen(\"DeliveryDetails\");\r\n            }}\r\n            />,\r\n            DeliveryDetails: <DeliveryDetails address={this.state.address} onBack={this.backScreen}\r\n            onNextStep={(address) => {\r\n                this.setState({address});\r\n                this.setScreen(\"CheckoutScreen\");\r\n            }}\r\n            />,\r\n            CheckoutScreen: <CheckoutScreen address={this.props.address} onBack={this.backScreen} apiToken={this.state.apiToken}\r\n            paymentComplete={() => {\r\n                this.setScreen(\"HomeScreen\");\r\n            }}\r\n            />,\r\n            OrderTracker: <OrderTracker apiToken={this.state.apiToken} messageListener={this.props.messageListener}\r\n            onBack={()=> {\r\n                this.backScreen();\r\n            }}\r\n            onMessageClick={(orderId) => {\r\n                this.setState({\r\n                    orderId\r\n                });\r\n                this.setScreen(\"Message\");\r\n            }}/>,\r\n            Message: <MessageScreen messageListener={this.props.messageListener} apiToken={this.state.apiToken} orderId={this.state.orderId} onBack={this.backScreen}/>,\r\n            IncomingOrders: <IncomingOrders onBack={this.backScreen} apiToken={this.state.apiToken} openOrderScreen={(order) => {\r\n                this.setState({\r\n                    currentOrder: order.id\r\n                });\r\n                this.setScreen(\"OrderScreen\");\r\n            }}/>,\r\n            OrderScreen: <OrderScreen apiToken={this.state.apiToken} onBack={this.backScreen} orderId={this.state.currentOrder}\r\n            openPayment={(orderId) => {\r\n                this.setState({\r\n                    currentOrder: orderId\r\n                });\r\n                this.setScreen(\"PaymentScreen\", false);\r\n            }}\r\n            completeOrder={() => {\r\n                this.setScreen(\"HomeScreen\", false);\r\n            }}\r\n            onMessageClick={(orderId) => {\r\n                this.setState({\r\n                    orderId\r\n                });\r\n                this.setScreen(\"Message\");\r\n            }}/>,\r\n            PaymentScreen: <PaymentScreen apiToken={this.state.apiToken} onBack={this.backScreen} orderId={this.state.currentOrder}\r\n            onMessageClick={(orderId) => {\r\n                this.setState({\r\n                    orderId\r\n                });\r\n                this.setScreen(\"Message\");\r\n            }}\r\n            paymentComplete={(orderId) => {\r\n                this.setState({\r\n                    currentOrder: orderId\r\n                });\r\n                this.setScreen(\"OrderScreen\", false);\r\n            }}/>,\r\n            ActiveOrders: <ActiveOrders onBack={this.backScreen} apiToken={this.state.apiToken} openOrderScreen={(order) => {\r\n                this.setState({\r\n                    currentOrder: order.id\r\n                });\r\n                this.setScreen(\"OrderScreen\");\r\n            }}/>\r\n        }\r\n\r\n        return (\r\n            <Fragment>{Screens[this.state.screen]}</Fragment>\r\n        );\r\n    }\r\n}","export default class MessageListener {\r\n\r\n    callbacks;\r\n\r\n    constructor() {\r\n        this.callbacks = [];\r\n    }\r\n\r\n    addListener(callback) {\r\n        var index = this.callbacks.length;\r\n        this.callbacks.push(callback);\r\n        console.log(\"Registered message listener \" + index);\r\n        return index;\r\n    }\r\n\r\n    removeListener(id) {\r\n        this.callbacks.splice(id, 1);\r\n    }\r\n\r\n    messageReceived(state) {\r\n        console.log(this.callbacks);\r\n        for (var i = 0; i < this.callbacks.length; i++) {\r\n            this.callbacks[i]();\r\n        }\r\n    }\r\n\r\n}","import React from 'react';\r\nimport ScreenHandler from './components/ScreenHandler';\r\nimport './App.css';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/messaging';\r\nimport MessageListener from './MessageListener';\r\n\r\nclass App extends React.Component {\r\n\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   window.getApp = () => this;\r\n  // }\r\n\r\n  fbToken = \"\";\r\n  messageListener = new MessageListener();\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"App\">\r\n          <ScreenHandler fbToken={this.fbToken} messageListener={this.messageListener}/>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  setToken(token) {\r\n    this.fbToken = token;\r\n    console.log(token);\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"mount\");\r\n    if (firebase.messaging.isSupported()) {\r\n      var firebaseConfig = {\r\n        apiKey: \"AIzaSyBIOzolcjUlgx5x5ca3zCg3DBPwYftV-kY\",\r\n        authDomain: \"test-96cdc.firebaseapp.com\",\r\n        databaseURL: \"https://test-96cdc.firebaseio.com\",\r\n        projectId: \"test-96cdc\",\r\n        storageBucket: \"test-96cdc.appspot.com\",\r\n        messagingSenderId: \"890647037957\",\r\n        appId: \"1:890647037957:web:9bf7066436852592d3346c\"\r\n      };\r\n      firebase.initializeApp(firebaseConfig);\r\n    \r\n      var app = this;\r\n\r\n      const messaging = firebase.messaging();\r\n      messaging.usePublicVapidKey(\"BMJ-dBS0EPnykDWroTRbq8rcNq6Yh2NHHLxAAerrZQk67sdvDlbOTY_WR-4cyoxjeMN6JlHsDP6sohMKu8ap784\");\r\n      console.log(\"Requesting permission\");\r\n      Notification.requestPermission()\r\n      .then(function() {\r\n        console.log('Permission ' + Notification.permission);\r\n        var token = messaging.getToken();\r\n        console.log(token);\r\n        return token;\r\n      })\r\n      .then(function(token) {\r\n        console.log(token);\r\n        app.setToken(token);\r\n      }).catch(function(err) {\r\n        console.log(err);\r\n      });\r\n    \r\n      messaging.onMessage((payload) => {\r\n        console.log('Message received. ', payload);\r\n        this.messageListener.messageReceived(payload.data);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAABHNCSVQICAgIfAhkiAAABT9JREFUeJzlm0tPG1cYht8Z3EAA17JQC74kpYa4TWNTlcFAMMheQFWlRVlUDotKUbMIXVbqqov8ANQFe1A3URWpSVaRokoVXhBaq4XIVWQkFgjcODDYBhnHGDe2MXUXMNR2fJnLmcFDHokFI3G+o0ffnHNm5oUCT64PDni+0Gg8ulxGn9A0xufz8N7z+Wb5/v2ZYdo9MsM2n8uX/ky7R2ZOe26KUknEGyeklog3RghfEWdJSEO5i9PukZmJpcVJIQPZWJYxO4eMvz5/8ZjM1JTnNRliRHCoXUiRDCkiONQs5EQGCREcahXSAJAVwaFGIQ1yiOBQmxCKbT6Xl7vI/f6B2e/mf/tG7jpSoZUoMrG0OHnH5ZpSopYUFOkMjs/MnX3Lq6t+peoJRZHO4HB3tI8qWU8oisrQUbReyXpCoQPd3Yq17d+5XFCpWmKgk83NcSUKJXTa+KNnzx4qUUssdKCxRfbOSOi08Qlt29h+KqWIeLHQify/sk6QE1HPuwgHHUjuyzZJNYkAAHp9OyLLoqY2EQBAAcCKoW1Xl0gS2/bUKAI4Pmf4uj70khpQrSKAYxkBmiYycTWLAI5lzEeikjtD7SKA4zUDABYvWdbN7KZFzCBnQQRQ8GziM5lEd8dZEAEUyHiSzoqWccvYLsubMqWhCn+Rcquo5W1WNYo+FXTYe4yOrc1hMQOp7X1nOYpkBHPZ4O30q2/FDqZ2IUUy9pL78UHmk+GL0aioWwVQt5DXPi9uv9Me/jK2c1PKoGoVQpW7KGUhLURti2rZr/CvLn+UHotsjUsdXG0dUrYzAHLdAainQ8p2BgDsWK3hz6MRD4kicnZIa0uL/qrNNtxpMFhiyWQ8e3CQJl0DAPBgsG9OSHpH6XTPHZdrqnD8FUPbrpQvdxU7AwD+yOd9Nxo1N5sy2fNiCxRCskOm3SMzXz/9s+hM1JTJnndsbQ6LrVFVxl5yP65n+vViT6XlICGkVnJAbI2qMgBgIRTyjl3+YLx9d9coZOBqSBHCN0IhpkZNGQAQ0On949Shh9TtAoibrNAsidAavGRsx2Lhlx/3xkmcPQoRMlmxoRohNXjJAIDljQ2/2TlktLEsI3RC1eAzWanpIr5CeMsAAN9OzOfqtoySXD+A6pMlFbPiI0SQjOzBQfqJRuMlud1ylJss6bxZLSGCZABH2+2C8YKX9IIKFE9WruBdNSEVn01qYbdamfvJ2BzJL3EcmyZzkNRzUSXKPS8J7gwOuXYYAHg7uSd7wqdch4iWARztMHPvdz2W45ZRAhvLMtH+wfDyxoYfIJDpWl5d9U9o28YSOm1dB1Eqcf0wc/JkLnrNKMVutTI/NGlmetbWiJ5DlMD0T5YCCKb9lldX/Z710NgvvY66zm2VUtjRRKOP+6lU/PbvvhtTfQPfkxxXTgrjGMRuk1LsVivzYz73QO4tUgoJnTb+KX2ub5MNBwGJu0k1tmOx8M+Z7E8axwBIvg8hBZccWHseWuGuySYDODq+L4RCXr+tx3dJr7tC+plGLJUiFLLK4AhFIsF70Z3Zg6tDaXtqjznNM0m1LIkiMjiWQi98d/P0rMYxAGsqcUVpKbVCNYrKAP6/de7m6dlUnyPeSVEWJY7ffNJFsu0mQvjK6Zx0Uxi99tdTIt9pSuEbs6oLGRytLS36W0zv5LWXMQ+pk6yQvFldySjEbDJYXJ2WUeYtmnGy7KiY84rQ4F3dyijFbDJYmAsXGXtjE/PeYc6iy2X0zkCg4n82iUkgqkZGJcwmg6Xr3Y6TrunRtjI6itY/CocfnoUE4qnxH7mvYIt1BzVCAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/lopeseaticon.3ff8e6db.png\";","module.exports = __webpack_public_path__ + \"static/media/eye-grey.64a6476e.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye-purple.cda84626.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMTEtMTJUMTE6Mjk6MjktMDc6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjMxYTViYmMtNDVkZC1kMjQ1LWEzOTItZjY1OGVkZWIyNTkyIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTExOWMyYmQtMGExZS1jNzQwLTliZWYtZTlhYmIyMThhNDQyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzhiZDgwZjQtYTkwYy03NTQzLWIzNTAtNDBiZTBkYTRlNGJiIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OGJkODBmNC1hOTBjLTc1NDMtYjM1MC00MGJlMGRhNGU0YmIiIHN0RXZ0OndoZW49IjIwMTktMTEtMTJUMTE6Mjk6MjktMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYzMWE1YmJjLTQ1ZGQtZDI0NS1hMzkyLWY2NThlZGViMjU5MiIgc3RFdnQ6d2hlbj0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45aGFEAAAADUlEQVQImWP4//8/AwAI/AL+hc2rNAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/gcu-lopesway.d0f43698.jpg\";","module.exports = __webpack_public_path__ + \"static/media/search-grey.f0b37b8a.svg\";"],"sourceRoot":""}