(this["webpackJsonplopeseats-pwa"]=this["webpackJsonplopeseats-pwa"]||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/lopeseatboxlogo.fde2afc1.png"},11:function(e,t,a){e.exports=a.p+"static/media/lock.26470dbb.svg"},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),o=(a(54),a(4)),i=a(5),l=a(7),u=a(6),m=a(8),p=a(10),d=a(25),h=a(2),f=a.n(h),v=a(3),g=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n,r,s,c,o){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/signup.php",{name:a+" "+n,id:s,email:r,phone:t,password:c,profileImage:o});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,c,o){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/resendCode.php",{phone:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/login.php",{phone:t,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/confirm.php?phone="+t+"&token="+a);case 2:return e.abrupt("return",e.sent.success);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(e){var t=document.createElement("div"),a=document.createElement("div"),n=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value,l=document.createElement("div");l.classList.add("errorItem"),l.innerText=i,a.append(l)}}catch(u){r=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}t.classList.add("errorWrapper"),a.classList.add("errorList"),t.append(a),document.body.append(t),setTimeout((function(){document.body.removeChild(t)}),2e3+1e3*e.length)},y=function(){return window.getScreenHandler()},w=function(){return y().state},S=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,s,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:{},n=new FormData,a)n.append(r,a[r]);return e.next=6,fetch(t,{method:"post",mode:"cors",cache:"force-cache",body:n});case 6:return s=e.sent,e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://lopeseat.com/REST/checkNumber.php?phone="+t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){window.history.pushState(null,null,window.location.href)},T=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://lopeseat.com/REST/restaurants.php");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://lopeseat.com/REST/menu.php?rid="+t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n,r,s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(s)),e.prev=1,e.next=4,S("https://lopeseat.com/REST/addCartItem.php?id=".concat(a,"&amount=").concat(n,"&comment=").concat(r,"&options=").concat(JSON.stringify(s)),{apiToken:t});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),j=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://lopeseat.com/REST/cartItems.php",{apiToken:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://lopeseat.com/REST/cartPrice.php",{apiToken:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=e.toString();return t.includes(".")?t.length-t.indexOf(".")<=2?t+"0".repeat(t.length-t.indexOf(".")-1):t.substring(0,t.indexOf(".")+3):t+".00"},A=function(e){return JSON.parse(localStorage.getItem("lastAppState"+e))},M=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S("https://lopeseat.com/REST/setFBToken.php",{token:t,apiToken:a});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/sendOrder.php",{nonce:t,address:a,apiToken:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:-1,e.next=3,S("https://lopeseat.com/REST/getOrder.php"+(-1!=a?"?id="+a:""),{apiToken:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/orderItems.php?id="+a,{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/getMessages.php?orderId="+a,{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/sendMessage.php?orderId="+a,{apiToken:t,message:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/orders.php?state=unclaimed",{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/orders.php?state=!unclaimed&deliverer",{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/updateOrderState.php?id="+a+"&state="+n,{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://lopeseat.com/REST/getOrderPaymentInfo.php?orderId="+a,{apiToken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=a(41),z=a.n(Y),J=a(42),Q=a.n(J),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"appInput"+(this.props.className?" "+this.props.className:"")},this.props.icon&&r.a.createElement("div",{className:"iconHolder"},r.a.createElement("img",{src:this.props.icon,alt:this.props.placeholder})),"tel"===this.props.type||"number"===this.props.type?r.a.createElement("input",Object.assign({maxLength:"10"},this.props.passedProps,{ref:this.props.passedRef,type:this.props.type,placeholder:this.props.placeholder,onKeyPress:function(e){var t;"paste"===e.type?t=e.clipboardData.getData("text/plain"):(t=e.keyCode||e.which,t=String.fromCharCode(t));/[0-9]|\./.test(t)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())},onInput:function(e){if(e.target.getAttribute("maxlength")){var t=1*e.target.getAttribute("maxlength");e.target.value=e.target.value.substring(0,t)}}})):r.a.createElement("input",Object.assign({},this.props.passedProps,{ref:this.props.passedRef,type:this.props.type,placeholder:this.props.placeholder,defaultValue:this.props.defaultValue})),this.props.showHidden&&r.a.createElement("div",{className:"iconHolder password",onClick:this.props.onShow},r.a.createElement("img",{alt:"Show Password",src:"off"===this.props.showHidden?z.a:Q.a})))}}]),t}(r.a.Component),V=a(15),q=a.n(V),_=a(11),K=a.n(_),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.onSignIn=Object(v.a)(f.a.mark((function e(){var t,n,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.phoneNumberRef.current.value,n=a.passwordRef.current.value,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789",r=[],s=function(e,t){var a=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var o=s.value;if(t.includes(o))return!0}}catch(i){n=!0,r=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return!1},function(e){return e.match(/^\d{10}$/)}(t)||r.push("Invalid Phone Number"),n.length<8&&r.push("Password needs to be at least 8 characters long"),s(n,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")&&s(n,"0123456789")||r.push("Must contain one letter and one number"),e.next=12,N(t,n);case 12:if(c=e.sent,0!==r.length||c.success){e.next=19;break}if("Account not confirmed"!==c.msg){e.next=18;break}return a.props.onNotConfirmed(t),k(t),e.abrupt("return");case 18:r.push("Invalid login");case 19:console.log(r),0===r.length?(M(a.props.fbToken,c.msg),a.props.onLogin(c.msg)):b(["Invalid login"]);case 21:case"end":return e.stop()}}),e)}))),a.props.apiToken&&a.checkToken(a.props.apiToken),a.state={showPassword:!1},a.phoneNumberRef=r.a.createRef(),a.passwordRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"checkToken",value:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checking"+t),e.next=3,S("https://lopeseat.com/REST/validToken.php",{apiToken:t});case 3:if(!e.sent){e.next=6;break}M(this.props.fbToken,this.props.apiToken),this.props.onLogin(this.props.apiToken);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginWrapper"},r.a.createElement("div",{className:"formSwitchButton",onClick:this.props.formSwitch},"REGISTER"),r.a.createElement("div",{className:"loginImage"},r.a.createElement("img",{alt:"LopesEat Logo",src:a(30),className:"imageFill"})),r.a.createElement("div",{className:"loginForm"},r.a.createElement("div",{className:"signInText"},r.a.createElement("span",null,"SIGN IN")),r.a.createElement("div",{className:"inputWrap"},r.a.createElement(X,{icon:q.a,passedRef:this.phoneNumberRef,autoComplete:"current-phone",placeholder:"Phone Number",type:"tel"}),r.a.createElement(X,{className:"forgot",passedRef:this.passwordRef,icon:K.a,showHidden:this.state.showPassword?"on":"off",onShow:this.toggleShowPassword,autoComplete:"current-password",type:this.state.showPassword?"text":"password",placeholder:"Password"}),r.a.createElement("div",{onClick:this.props.onForgotPassword,className:"forgotPassword"},"Forgot password?"),r.a.createElement("div",{style:{height:"70px"}}),r.a.createElement("button",{className:"signInButton",onClick:this.onSignIn},"Sign In"))))}}]),t}(r.a.Component),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.registerAccount=Object(v.a)(f.a.mark((function e(){var t,n,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.phoneNumberRef.current.value,n=a.passwordRef.current.value,r=a.passwordConfirmRef.current.value,s=[],"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789",c=function(e,t){var a=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var o=s.value;if(t.includes(o))return!0}}catch(i){n=!0,r=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return!1},function(e){return e.match(/^\d{10}$/)}(t)||s.push("Invalid Phone Number"),n!==r&&s.push("Passwords do not match"),n.length<8&&s.push("Password needs to be at least 8 characters long"),c(n,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")&&c(n,"0123456789")||s.push("Must contain one letter and one number"),e.t0=0===s.length,!e.t0){e.next=17;break}return e.next=16,O(t);case 16:e.t0=e.sent;case 17:if(!e.t0){e.next=19;break}s.push("Phone number is taken. Try logging in.");case 19:console.log(s),0===s.length?a.proceedRegistration(t,n):b(s);case 21:case"end":return e.stop()}}),e)}))),a.state={showPassword:!1},a.phoneNumberRef=r.a.createRef(),a.passwordRef=r.a.createRef(),a.passwordConfirmRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"proceedRegistration",value:function(e,t){this.props.proceedRegistration(e,t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginWrapper"},r.a.createElement("div",{className:"formSwitchButton",onClick:this.props.formSwitch},"SIGN IN"),r.a.createElement("div",{className:"loginImage"},r.a.createElement("img",{alt:"LopesEat Logo",src:a(30),className:"imageFill"})),r.a.createElement("div",{className:"loginForm"},r.a.createElement("div",{className:"signInText"},r.a.createElement("span",null,"REGISTER")),r.a.createElement("div",{className:"inputWrap"},r.a.createElement(X,{passedRef:this.phoneNumberRef,icon:q.a,autoComplete:"current-phone",placeholder:"Phone Number",type:"tel"}),r.a.createElement(X,{passedRef:this.passwordRef,icon:K.a,showHidden:this.state.showPassword?"on":"off",onShow:this.toggleShowPassword,autoComplete:"current-password",type:this.state.showPassword?"text":"password",placeholder:"Password"}),r.a.createElement(X,{passedRef:this.passwordConfirmRef,icon:K.a,showHidden:this.state.showPassword?"on":"off",onShow:this.toggleShowPassword,autoComplete:"current-password",type:this.state.showPassword?"text":"password",placeholder:"Confirm password"}),r.a.createElement("button",{className:"signInButton",onClick:this.registerAccount},"REGISTER"))))}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"registerHeader"},r.a.createElement("div",{className:"registerStepTop"},!this.props.noBack&&r.a.createElement("i",{className:"material-icons-round",onClick:this.props.onBackStep},"arrow_back_ios"),r.a.createElement("div",{className:"nextStepButton",onClick:this.props.onNextStep},"DONE")),r.a.createElement("div",{className:"registerStepWrapper"},r.a.createElement("div",{className:"registerStepText"},this.props.customHeader||"Register"),this.props.step&&r.a.createElement("div",{className:"registerStepProgress"},"Step ",this.props.step.part,"/",this.props.step.total)))}}]),t}(r.a.Component),ae=a(43),ne=a.n(ae),re=a(44),se=a.n(re),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onImageUpload=function(e){var t=e.target.files[0];t&&new se.a(t,{convertSize:1e4,quality:.6,success:function(e){var t=window.URL||window.webkitURL,n=new Image;n.src=t.createObjectURL(e);var r=document.createElement("canvas");r.width=256,r.height=256;var s=r.getContext("2d");n.onload=function(){var e=n.width>n.height?(n.width-n.height)/2:0,t=n.height>n.width?(n.height-n.width)/2:0,c=n.width>n.height?n.height:n.width,o=c,i=r.width/2-128,l=r.height/2-128;s.drawImage(n,e,t,c,o,i,l,256,256),a.setState({image:r.toDataURL("image/jpeg")}),a.props.onUpload(r.toDataURL("image/jpeg"))}},error:function(e){}})},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"uploaderCircle flexDisplay alignCenter"},r.a.createElement("div",{className:"imageWrapper"},r.a.createElement("img",{className:"backgroundImg",src:this.props.image||ne.a,alt:""}),!this.props.image&&r.a.createElement("div",{className:"crossHair"}),r.a.createElement("input",{onChange:this.onImageUpload,className:"imageUpload",type:"file",accept:"image/*"})))}}]),t}(r.a.Component),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onBackStep=function(){a.props.onBackStep()},a.onNextStep=function(){var e=[],t=a.state.profileImage,n=a.firstNameRef.current.value,r=a.lastNameRef.current.value,s=a.emailRef.current.value,c=a.studentNumberRef.current.value;t||e.push("No profile picture added"),0===n.length&&e.push("No first name added"),0===r.length&&e.push("No last name added"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(s)||e.push("Email invalid"),8!==c.length&&e.push("Student number invalid"),0===e.length?a.props.onNextStep(n,r,s,c,t):b(e)},a.onUpload=function(e){a.setState({profileImage:e})},a.state={profileImage:null},a.firstNameRef=r.a.createRef(),a.lastNameRef=r.a.createRef(),a.emailRef=r.a.createRef(),a.studentNumberRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement(te,{step:{part:1,total:3},onNextStep:this.onNextStep,onBackStep:this.onBackStep}),r.a.createElement("div",{className:"registerStepBanner"},"Personal Information"),r.a.createElement("div",{className:"registerFormContainer flex alignCenter"},r.a.createElement("div",{className:"flex flexDisplay alignCenter uploaderContainer"},r.a.createElement(ce,{image:this.state.profileImage,onUpload:this.onUpload})),r.a.createElement("div",{className:"labeledInput"},r.a.createElement("div",{className:"label"},"First Name"),r.a.createElement(X,{passedRef:this.firstNameRef,placeholder:"Joshua"})),r.a.createElement("div",{className:"labeledInput"},r.a.createElement("div",{className:"label"},"Last Name"),r.a.createElement(X,{passedRef:this.lastNameRef,placeholder:"Thornburg"})),r.a.createElement("div",{className:"labeledInput"},r.a.createElement("div",{className:"label"},"Email"),r.a.createElement(X,{passedRef:this.emailRef,placeholder:"LopesEat@lopeseat.com"})),r.a.createElement("div",{className:"labeledInput"},r.a.createElement("div",{className:"label"},"Student Number"),r.a.createElement(X,{passedRef:this.studentNumberRef,placeholder:"20405673",type:"number",passedProps:{maxLength:8}}))))}}]),t}(r.a.Component),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onNextStep=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=a.phoneNumberRef.current.value,console.log(a.phoneNumberRef.current),console.log(a.phoneNumberRef.current.value),function(e){return e.match(/^\d{10}$/)}(n)||t.push("Invalid Phone Number"),e.t0=0===t.length,!e.t0){e.next=11;break}return e.next=10,O(n);case 10:e.t0=e.sent;case 11:if(!e.t0){e.next=13;break}t.push("Phone number is taken. Try logging in.");case 13:0===t.length?a.props.onNextStep(n):b(t);case 14:case"end":return e.stop()}}),e)}))),a.onBackStep=function(){a.props.onBackStep()},a.state={},a.phoneNumberRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement(te,{step:{part:2,total:3},onNextStep:this.onNextStep,onBackStep:this.onBackStep}),r.a.createElement("div",{className:"registerStepBanner"},"Verify Phone"),r.a.createElement("div",{className:"registerFormContainer flex alignCenter"},r.a.createElement("div",{className:"labeledInput"},r.a.createElement("div",{className:"label"},"Confirm Phone Number"),r.a.createElement(X,{passedRef:this.phoneNumberRef,passedProps:{defaultValue:this.props.phone},icon:q.a,autoComplete:"current-phone",placeholder:"Phone Number",type:"tel"}))))}}]),t}(r.a.Component),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onNextStep=function(){var e=Object(v.a)(f.a.mark((function e(){var t,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],e.t0=t,e.t0){e.next=6;break}return e.next=5,E(a.props.phone,a.codeRef.value);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=10;break}a.props.onNextStep(),e.next=11;break;case 10:b(["Invalid Code"]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.onChange=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value=t.target.value.replace(/(?![0-9])./gim,""),t.target.value=t.target.value.slice(0,6),t.target.value===a.state.code){e.next=11;break}if(a.setState({code:t.target.value}),e.t0=6===t.target.value.length,!e.t0){e.next=9;break}return e.next=8,E(a.props.phone,t.target.value);case 8:e.t0=e.sent;case 9:if(!e.t0){e.next=11;break}a.onNextStep(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={code:""},a.codeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=Object(p.a)(this.state.code).concat(Object(p.a)(Array(6-this.state.code.length)));return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement(te,{step:{part:3,total:3},noBack:!0,onNextStep:this.onNextStep}),r.a.createElement("div",{className:"registerStepBanner"},"Verify Phone"),r.a.createElement("div",{className:"registerFormContainer flex"},r.a.createElement("p",null,"We've send a code to your phone number ",this.props.phone),r.a.createElement("p",null,"Enter in the code and we can get started!"),r.a.createElement("div",{className:"flexDisplay alignCenter"},r.a.createElement("div",{className:"code-input"},e.map((function(e,t){return r.a.createElement("div",{className:"code-input-element"+(e?" filled":""),key:t},e)})),r.a.createElement("input",{ref:this.codeRef,className:"hidden-input",onInput:this.onChange,type:"number",maxLength:"6",size:"1",pattern:"[0-9]{6}",autoComplete:"one-time-code",spellCheck:"false",autoCorrect:"off",autoCapitalize:"off"})))))}}]),t}(r.a.Component),ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.state={showPassword:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement(te,{customHeader:"Profile"}),r.a.createElement("div",{className:"registerStepBanner"},"Reset Password"),r.a.createElement("div",{className:"registerFormContainer flex alignCenter"},r.a.createElement(X,{icon:K.a,showHidden:this.state.showPassword?"on":"off",onShow:this.toggleShowPassword,autoComplete:"current-password",type:this.state.showPassword?"text":"password",placeholder:"New Password"}),r.a.createElement(X,{icon:K.a,showHidden:this.state.showPassword?"on":"off",onShow:this.toggleShowPassword,autoComplete:"current-password",type:this.state.showPassword?"text":"password",placeholder:"Confirm password"}),r.a.createElement("button",{className:"signInButton"},"CHANGE PASSWORD")))}}]),t}(r.a.Component),me=a(45),pe=a.n(me),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={showPassword:!1},a.tiles=[[{title:"Incoming Orders",icon:"restaurant"},{title:"Active Orders",icon:"timer"},{title:"Ordering Mode",icon:"local_shipping"},{title:"Leader Board??",icon:"track_changes"},{title:"Completed Orders",icon:"update"},{title:"Profile",icon:"person"}],[{title:"Restaurants",icon:"restaurant"},{title:"Recent Orders",icon:"timer"},{title:"Delivery Mode",icon:"local_shipping"},{title:"Order Tracker",icon:"track_changes"},{title:"Dining Updates",icon:"update"},{title:"Profile",icon:"person"}]],a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"changeScreen",value:function(e){"SwitchMode"===e?this.props.switchModes():this.props.onMenuItemClick(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"flex img-fill"},r.a.createElement("img",{alt:"Lopes Way",src:pe.a}),r.a.createElement("div",{className:"imageGradient"}),r.a.createElement("div",{className:"mainDisplayText"},r.a.createElement("div",{className:"subHeading"},this.props.deliveryMode?"Deliver for":"Welcome to"),r.a.createElement("div",{className:"heading"},"LopesEat"))),r.a.createElement("div",{className:"screenTiles"},this.tiles[this.props.deliveryMode?0:1].map((function(t,a){return r.a.createElement("div",{className:"screenTile",key:a,onClick:function(){e.changeScreen(e.props.tileNavigation[e.props.deliveryMode?0:1][a])}},r.a.createElement("div",{className:"iconTile"},r.a.createElement("i",{className:"material-icons-round"},t.icon)),r.a.createElement("div",null,t.title))}))))}}]),t}(r.a.Component),he=a(46),fe=a.n(he),ve=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("button",{className:"floatingCartButton",onClick:function(){e.props.onClick()}},r.a.createElement("i",{className:"material-icons-round"},"shopping_cart"))}}]),t}(r.a.Component),ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"formatTime",value:function(e){var t=e.split(":"),a=parseInt(t[0]);return a>12?a-12+":"+t[1]+" PM":a+":"+t[1]+" AM"}},{key:"makePHXTime",value:function(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/Phoenix"}))}},{key:"render",value:function(){var e=this;return this.restaurantData=this.props.restaurantData,r.a.createElement("div",{className:"hoursList"},r.a.createElement("div",{className:"title"},"Hours of Operation"),function(){for(var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date((new Date).toLocaleString("en-US",{timeZone:"America/Phoenix"})),n=[],s=t[(a.getDay()+6)%7],c=function(){var c=i[o],l=c===t[a.getDay()],u={open:!1,timeSlot:void 0};if(l&&e.restaurantData.hours[c]){for(var m in e.restaurantData.hours[c].hours){var p=e.restaurantData.hours[c].hours[m],d=p.start.split(":").map((function(e){return parseInt(e)})),h=new Date((new Date).setHours(d[0],d[1])),f=p.end;f.includes(".")&&(f=f.split(".")[1]);var v=f.split(":").map((function(e){return parseInt(e)})),g=new Date((new Date).setHours(v[0],v[1]));if(h>g&&g.setDate(g.getDate()+1),a.getTime()>=h.getTime()&&a.getTime()<=g.getTime()){u={open:!0,timeSlot:parseInt(m)};break}}if(!u.open&&e.restaurantData.hours[s]){var k=e.restaurantData.hours[s].hours,N=k[k.length-1];if(N.end.includes(".")){var E=N.end.split(":").map((function(e){return parseInt(e)}));new Date((new Date).setHours(E[0],E[1])).getTime()>=a.getTime()&&(u.open=!0)}}}n.push(r.a.createElement("div",{key:c,className:"hourOpen"+(u.open?" isOpen":"")+(l?" sameDay":"")},r.a.createElement("div",{className:"weekDay"},c),r.a.createElement("div",{className:"openTimeList"},e.restaurantData.hours[c]?e.restaurantData.hours[c].hours.map((function(t,a){return r.a.createElement("div",{key:a,className:"openTimeItem"+(a===u.timeSlot?" isOpen":"")},r.a.createElement("div",{className:"openTime"},e.formatTime(t.start)),r.a.createElement("div",{className:"closingTime"},e.formatTime(t.end)))})):r.a.createElement("div",{className:"noTime"},"Closed"))))},o=0,i=t;o<i.length;o++)c();return n}())}}]),t}(r.a.Component),ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).sortType={ALPHA:"alpha",WAITTIME:"time",COST:"cost"},a.restaurants=[],a.state={onlyOpen:!0,flipOrder:!1,sortBy:a.sortType.ALPHA,sortedRestaurants:a.restaurants,searchFilter:""},a.fetchData(),console.log(a.restaurants),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:this.restaurants=e.sent,console.log(this.restaurants),this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sortRestaurants",value:function(){var e=this,t=this.restaurants.sort((function(e,t){return e.name.localeCompare(t.name)})),a=function(e){var t="",a=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var o=s.value;"-~.".includes(o)?t+=" ":t+=o}}catch(i){n=!0,r=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").trim()},n=t.filter((function(t){return a(t.name.toLowerCase()).startsWith(a(e.state.searchFilter.toLowerCase()))})),r=t.filter((function(t){return t.name.toLowerCase().includes(e.state.searchFilter.toLowerCase())}));return t=Object(p.a)(new Set([].concat(Object(p.a)(n),Object(p.a)(r)))),this.state.onlyOpen&&(t=t.filter((function(e){return function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date((new Date).toLocaleString("en-US",{timeZone:"America/Phoenix"})),n=t[(a.getDay()+6)%7],r=t[a.getDay()];if(e.hours[t[a.getDay()]]){for(var s in e.hours[r].hours){var c=e.hours[r].hours[s],o=c.start.split(":").map((function(e){return parseInt(e)})),i=new Date((new Date).setHours(o[0],o[1])),l=c.end;l.includes(".")&&(l=l.split(".")[1]);var u=l.split(":").map((function(e){return parseInt(e)})),m=new Date((new Date).setHours(u[0],u[1]));if(i>m&&m.setDate(m.getDate()+1),a.getTime()>=i.getTime()&&a.getTime()<=m.getTime())return!0}if(e.hours[n]){var p=e.hours[n].hours,d=p[p.length-1];if(d.end.includes(".")){var h=d.end.split(":").map((function(e){return parseInt(e)}));if(new Date((new Date).setHours(h[0],h[1])).getTime()>=a.getTime())return!0}}}return!1}(e)}))),this.state.sortBy===this.sortType.WAITTIME&&(t=t.sort((function(e,t){return e.wait-t.wait}))),this.state.sortBy===this.sortType.COST&&(t=t.sort((function(e,t){return e.cost-t.cost}))),this.state.flipOrder&&(t=t.reverse()),t}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"restaurantHeader"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Restaurants")),r.a.createElement("div",{className:"sortControl"},r.a.createElement("div",{className:"searchBox"},r.a.createElement("div",{className:"searchIcon iconHolder"},r.a.createElement("img",{alt:"Search",src:fe.a})),r.a.createElement("input",{type:"text",placeholder:"Search",onInput:function(t){e.setState({searchFilter:t.target.value})}})),r.a.createElement("div",{className:"sortOptions"},r.a.createElement("div",{onClick:function(){e.setState({sortBy:e.sortType.ALPHA})},className:"sortOption"+(this.state.sortBy===this.sortType.ALPHA?" active":"")},r.a.createElement("i",{className:"sortIcon material-icons-round"},"sort_by_alpha")),r.a.createElement("div",{onClick:function(){e.setState({sortBy:e.sortType.WAITTIME})},className:"sortOption"+(this.state.sortBy===this.sortType.WAITTIME?" active":"")},r.a.createElement("i",{className:"sortIcon material-icons-round"},"timer")),r.a.createElement("div",{onClick:function(){e.setState({sortBy:e.sortType.COST})},className:"sortOption"+(this.state.sortBy===this.sortType.COST?" active":"")},r.a.createElement("i",{className:"sortIcon material-icons"},"attach_money")),r.a.createElement("div",{className:"sortOption splitter"}),r.a.createElement("div",{onClick:function(){e.setState({onlyOpen:!e.state.onlyOpen})},className:"sortOption"+(this.state.onlyOpen?" active":"")},this.state.onlyOpen?r.a.createElement("i",{className:"sortIcon fas fa-door-open"}):r.a.createElement("i",{className:"sortIcon fas fa-door-closed"})),r.a.createElement("div",{onClick:function(){e.setState({flipOrder:!e.state.flipOrder})},className:"sortOption"},this.state.flipOrder?r.a.createElement("i",{className:"sortIcon fas fa-sort-down"}):r.a.createElement("i",{className:"sortIcon fas fa-sort-up"}))))),r.a.createElement("div",{className:"restaurantList"},this.sortRestaurants().map((function(t,a){return r.a.createElement("div",{onClick:Object(v.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=e.props,a.t1=t,a.next=4,x(t.id);case 4:return a.t2=a.sent,a.abrupt("return",a.t0.openRestaurantScreen.call(a.t0,a.t1,a.t2));case 6:case"end":return a.stop()}}),a)}))),key:a,className:"restaurantItem"},r.a.createElement("div",{className:"imageHolder img-fill"},r.a.createElement("img",{alt:t.name,src:t.logo})),r.a.createElement("div",{className:"restaurantName"},t.name))}))),r.a.createElement(ve,{onClick:function(){e.props.onCartClick()}}))}}]),t}(r.a.Component),Ne=(a(56),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSelection=function(e){a.setState({choice:e}),a.toggleDropdown(),a.props.onSelection&&a.props.onSelection(e)},a.toggleDropdown=function(){a.optionsRef.current.classList.toggle("show")},a.state={name:a.props.option.name,choice:a.props.option.default,choices:a.props.option.choices},a.optionsRef=r.a.createRef(),a.props.populate(a.props.option.default),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"selector",ref:this.optionsRef},r.a.createElement("div",{className:"choiceName"},this.state.name),r.a.createElement("div",{className:"selectorChoice",onClick:this.toggleDropdown},r.a.createElement("div",{className:"information"},r.a.createElement("div",{className:"name"},this.state.choice),0!==this.state.choices[this.state.choice].cost&&r.a.createElement("div",{className:"cost"},"$",R(this.state.choices[this.state.choice].cost))),r.a.createElement("span",{className:"expandButton"},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down"))),r.a.createElement("div",{className:"selectorOptions"},(e=this.state.choices,new Ee(e)).filter((function(e,a){return a!==t.state.choice})).map((function(e,a){return r.a.createElement("div",{key:a,className:"selectorOption",onClick:function(){return t.onSelection(a)}},r.a.createElement("div",{className:"name"},a),0!==e.cost&&r.a.createElement("div",{className:"cost"},"$",R(e.cost)))}))))}}]),t}(r.a.Component));var Ee=function(){function e(t){for(var a in Object(o.a)(this,e),t)this[a]=t[a]}return Object(i.a)(e,[{key:"map",value:function(e){var t=[];for(var a in this)"map"!==a&&t.push(e(this[a],a));return t}},{key:"filter",value:function(t){var a={};for(var n in this)t(this[n],n)&&(a[n]=this[n]);return new e(a)}}]),e}(),be=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).restaurantData={},a.onContentScroll=function(e){var t=e.currentTarget,a=t.scrollTop,n=Math.round(175-a);n=n>54?n:54,document.getElementById("restaurantSplash").style.height=n+"px",a=a>54?54:a,t.style.paddingTop=a+"px"},a.openItem=function(e){console.log(e),a.setState({selectedItem:e})},a.closeItem=function(){a.setState({selectedItem:null})},a.addToCart=function(){D(w().apiToken,a.state.selectedItem.id,1,a.state.instructions?a.state.instructions:"",a.state.optionsChosen),a.closeItem()},a.calculatePrice=function(){var e=a.state.optionsChosen;if(!e)return 0;var t=0;return console.log(e),JSON.parse(a.state.selectedItem.items).forEach((function(a,n){a.options.forEach((function(a,r){console.log(a,n+" : "+r),e[n]&&e[n][r]&&a.choices[e[n][r]]&&(t+=a.choices[e[n][r]].cost)}))})),t},console.log(a.props.restaurantData),console.log(a.props.menuData);return a.state={selectedItem:null,optionsChosen:[],instructions:null},a.restaurantData.hours=a.props.restaurantData.hours,a.restaurantData.food=a.props.menuData,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"formatTime",value:function(e){var t=e.split(":"),a=parseInt(t[0]);return a>12?a-12+":"+t[1]+" PM":a+":"+t[1]+" AM"}},{key:"makePHXTime",value:function(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/Phoenix"}))}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"itemShow",style:{opacity:this.state.selectedItem?1:0,pointerEvents:this.state.selectedItem?"auto":"none"}},r.a.createElement("div",{className:"itemContainer"},r.a.createElement("div",{className:"closeIcon",onClick:this.closeItem},r.a.createElement("i",{className:"material-icons-round"},"close")),this.state.selectedItem&&r.a.createElement("div",{className:"itemContent"},r.a.createElement("div",{className:"itemImage img-fill"},r.a.createElement("img",{className:"foodImage",alt:"Food",src:this.state.selectedItem.image})),r.a.createElement("div",{className:"itemName"},this.state.selectedItem.name),r.a.createElement("div",{className:"subItems"},JSON.parse(this.state.selectedItem.items).map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"subItemInfo"},t.tags.length>0&&r.a.createElement("span",null,"Info")),r.a.createElement("div",{className:"subItemOptions"},t.options.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:"optionText"},t.name),r.a.createElement("div",{className:"separator"})),t.options.map((function(t,n){return r.a.createElement(Ne,{populate:function(t){var r=e.state.optionsChosen;r[a]||(r[a]=[]),r[a][n]=t,e.setState({optionsChosen:r})},onSelection:function(t){var r=e.state.optionsChosen;r[a]||(r[a]=[]),r[a][n]=t,e.setState({optionsChosen:r})},key:n,option:t})}))))}))),1===this.state.selectedItem.specialInstructions&&r.a.createElement("div",{className:"specialInstructionsWrapper"},r.a.createElement("div",{className:"SIText"},"Special Instructions"),r.a.createElement("div",{className:"SIInput"},r.a.createElement("textarea",{onChange:function(t){e.setState({instructions:t.currentTarget.value})}}))),r.a.createElement("div",{className:"addToCartFAB",onClick:this.addToCart},r.a.createElement("span",null,"Add to Cart")," ",r.a.createElement("i",{className:"material-icons-round"},"shopping_cart")),r.a.createElement("div",{className:"itemsCost"},"$",R(this.state.selectedItem.price)," + ",R(this.calculatePrice())," = $",R(this.state.selectedItem.price+this.calculatePrice()))))),r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"backIcon"},r.a.createElement("i",{className:"material-icons-round",onClick:this.props.onBack},"arrow_back_ios")),r.a.createElement("div",{id:"restaurantSplash",className:"restaurantSplash img-fill"},r.a.createElement("img",{alt:"",src:this.props.restaurantData.banner}),r.a.createElement("div",{className:"restaurantTitle"},this.props.restaurantData.name)),r.a.createElement("div",{className:"restaurantDetails",onScroll:this.onContentScroll},r.a.createElement("div",{className:"restaurantInfo"},r.a.createElement("div",{className:"restaurantDescription"},this.props.restaurantData.description),r.a.createElement(ge,{restaurantData:this.restaurantData})),r.a.createElement("div",{className:"restaurantFood"},r.a.createElement("div",{className:"featuredMenu"},r.a.createElement("div",{className:"title"},"Popular Options"),r.a.createElement("div",{className:"scrollArea"},r.a.createElement("div",{className:"scrollCapFill"}),this.restaurantData.food.filter((function(e){return e.featured})).map((function(e,t){return r.a.createElement("div",{key:t,className:"featuredFoodItem"},r.a.createElement("div",{className:"contentContainer"}))})),r.a.createElement("div",{className:"scrollCapFill"}))),r.a.createElement("div",{className:"fullMenu"},r.a.createElement("div",{className:"title"},"Meal Options"),this.props.menuData.map((function(t,a){return r.a.createElement("div",{key:a,className:"menuItem",onClick:function(){return e.openItem(t)}},r.a.createElement("div",{className:"itemImage img-fill"},r.a.createElement("img",{className:"foodImage",alt:"",src:t.image})),r.a.createElement("div",{className:"itemContent"},r.a.createElement("div",{className:"name"},t.name),r.a.createElement("div",{className:"price"},"$",t.price)))})))))),r.a.createElement(ve,{onClick:function(){y().setScreen("Cart")}}))}}]),t}(r.a.Component),ye=(a(14),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).orderStates=["unclaimed","claimed","en route","arrived","completed"],a.state={order:null,orderState:"unclaimed",placed:null,claimed:null,enroute:null,arrived:null,wait:45},a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listenerId=this.props.messageListener.addListener((function(){e.fetchData()}))}},{key:"componentWillUnmount",value:function(){this.props.messageListener.removeListener(this.listenerId)}},{key:"makePHXTime",value:function(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/Phoenix"}))}},{key:"parseDate",value:function(e){if(null==e)return null;var t=e.split(/[- :]/),a=new Date(Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]));return this.formatTime(this.makePHXTime(a))}},{key:"formatTime",value:function(e){var t=e.getHours(),a=t>12?"PM":"AM";t=0==t?12:t>12?t-12:t;var n=e.getMinutes();return t+":"+(0==n?"00":n<10?"0"+n.toString():n)+a}},{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,s,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(this.props.apiToken);case 2:this.order=e.sent,console.log(this.order),null!=this.order&&(t=this.order.id,a=this.order.state,n=this.parseDate(this.order.placed),r=this.parseDate(this.order.claimed),s=this.parseDate(this.order.en_route),c=this.parseDate(this.order.arrived),o=(o=this.order.wait.toString()).substring(0,o.indexOf(".")),this.setState({order:t,orderState:a,placed:n,claimed:r,enroute:s,arrived:c,wait:o})),this.forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this,n=this.orderStates.indexOf(this.state.orderState);return null!=this.order?(e=r.a.createElement("div",{className:"flexDisplayRow",style:{height:"90%"}},r.a.createElement("div",{className:"flexDisplay trackerItems"},r.a.createElement("div",{className:"trackerText"},"Sent Request",r.a.createElement("div",{className:"trackerSubText"},this.state.placed)),r.a.createElement("div",{className:"trackerImage trackerConfirmed"+(n>=1?" trackerActive":"")}),r.a.createElement("div",{className:"trackerText"},"En Route",r.a.createElement("div",{className:"trackerSubText",style:n>=2?{}:{display:"none"}},this.state.enroute)),r.a.createElement("div",{className:"trackerImage trackerArrived"+(n>=3?" trackerActive":"")})),r.a.createElement("div",{className:"trackerBarVert"},r.a.createElement("div",{className:"progressDot trackerActive"})," ",r.a.createElement("div",{className:"progressLine"+(n>=1?" trackerActive":"")})," ",r.a.createElement("div",{className:"progressDot"+(n>=1?" trackerActive":"")}),r.a.createElement("div",{className:"progressLine"+(n>=2?" trackerActive":"")})," ",r.a.createElement("div",{className:"progressDot"+(n>=2?" trackerActive":"")}),r.a.createElement("div",{className:"progressLine"+(n>=3?" trackerActive":"")})," ",r.a.createElement("div",{className:"progressDot"+(n>=3?" trackerActive":"")})),r.a.createElement("div",{className:"flexDisplay trackerItems"},r.a.createElement("div",{className:"trackerImage trackerSentRequest trackerActive"}),r.a.createElement("div",{className:"trackerText"},"Order Claimed",r.a.createElement("div",{className:"trackerSubText",style:n>=1?{}:{display:"none"}},this.state.claimed)),r.a.createElement("div",{className:"trackerImage trackerEnroute"+(n>=2?" trackerActive":"")}),r.a.createElement("div",{className:"trackerText"},"Arrived",r.a.createElement("div",{className:"trackerSubText",style:n>=3?{}:{display:"none"}},this.state.arrived)))),t=r.a.createElement("div",{className:"orderTrackerFooter"},"Arriving in ",this.state.wait," minutes",r.a.createElement("div",{className:"messageButton",onClick:function(){return a.props.onMessageClick(a.state.order)}}))):e=r.a.createElement("div",{className:"noCurrentOrder"},"No active order"),r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Order Tracker"))),e,t)}}]),t}(r.a.Component)),we=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={orders:null},a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(this.props.apiToken);case 2:t=e.sent,console.log(this.props.apiToken+" "+t),this.setState({orders:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Incoming Orders"))),r.a.createElement("div",{className:"incomingOrderList"},null==this.state.orders?"Loading":this.state.orders.map((function(t,a){return r.a.createElement("div",{onClick:Object(v.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",e.props.openOrderScreen(t));case 1:case"end":return a.stop()}}),a)}))),key:a,className:"incomingOrder"},r.a.createElement("div",{className:"orderTitle"},t.restaurant_name),r.a.createElement("div",{className:"orderInfo"},t.address))}))))}}]),t}(r.a.Component),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={orders:null},a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(this.props.apiToken);case 2:t=e.sent,console.log(this.props.apiToken+" "+t),this.setState({orders:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Incoming Orders"))),r.a.createElement("div",{className:"incomingOrderList"},null==this.state.orders?"Loading":this.state.orders.map((function(t,a){return r.a.createElement("div",{onClick:Object(v.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",e.props.openOrderScreen(t));case 1:case"end":return a.stop()}}),a)}))),key:a,className:"incomingOrder"},r.a.createElement("div",{className:"orderTitle"},t.restaurant_name),r.a.createElement("div",{className:"orderInfo"},t.address))}))))}}]),t}(r.a.Component),Oe=a(47),Ie=a.n(Oe),Te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).fee=0,a.state={clientToken:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lopeseat.com/REST/requestToken.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,console.log(a),e.next=9,C(this.props.apiToken);case 9:n=e.sent,this.fee=n.delivery_fee,this.setState({clientToken:a}),this.forceUpdate();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pay",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.instance.isPaymentMethodRequestable()){e.next=8;break}return e.next=3,this.instance.requestPaymentMethod();case 3:return t=e.sent,a=t.nonce,e.next=7,L(a,this.props.address,this.props.apiToken);case 7:this.props.paymentComplete();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.clientToken?r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Checkout"))),r.a.createElement(Ie.a,{options:{authorization:this.state.clientToken,paypal:!0,venmo:!0},onInstance:function(t){return e.instance=t}}),r.a.createElement("div",{className:"cartFooter",style:{position:"fixed",bottom:0}},r.a.createElement("div",{className:"total"},"Delivery Fee",r.a.createElement("span",{className:"price"},"$",R(this.fee))),r.a.createElement("button",{className:"checkoutButton",onClick:this.pay.bind(this)},"Pay Now"))):r.a.createElement("div",null,r.a.createElement("h1",null,"Loading..."))}}]),t}(r.a.Component),xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).addressRef=r.a.createRef(a.props.address),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Delivery Details"))),r.a.createElement("div",{className:"deliveryFormContainer flex alignCenter"},r.a.createElement("div",{className:"addressInput"},r.a.createElement(X,{passedRef:this.addressRef,placeholder:"Address",defaultValue:this.props.address}))),r.a.createElement("button",{className:"doneButton",onClick:function(){return e.props.onNextStep(e.addressRef.current.value)}},"DONE"))}}]),t}(r.a.Component),De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={order:null,items:null},a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(this.props.apiToken,this.props.orderId);case 2:return t=e.sent,e.next=5,B(this.props.apiToken,this.props.orderId);case 5:a=e.sent,console.log(t),console.log(a),this.setState({order:t,items:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"claimOrder",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(this.props.apiToken,this.props.orderId,"claimed");case 2:(t=e.sent).success?this.fetchData():b([t.msg]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateState",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,F(this.props.apiToken,this.props.orderId,t);case 3:(n=e.sent).success?a&&this.fetchData():b([n.msg]);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(null==this.state.order)return r.a.createElement("span",null,"Loading");var t=null;return"unclaimed"===this.state.order.state?t=r.a.createElement("button",{className:"checkoutButton",onClick:function(){return e.claimOrder()}},"Accept"):"claimed"===this.state.order.state?t=r.a.createElement("button",{className:"checkoutButton",onClick:function(){return e.props.openPayment(e.props.orderId)}},"Ready To Pay"):"en route"===this.state.order.state?t=r.a.createElement("button",{className:"checkoutButton",onClick:function(){return e.updateState("arrived")}},"Arrived"):"arrived"===this.state.order.state&&(t=r.a.createElement("button",{className:"checkoutButton",onClick:function(){e.updateState("completed",!1),e.props.completeOrder()}},"Complete Order")),r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},this.state.order.restaurant_name))),r.a.createElement("div",{className:"orderAddress"},this.state.order.address),r.a.createElement("div",{className:"cartList"},this.state.items.map((function(e,t){return r.a.createElement("div",{className:"cartItem",key:t},r.a.createElement("div",{className:"imageHolder img-fill"},r.a.createElement("img",{alt:"test",src:e.image})),r.a.createElement("div",{className:"cartItemInfo"},r.a.createElement("div",{className:"cartItemHeader"},r.a.createElement("span",{className:"cartItemName"},e.name," x",e.amount),r.a.createElement("span",{className:"cartItemPrice"},"$",R(e.price*e.amount))),r.a.createElement("div",{className:"cartItemDescription"},e.comment)))}))),r.a.createElement("div",{className:"cartFooter"},r.a.createElement("div",{className:"total"},"Total",r.a.createElement("span",{className:"price"},"$",R(this.state.order.total))),r.a.createElement("div",{className:"buttonsFlex"},t,r.a.createElement("div",{className:"messageButtonFlex",onClick:function(){return e.props.onMessageClick(e.props.orderId)}}))))}}]),t}(r.a.Component),je=(a(70),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={studentId:"20552343",image:null},a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(this.props.apiToken,this.props.orderId);case 2:t=e.sent,console.log(t),this.setState({studentId:t.student_id,image:t.deliverer_image});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"paymentComplete",value:function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(this.props.apiToken,this.props.orderId,"en route");case 2:this.props.paymentComplete(this.props.orderId);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"paymentLogo",src:a(106)}))),r.a.createElement("div",{className:"paymentContent"},r.a.createElement("img",{className:"delivererImage",src:this.state.image})),r.a.createElement("div",{className:"cartFooter"},r.a.createElement("div",{className:"buttonsFlex"},r.a.createElement("button",{className:"checkoutButton",onClick:function(){return e.paymentComplete()}},"Payment Complete"),r.a.createElement("div",{className:"messageButtonFlex",onClick:function(){return e.props.onMessageClick(e.props.orderId)}}))))}}]),t}(r.a.Component)),Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).items=[],a.subtotal=0,a.tax=0,a.total=0,a.fee=0,a.fetchData(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(this.props.apiToken);case 2:return this.items=e.sent,console.log(this.items),e.next=6,C(this.props.apiToken);case 6:t=e.sent,this.subtotal=t.subtotal,this.total=t.total,this.tax=t.tax,this.fee=t.delivery_fee,this.forceUpdate();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},"Cart"))),r.a.createElement("div",{className:"cartList"},this.items.map((function(e,t){return r.a.createElement("div",{className:"cartItem",key:t},r.a.createElement("div",{className:"imageHolder img-fill"},r.a.createElement("img",{alt:"test",src:e.image})),r.a.createElement("div",{className:"cartItemInfo"},r.a.createElement("div",{className:"cartItemHeader"},r.a.createElement("span",{className:"cartItemName"},e.name),r.a.createElement("span",{className:"cartItemPrice"},"$",R(e.price*e.amount))),r.a.createElement("div",{className:"cartItemDescription"},e.comment,r.a.createElement("br",null),"x",e.amount)))}))),r.a.createElement("div",{className:"cartFooter"},r.a.createElement("div",{className:"subtotal"},"Subtotal",r.a.createElement("span",{className:"price"},"$",R(this.subtotal))),r.a.createElement("div",{className:"subtotal"},"Tax & fees",r.a.createElement("span",{className:"price"},"$",R(this.tax))),r.a.createElement("div",{className:"total"},"Total (Dining Dollars)",r.a.createElement("span",{className:"price"},"$",R(this.total))),r.a.createElement("div",{className:"total"},"Delivery Fee",r.a.createElement("span",{className:"price"},"$",R(this.fee))),r.a.createElement("button",{className:"checkoutButton",onClick:function(){return e.props.onNextStep()}},"Checkout")))}}]),t}(r.a.Component),Re=a(123),Ae=a(48),Me=a.n(Ae),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.fetchData(),a.state={selfId:-1,selfName:"",otherId:-1,otherName:"",messages:[]},a.messageRef=r.a.createRef(),Re.a.addLocale(Me.a),a.timeAgo=new Re.a("en-US"),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listenerId=this.props.messageListener.addListener((function(){e.fetchData()}))}},{key:"componentWillUnmount",value:function(){this.props.messageListener.removeListener(this.listenerId)}},{key:"fetchData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(this.props.apiToken,this.props.orderId);case 2:t=e.sent,console.log(t),!1!==t.success&&(a=t.selfId,n=t.selfName,r=t.otherId,s=t.otherName,c=t.messages,this.setState({selfId:a,selfName:n,otherId:r,otherName:s,messages:c}),this.forceUpdate(),this.messageEnd.scrollIntoView());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makePHXTime",value:function(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/Phoenix"}))}},{key:"parseDate",value:function(e){var t=e.split(/[- :]/),a=new Date(Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]));return this.makePHXTime(a)}},{key:"formatDate",value:function(e){var t=e.getHours(),a=t>12?"PM":"AM";t=0==t?12:t>12?t-12:t;var n=e.getMinutes();return t+":"+(0==n?"00":n<10?"0"+n.toString():n)+a}},{key:"render",value:function(){for(var e=this,t=[],a=null,n=0;n<this.state.messages.length;n++){var s=this.state.messages[n],c="messageContainer"+(s.sender===this.state.selfId?" right":""),o=this.parseDate(s.time);null!=a&&o.getDate()!=this.parseDate(a.time).getDate()&&t.push(r.a.createElement("div",{className:"newDayLine",key:2*n},r.a.createElement("span",{className:"horizontalLine"}),(new Date).getDate()===o.getDate()?"Today":this.days[o.getDay()],r.a.createElement("span",{className:"horizontalLine"}))),t.push(r.a.createElement("div",{className:c,key:2*n+1},r.a.createElement("div",{className:"messageChunk"},r.a.createElement("div",{className:"messageInfo"},this.formatDate(o)),r.a.createElement("div",{className:"messageBubble"},s.message)))),a=s}return t.push(r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messageEnd=t},key:2*this.state.messages.length})),r.a.createElement("div",{className:"flexDisplay fillHeight"},r.a.createElement("div",{className:"restaurantTop"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon material-icons-round",onClick:this.props.onBack},"arrow_back_ios"),r.a.createElement("span",{className:"screenTitle"},this.state.otherName))),r.a.createElement("span",{className:"horizontalLine"}),r.a.createElement("div",{className:"messageScroll"},t),r.a.createElement("span",{className:"horizontalLine",style:{position:"absolute",bottom:"3.5em"}}),r.a.createElement("div",{className:"messageBox"},r.a.createElement("div",{className:"messageBoxContainer"},r.a.createElement("input",{className:"messageInput",ref:this.messageRef,type:"text",placeholder:"Message "+this.state.otherName})),r.a.createElement("div",{className:"sendMessage",onClick:function(){U(e.props.apiToken,e.props.orderId,e.messageRef.current.value),e.messageRef.current.value="",e.fetchData()}},r.a.createElement("i",{className:"material-icons-round"},"send"))))}}]),t}(r.a.Component),Pe=function(e){function t(e){var a,n;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setScreen=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e!==a.state.screen){var n=a.state.screenHistory;t&&(n.push(e),I()),a.setState({screenHistory:n,screen:e})}},a.backScreen=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!a.noBack){if(e)return void window.history.back();var t=a.state.screenHistory;t.pop(),0===t.length&&(t=[a.state.baseScreen]),a.setState({screenHistory:t,screen:Object(p.a)(t).pop()})}},a.newHistory=function(e){a.noBack=!0;for(var t=0;t<a.state.screenHistory.length-1;t++)window.history.back();a.setState({screenHistory:[e],screen:e,baseScreen:e}),a.noBack=!1},a.noBack=!1,a.state={registerData:{phone:"",password:"",firstName:"",lastName:"",email:"",studentNumber:"",profileImage:""},apiToken:"",orderId:-1,address:"",currentRestaurant:null,currentMenu:null,currentOrder:-1,screen:"Login",baseScreen:"Login",screenHistory:["Login"],deliveryMode:!1},n=a.backScreen,window.addEventListener("popstate",(function(){n(!1)})),window.getScreenHandler=function(){return Object(d.a)(a)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t,a=this;this.state.apiToken&&(e=this.state,t="screenHandler",localStorage.setItem("lastAppState"+t,JSON.stringify(e)));var s={Login:r.a.createElement($,{fbToken:this.props.fbToken,apiToken:A("screenHandler")&&A("screenHandler").apiToken?A("screenHandler").apiToken:void 0,formSwitch:function(){return a.setState({screen:"Register"})},onLogin:function(e){a.newHistory("HomeScreen");var t=A("screenHandler");if(t&&t.screenHistory)for(var n=1;n<t.screenHistory.length;n++)I();a.setState(t),a.setState({apiToken:e})},onNotConfirmed:function(e){a.setState({registerData:{phone:e}}),a.newHistory("PhoneConfirm")},onForgotPassword:function(){a.setState({})}}),Register:r.a.createElement(ee,{formSwitch:function(){return a.setState({screen:"Login"})},proceedRegistration:function(e,t){a.setState({registerData:{phone:e,password:t}}),a.setScreen("PersonalInformation")}}),PersonalInformation:r.a.createElement(oe,{onNextStep:function(e,t,n,r,s){a.setState({registerData:{firstName:e,lastName:t,email:n,studentNumber:r,profileImage:s,phone:a.state.registerData.phone,password:a.state.registerData.password}}),a.setScreen("VerifyPhone")},onBackStep:function(){a.backScreen()}}),VerifyPhone:r.a.createElement(ie,{phone:this.state.registerData.phone,onBackStep:function(){a.backScreen()},onNextStep:function(e){a.setState({registerData:{phone:e,firstName:a.state.registerData.firstName,lastName:a.state.registerData.lastName,email:a.state.registerData.email,studentNumber:a.state.registerData.studentNumber,profileImage:a.state.registerData.profileImage,password:a.state.registerData.password}}),a.newHistory("PhoneConfirm"),g(e,a.state.registerData.firstName,a.state.registerData.lastName,a.state.registerData.email,a.state.registerData.studentNumber,a.state.registerData.password,a.state.registerData.profileImage)}}),PhoneConfirm:r.a.createElement(le,{phone:this.state.registerData.phone,onNextStep:function(){a.newHistory("HomeScreen")}}),ForgotPassword:r.a.createElement(ue,null),HomeScreen:r.a.createElement(de,{tileNavigation:[["IncomingOrders","ActiveOrders","SwitchMode","LeaderBoard","CompletedOrders","Profile"],["RestaurantsList","RecentOrders","SwitchMode","OrderTracker","Updates","Profile"]],onMenuItemClick:function(e){a.setScreen(e)},deliveryMode:this.state.deliveryMode,switchModes:function(){return a.setState({deliveryMode:!a.state.deliveryMode})}}),RestaurantsList:r.a.createElement(ke,{onBack:this.backScreen,openRestaurantScreen:function(e,t){a.setState({currentRestaurant:e,currentMenu:t}),a.setScreen("RestaurantDetails")},onCartClick:function(){a.setScreen("Cart")}}),RestaurantDetails:r.a.createElement(be,{restaurantData:this.state.currentRestaurant,menuData:this.state.currentMenu,onBack:function(){a.backScreen()}}),Cart:r.a.createElement(Ce,{onBack:this.backScreen,apiToken:this.state.apiToken,onNextStep:function(){a.setScreen("DeliveryDetails")}}),DeliveryDetails:r.a.createElement(xe,{address:this.state.address,onBack:this.backScreen,onNextStep:function(e){a.setState({address:e}),a.setScreen("CheckoutScreen")}}),CheckoutScreen:r.a.createElement(Te,{address:this.props.address,onBack:this.backScreen,apiToken:this.state.apiToken,paymentComplete:function(){a.setScreen("HomeScreen")}}),OrderTracker:r.a.createElement(ye,{apiToken:this.state.apiToken,messageListener:this.props.messageListener,onBack:function(){a.backScreen()},onMessageClick:function(e){a.setState({orderId:e}),a.setScreen("Message")}}),Message:r.a.createElement(Le,{messageListener:this.props.messageListener,apiToken:this.state.apiToken,orderId:this.state.orderId,onBack:this.backScreen}),IncomingOrders:r.a.createElement(we,{onBack:this.backScreen,apiToken:this.state.apiToken,openOrderScreen:function(e){a.setState({currentOrder:e.id}),a.setScreen("OrderScreen")}}),OrderScreen:r.a.createElement(De,{apiToken:this.state.apiToken,onBack:this.backScreen,orderId:this.state.currentOrder,openPayment:function(e){a.setState({currentOrder:e}),a.setScreen("PaymentScreen",!1)},completeOrder:function(){a.setScreen("HomeScreen",!1)},onMessageClick:function(e){a.setState({orderId:e}),a.setScreen("Message")}}),PaymentScreen:r.a.createElement(je,{apiToken:this.state.apiToken,onBack:this.backScreen,orderId:this.state.currentOrder,onMessageClick:function(e){a.setState({orderId:e}),a.setScreen("Message")},paymentComplete:function(e){a.setState({currentOrder:e}),a.setScreen("OrderScreen",!1)}}),ActiveOrders:r.a.createElement(Se,{onBack:this.backScreen,apiToken:this.state.apiToken,openOrderScreen:function(e){a.setState({currentOrder:e.id}),a.setScreen("OrderScreen")}})};return r.a.createElement(n.Fragment,null,s[this.state.screen])}}]),t}(r.a.Component),Be=a(26),He=a.n(Be),Ue=(a(119),function(){function e(){Object(o.a)(this,e),this.callbacks=[]}return Object(i.a)(e,[{key:"addListener",value:function(e){var t=this.callbacks.length;return this.callbacks.push(e),console.log("Registered message listener "+t),t}},{key:"removeListener",value:function(e){this.callbacks.splice(e,1)}},{key:"messageReceived",value:function(e){console.log(this.callbacks);for(var t=0;t<this.callbacks.length;t++)this.callbacks[t]()}}]),e}()),We=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).fbToken="",a.messageListener=new Ue,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Pe,{fbToken:this.fbToken,messageListener:this.messageListener}))}},{key:"setToken",value:function(e){this.fbToken=e,console.log(e),this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;if(console.log("mount"),He.a.messaging.isSupported()){He.a.initializeApp({apiKey:"AIzaSyBIOzolcjUlgx5x5ca3zCg3DBPwYftV-kY",authDomain:"test-96cdc.firebaseapp.com",databaseURL:"https://test-96cdc.firebaseio.com",projectId:"test-96cdc",storageBucket:"test-96cdc.appspot.com",messagingSenderId:"890647037957",appId:"1:890647037957:web:9bf7066436852592d3346c"});var t=this,a=He.a.messaging();a.usePublicVapidKey("BMJ-dBS0EPnykDWroTRbq8rcNq6Yh2NHHLxAAerrZQk67sdvDlbOTY_WR-4cyoxjeMN6JlHsDP6sohMKu8ap784"),console.log("Requesting permission"),Notification.requestPermission().then((function(){console.log("Permission "+Notification.permission);var e=a.getToken();return console.log(e),e})).then((function(e){console.log(e),t.setToken(e)})).catch((function(e){console.log(e)})),a.onMessage((function(t){console.log("Message received. ",t),e.messageListener.messageReceived(t.data)}))}}}]),t}(r.a.Component),Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(We,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ge?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Fe(t,e)}))}}()},14:function(e,t,a){},15:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAABHNCSVQICAgIfAhkiAAABT9JREFUeJzlm0tPG1cYht8Z3EAA17JQC74kpYa4TWNTlcFAMMheQFWlRVlUDotKUbMIXVbqqov8ANQFe1A3URWpSVaRokoVXhBaq4XIVWQkFgjcODDYBhnHGDe2MXUXMNR2fJnLmcFDHokFI3G+o0ffnHNm5oUCT64PDni+0Gg8ulxGn9A0xufz8N7z+Wb5/v2ZYdo9MsM2n8uX/ky7R2ZOe26KUknEGyeklog3RghfEWdJSEO5i9PukZmJpcVJIQPZWJYxO4eMvz5/8ZjM1JTnNRliRHCoXUiRDCkiONQs5EQGCREcahXSAJAVwaFGIQ1yiOBQmxCKbT6Xl7vI/f6B2e/mf/tG7jpSoZUoMrG0OHnH5ZpSopYUFOkMjs/MnX3Lq6t+peoJRZHO4HB3tI8qWU8oisrQUbReyXpCoQPd3Yq17d+5XFCpWmKgk83NcSUKJXTa+KNnzx4qUUssdKCxRfbOSOi08Qlt29h+KqWIeLHQify/sk6QE1HPuwgHHUjuyzZJNYkAAHp9OyLLoqY2EQBAAcCKoW1Xl0gS2/bUKAI4Pmf4uj70khpQrSKAYxkBmiYycTWLAI5lzEeikjtD7SKA4zUDABYvWdbN7KZFzCBnQQRQ8GziM5lEd8dZEAEUyHiSzoqWccvYLsubMqWhCn+Rcquo5W1WNYo+FXTYe4yOrc1hMQOp7X1nOYpkBHPZ4O30q2/FDqZ2IUUy9pL78UHmk+GL0aioWwVQt5DXPi9uv9Me/jK2c1PKoGoVQpW7KGUhLURti2rZr/CvLn+UHotsjUsdXG0dUrYzAHLdAainQ8p2BgDsWK3hz6MRD4kicnZIa0uL/qrNNtxpMFhiyWQ8e3CQJl0DAPBgsG9OSHpH6XTPHZdrqnD8FUPbrpQvdxU7AwD+yOd9Nxo1N5sy2fNiCxRCskOm3SMzXz/9s+hM1JTJnndsbQ6LrVFVxl5yP65n+vViT6XlICGkVnJAbI2qMgBgIRTyjl3+YLx9d9coZOBqSBHCN0IhpkZNGQAQ0On949Shh9TtAoibrNAsidAavGRsx2Lhlx/3xkmcPQoRMlmxoRohNXjJAIDljQ2/2TlktLEsI3RC1eAzWanpIr5CeMsAAN9OzOfqtoySXD+A6pMlFbPiI0SQjOzBQfqJRuMlud1ylJss6bxZLSGCZABH2+2C8YKX9IIKFE9WruBdNSEVn01qYbdamfvJ2BzJL3EcmyZzkNRzUSXKPS8J7gwOuXYYAHg7uSd7wqdch4iWARztMHPvdz2W45ZRAhvLMtH+wfDyxoYfIJDpWl5d9U9o28YSOm1dB1Eqcf0wc/JkLnrNKMVutTI/NGlmetbWiJ5DlMD0T5YCCKb9lldX/Z710NgvvY66zm2VUtjRRKOP+6lU/PbvvhtTfQPfkxxXTgrjGMRuk1LsVivzYz73QO4tUgoJnTb+KX2ub5MNBwGJu0k1tmOx8M+Z7E8axwBIvg8hBZccWHseWuGuySYDODq+L4RCXr+tx3dJr7tC+plGLJUiFLLK4AhFIsF70Z3Zg6tDaXtqjznNM0m1LIkiMjiWQi98d/P0rMYxAGsqcUVpKbVCNYrKAP6/de7m6dlUnyPeSVEWJY7ffNJFsu0mQvjK6Zx0Uxi99tdTIt9pSuEbs6oLGRytLS36W0zv5LWXMQ+pk6yQvFldySjEbDJYXJ2WUeYtmnGy7KiY84rQ4F3dyijFbDJYmAsXGXtjE/PeYc6iy2X0zkCg4n82iUkgqkZGJcwmg6Xr3Y6TrunRtjI6itY/CocfnoUE4qnxH7mvYIt1BzVCAAAAAElFTkSuQmCC"},30:function(e,t,a){e.exports=a.p+"static/media/lopeseaticon.3ff8e6db.png"},41:function(e,t,a){e.exports=a.p+"static/media/eye-grey.64a6476e.svg"},42:function(e,t,a){e.exports=a.p+"static/media/eye-purple.cda84626.svg"},43:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTktMTEtMTJUMTE6Mjk6MjktMDc6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjMxYTViYmMtNDVkZC1kMjQ1LWEzOTItZjY1OGVkZWIyNTkyIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTExOWMyYmQtMGExZS1jNzQwLTliZWYtZTlhYmIyMThhNDQyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzhiZDgwZjQtYTkwYy03NTQzLWIzNTAtNDBiZTBkYTRlNGJiIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OGJkODBmNC1hOTBjLTc1NDMtYjM1MC00MGJlMGRhNGU0YmIiIHN0RXZ0OndoZW49IjIwMTktMTEtMTJUMTE6Mjk6MjktMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYzMWE1YmJjLTQ1ZGQtZDI0NS1hMzkyLWY2NThlZGViMjU5MiIgc3RFdnQ6d2hlbj0iMjAxOS0xMS0xMlQxMToyOToyOS0wNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45aGFEAAAADUlEQVQImWP4//8/AwAI/AL+hc2rNAAAAABJRU5ErkJggg=="},45:function(e,t,a){e.exports=a.p+"static/media/gcu-lopesway.d0f43698.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/search-grey.f0b37b8a.svg"},49:function(e,t,a){e.exports=a(118)},54:function(e,t,a){},56:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.a18fade1.chunk.js.map